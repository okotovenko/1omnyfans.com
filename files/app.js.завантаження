(function(){var e={964779:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"stream-new-like",style:{left:e.left+"px",top:e.top}},[s("svg",{directives:[{name:"svg-sprite",rawName:"v-svg-sprite"}],staticClass:"icon-like",style:{left:e.iconLeft+"px"}})])},a=[],i={name:"StreamingLike",props:{startLeft:{type:Number,required:!0},startTop:{type:[String,Number],required:!0}},data(){return{left:this.startLeft,top:Number.isNaN(this.startTop)?this.startTop:`${this.startTop}px`,iconLeft:0}},mounted(){this.animate()},destroyed(){cancelAnimationFrame(this.animationId)},methods:{animate(){setTimeout((()=>{this.animationId=requestAnimationFrame(this.animate)}),1e3/30),this.iconLeft+=this.getRandomInt(-3,4)},getRandomInt(e,t){return Math.floor(Math.random()*(t-e))+e}}},n=i,o=s(801001),c=(0,o.Z)(n,r,a,!1,null,"5ca7780e",null),d=c.exports},94739:function(e,t,s){var r={"./af.js":[915903,15903],"./am.js":[329911,29911],"./ar-dz.js":[47200,47200],"./ar-iq.js":[487719,87719],"./ar-kw.js":[62376,62376],"./ar-ly.js":[848540,48540],"./ar-ma.js":[996817,96817],"./ar-sa.js":[511573,11573],"./ar-tn.js":[599339,99339],"./ar.js":[963939,63939],"./az.js":[888092,88092],"./be.js":[960504,60504],"./bg.js":[119091,19091],"./bi.js":[419149,19149],"./bm.js":[415287,15287],"./bn-bd.js":[654067,54067],"./bn.js":[35254,35254],"./bo.js":[852502,52502],"./br.js":[308864,8864],"./bs.js":[604502,4502],"./ca.js":[333646,33646],"./cs.js":[498507,98507],"./cv.js":[916636,16636],"./cy.js":[228792,28792],"./da.js":[917427,17427],"./de-at.js":[373237,73237],"./de-ch.js":[716148,16148],"./de.js":[180790,80790],"./dv.js":[911794,11794],"./el.js":[565423,65423],"./en-au.js":[885109,85109],"./en-ca.js":[55105,55105],"./en-gb.js":[899517,99517],"./en-ie.js":[230758,30758],"./en-il.js":[995805,95805],"./en-in.js":[388529,88529],"./en-nz.js":[250302,50302],"./en-sg.js":[935941,35941],"./en-tt.js":[746183,46183],"./en.js":[125054,25054],"./eo.js":[474990,74990],"./es-do.js":[603864,3864],"./es-mx.js":[337118,37118],"./es-pr.js":[723521,23521],"./es-us.js":[636165,36165],"./es.js":[667763,67763],"./et.js":[599670,99670],"./eu.js":[946629,46629],"./fa.js":[596953,96953],"./fi.js":[847822,47822],"./fo.js":[269197,69197],"./fr-ca.js":[477989,77989],"./fr-ch.js":[454254,54254],"./fr.js":[496023,96023],"./fy.js":[793220,93220],"./ga.js":[47467,47467],"./gd.js":[754855,54855],"./gl.js":[290229,90229],"./gom-latn.js":[646312,46312],"./gu.js":[287632,87632],"./he.js":[645418,45418],"./hi.js":[577573,77573],"./hr.js":[496257,96257],"./ht.js":[698889,98889],"./hu.js":[968562,68562],"./hy-am.js":[38242,38242],"./id.js":[83783,83783],"./is.js":[998980,98980],"./it-ch.js":[283706,83706],"./it.js":[715551,15551],"./ja.js":[176831,76831],"./jv.js":[542641,42641],"./ka.js":[246622,46622],"./kk.js":[32921,32921],"./km.js":[845567,45567],"./kn.js":[321113,21113],"./ko.js":[919132,19132],"./ku.js":[994888,94888],"./ky.js":[660466,60466],"./lb.js":[891796,91796],"./lo.js":[468894,68894],"./lt.js":[78768,78768],"./lv.js":[630953,30953],"./me.js":[818066,18066],"./mi.js":[268602,68602],"./mk.js":[951560,51560],"./ml.js":[404017,4017],"./mn.js":[894717,94717],"./mr.js":[15473,15473],"./ms-my.js":[177387,77387],"./ms.js":[505742,5742],"./mt.js":[828477,28477],"./my.js":[462966,62966],"./nb.js":[119682,19682],"./ne.js":[14149,14149],"./nl-be.js":[737496,37496],"./nl.js":[899182,99182],"./nn.js":[992722,92722],"./oc-lnc.js":[776159,76159],"./pa-in.js":[135914,35914],"./pl.js":[581987,81987],"./pt-br.js":[457548,57548],"./pt.js":[515001,15001],"./rn.js":[300123,123],"./ro.js":[318146,18146],"./ru.js":[270600,70600],"./rw.js":[206509,6509],"./sd.js":[465437,65437],"./se.js":[200772,772],"./si.js":[277109,77109],"./sk.js":[935627,35627],"./sl.js":[382544,82544],"./sq.js":[588341,88341],"./sr-cyrl.js":[137101,37101],"./sr.js":[450617,50617],"./ss.js":[864127,64127],"./sv-fi.js":[819911,19911],"./sv.js":[991876,91876],"./sw.js":[146148,46148],"./ta.js":[255596,55596],"./te.js":[45159,45159],"./tet.js":[799157,99157],"./tg.js":[509928,9928],"./th.js":[262019,62019],"./tk.js":[675817,75817],"./tl-ph.js":[46513,46513],"./tlh.js":[997296,97296],"./tr.js":[373035,73035],"./tzl.js":[557797,57797],"./tzm-latn.js":[330261,30261],"./tzm.js":[284722,84722],"./ug-cn.js":[580313,80313],"./uk.js":[564144,64144],"./ur.js":[592957,92957],"./uz-latn.js":[98727,98727],"./uz.js":[307486,7486],"./vi.js":[337553,37553],"./x-pseudo.js":[955321,55321],"./yo.js":[114724,14724],"./zh-cn.js":[533852,33852],"./zh-hk.js":[502390,2390],"./zh-tw.js":[543901,43901],"./zh.js":[132009,32009]};function a(e){if(!s.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return s.e(t[1]).then((function(){return s.t(a,23)}))}a.keys=function(){return Object.keys(r)},a.id=94739,e.exports=a},888638:function(e,t,s){"use strict";s.d(t,{$t:function(){return a},BA:function(){return l},Ck:function(){return u},L5:function(){return n},UG:function(){return d},V4:function(){return o},ok:function(){return i},sB:function(){return c}});var r=s(532622);const a=e=>r.ZP.post(`${r.tW}/trials/claim`,{code:e}).then((e=>e.data)),i=e=>r.ZP.post(`${r.tW}/trials/check`,{code:e,reserve:!0}).then((e=>e.data)),n=e=>r.ZP.post(`${r.tW}/promotions/claim`,{code:e,strictAuthCheck:1}).then((e=>e.data)),o=e=>r.ZP.get(`${r.tW}/promotions/offer/${e}`).then((e=>e.data)),c=e=>r.ZP.post(`${r.tW}/users/restore-access`,{code:e}).then((e=>e.data)),d=(e,t={})=>r.ZP.get(`${r.tW}/emails/confirm/${e}${(0,r.XP)(t)}`).then((e=>e.data)),u=e=>r.ZP.post(`${r.tW}/users/clicks-stats`,e).then((e=>e.data)),l=(e,t="view")=>r.ZP.get(`${r.tW}/gdpr/${e}${(0,r.XP)({op:t})}`).then((e=>e.data))},97386:function(e,t,s){"use strict";s.d(t,{To:function(){return u},UC:function(){return l},be:function(){return m},cN:function(){return d},jK:function(){return c},pP:function(){return o},uf:function(){return i},x4:function(){return a},z2:function(){return n}});var r=s(532622);const a=e=>r.ZP.post(`${r.tW}/users/login`,e).then((e=>e.data)),i=()=>r.ZP.post(`${r.tW}/users/logout`).then((e=>e.data)),n=e=>r.ZP.post(`${r.tW}/users/register`,e).then((e=>e.data)),o=e=>r.ZP.get(`${r.tW}/users/login-as-referral/${e}`).then((e=>e.data)),c=()=>r.ZP.get(`${r.tW}/users/logout-from-referral`).then((e=>e.data)),d=()=>r.ZP.get(`${r.tW}/oauth/confirm`).then((e=>e.data)),u=()=>r.ZP.get(`${r.tW}/access-token`).then((e=>e.data)),l=()=>r.ZP.get(`${r.tW}/webauthn/credentials`).then((e=>e.data)),m=e=>r.ZP["delete"](`${r.tW}/webauthn/credentials`,{data:e}).then((e=>e.data))},398563:function(e,t,s){"use strict";s.d(t,{Bw:function(){return d},CP:function(){return u},GG:function(){return y},Jd:function(){return o},KD:function(){return f},Pz:function(){return p},SH:function(){return v},VN:function(){return S},cD:function(){return i},do:function(){return b},iO:function(){return m},id:function(){return I},jA:function(){return l},jV:function(){return n},mt:function(){return h},oY:function(){return w},t1:function(){return P},uI:function(){return g},ys:function(){return c}});var r=s(532622),a=s(427166);const i=()=>r.ZP.get(`${r.tW}/payouts/account`).then((e=>e.data)),n=e=>r.ZP.post(`${r.tW}/payouts/account`,e).then((e=>e.data)),o=()=>r.ZP.get(`${r.tW}/payouts/legal`).then((e=>(0,a.P)(e.data))),c=e=>r.ZP.post(`${r.tW}/payouts/legal`,e).then((e=>e.data)),d=e=>r.ZP.post(`${r.tW}/payouts/legal/twitter`,e).then((e=>e.data)),u=e=>r.ZP.post(`${r.tW}/payouts/legal/instagram`,e).then((e=>e.data)),l=()=>r.ZP.post(`${r.tW}/iv/skip-secondary`).then((e=>e.data)),m=(e={})=>r.ZP.get(`${r.tW}/payouts/bank${(0,r.XP)(e)}`).then((e=>e.data)),h=()=>r.ZP.get(`${r.tW}/payouts/other/bank`).then((e=>e.data)),f=e=>r.ZP.post(`${r.tW}/payouts/bank`,e).then((e=>e.data)),p=e=>r.ZP.patch(`${r.tW}/payouts/bank`,e).then((e=>e.data)),g=()=>r.ZP["delete"](`${r.tW}/payouts/bank`).then((e=>e.data)),y=()=>r.ZP.get(`${r.tW}/payouts/stripe`).then((e=>e.data)),v=()=>r.ZP.get(`${r.tW}/payouts/stripe/legal`).then((e=>e.data)),P=e=>r.ZP.post(`${r.tW}/payouts/stripe/legal`,e).then((e=>e.data)),S=(e=!1)=>r.ZP.get(`${r.tW}/payouts/stripe/account${e?"-edit":""}`).then((e=>e.data)),w=e=>r.ZP.post(`${r.tW}/payouts/stripe/account`,e).then((e=>e.data)),b=e=>r.ZP.get(`${r.tW}/zip/${e}/state`).then((e=>e.data)),I=(e,t)=>r.ZP.post(`${r.tW}/address`,e,{cancelToken:t}).then((({data:e})=>e))},410697:function(e,t,s){"use strict";s.d(t,{AT:function(){return m},DP:function(){return o},GO:function(){return u},JK:function(){return v},Jn:function(){return T},O4:function(){return p},Re:function(){return S},SL:function(){return y},SR:function(){return x},U2:function(){return $},XC:function(){return k},ad:function(){return I},ae:function(){return f},bG:function(){return d},bh:function(){return g},cJ:function(){return C},d9:function(){return w},dU:function(){return F},j2:function(){return M},kd:function(){return P},lg:function(){return A},mb:function(){return n},o8:function(){return i},qP:function(){return l},rY:function(){return _},sl:function(){return c},tY:function(){return b},tx:function(){return h},yq:function(){return L},zG:function(){return a}});var r=s(532622);const a=({limit:e=r.P9,offset:t=0,listId:s,...a}={},i)=>r.ZP.get(`${r.tW}/chats${(0,r.XP)({limit:e,offset:t,list_id:s,skip_users:"all",...a})}`,{cancelToken:i}).then((e=>e.data)),i=({limit:e=r.P9,offset:t=0,skipUsers:s,...a},i)=>r.ZP.get(`${r.tW}/chats/users${(0,r.XP)({limit:e,offset:t,skip_users:s,skip_users_dups:s?void 0:1,...a})}`,{cancelToken:i}).then((e=>e.data)),n=e=>r.ZP.get(`${r.tW}/chats/${encodeURIComponent(e)}?skip_users=all`).then((e=>e.data)),o=(e,{limit:t=r.P9,groupId:s,skipUsers:a,order:i="desc",...n}={})=>r.ZP.get(`${r.tW}/chats/${encodeURIComponent(e)}/messages${(0,r.XP)({limit:t,group_id:s,order:i,skip_users:a,skip_users_dups:a?void 0:1,...n})}`).then((e=>e.data)),c=(e,t={})=>r.ZP.get(`${r.tW}/chats/${encodeURIComponent(e)}/messages/search${(0,r.XP)(t)}`).then((e=>e.data)),d=(e,t)=>r.ZP.post(`${r.tW}/chats/${e}/messages`,t).then((e=>e.data)),u=e=>r.ZP["delete"](`${r.tW}/chats/${e}`).then((e=>e.data)),l=(e,t)=>r.ZP["delete"](`${r.tW}/messages/${e}`,{data:{withUserId:t}}).then((e=>e.data)),m=e=>r.ZP.get(`${r.tW}/messages/${e}`).then((e=>e.data)),h=()=>r.ZP.get(`${r.tW}/messages/queue`).then((e=>e.data)),f=(e,t="scheduled",s)=>r.ZP.get(`${r.tW}/messages/queue/${e}${(0,r.XP)({format:t})}`,{cancelToken:s}).then((e=>e.data)),p=e=>r.ZP.post(`${r.tW}/messages/queue`,e).then((e=>e.data)),g=(e,t)=>r.ZP.put(`${r.tW}/messages/queue/${t}`,e).then((e=>e.data)),y=e=>r.ZP["delete"](`${r.tW}/messages/queue/${e}`).then((e=>e.data)),v=e=>r.ZP.post(`${r.tW}/chats/${e}/mark-as-read`).then((e=>e.data)),P=e=>r.ZP["delete"](`${r.tW}/chats/${e}/mark-as-read`).then((e=>e.data)),S=e=>r.ZP.post(`${r.tW}/chats/mark-as-read`,{data:{currentFiltersIds:e}}).then((e=>e.data)),w=(e,t)=>r.ZP.post(`${r.tW}/messages/${e}/like`,{withUserId:t}).then((e=>e.data)),b=(e,t)=>r.ZP["delete"](`${r.tW}/messages/${e}/like`,{data:{withUserId:t}}).then((e=>e.data)),I=e=>r.ZP.post(`${r.tW}/chats/${e}/hide`).then((e=>e.data)),k=e=>r.ZP.post(`${r.tW}/chats/${e}/mute`).then((e=>e.data)),C=e=>r.ZP["delete"](`${r.tW}/chats/${e}/mute`).then((e=>e.data)),T=({offset:e=0,limit:t=30,query:s},a)=>r.ZP.get(`${r.tW}/messages/queue/stats${(0,r.XP)({offset:e,limit:t,query:s,format:"infinite"})}`,{cancelToken:a}).then((e=>e.data)),$=e=>r.ZP.post(`${r.tW}/messages/queue/size`,{queueBuyers:e}).then((e=>e.data)),L=({userId:e,type:t="",opened:s,lastId:a,limit:i=20,signal:n}={})=>r.ZP.get(`${r.tW}/chats/${encodeURIComponent(e)}/media/${t}${(0,r.XP)({opened:s,last_id:a,limit:i,skip_users:"all"})}`,{signal:n}).then((e=>e.data)),M=({queueId:e,limit:t=r.P9,offset:s=0,skipUsers:a,marker:i})=>r.ZP.get(`${r.tW}/messages/queue/${e}/buyers${(0,r.XP)({limit:t,offset:s,skip_users:a,skip_users_dups:a?void 0:1,marker:i})}`).then((e=>e.data)),_=(e,t)=>r.ZP.post(`${r.tW}/messages/${e}/pin${t?"/user/"+t:""}`).then((e=>e.data)),A=(e,t)=>r.ZP["delete"](`${r.tW}/messages/${e}/pin${t?"/user/"+t:""}`).then((e=>e.data)),F=e=>r.ZP["delete"](`${r.tW}/chats/${e}/messages/pin`).then((e=>e.data)),x=e=>r.ZP.put(`${r.tW}/messages/${e}/hide`).then((e=>e.data))},329732:function(e,t,s){"use strict";s.d(t,{Ru:function(){return n},ar:function(){return a},vO:function(){return i}});var r=s(532622);const a=e=>r.ZP.post(`${r.tW}/comments/${e}/like`).then((e=>e.data)),i=e=>r.ZP["delete"](`${r.tW}/comments/${e}/like`).then((e=>e.data)),n=e=>r.ZP["delete"](`${r.tW}/comments/${e}`).then((e=>e.data))},8056:function(e,t,s){"use strict";s.d(t,{$z:function(){return a},GK:function(){return n},J8:function(){return d},Pt:function(){return c},bm:function(){return o},m_:function(){return i}});var r=s(532622);const a=e=>r.ZP.post(`${r.tW}/users/opensea/wallet`,e).then((e=>e.data)),i=()=>r.ZP["delete"](`${r.tW}/users/opensea/wallet`).then((e=>e.data)),n=({offset:e=0,limit:t=r.P9})=>r.ZP.get(`${r.tW}/users/opensea/assets${(0,r.XP)({offset:e,limit:t})}`).then((e=>e.data)),o=({offset:e=0,limit:t=r.P9})=>r.ZP.get(`${r.tW}/users/opensea/assets/nft${(0,r.XP)({offset:e,limit:t})}`).then((e=>e.data)),c=e=>r.ZP.put(`${r.tW}/users/opensea/nft`,e).then((e=>e.data)),d=e=>r.ZP.get(`${r.tW}/users${e?`/${e}`:""}/opensea/nft`).then((e=>e.data))},218684:function(e,t,s){"use strict";s.d(t,{B8:function(){return n},Eh:function(){return P},F2:function(){return i},Gf:function(){return g},WG:function(){return w},_P:function(){return a},_v:function(){return d},f1:function(){return f},j1:function(){return u},j2:function(){return m},jm:function(){return S},kN:function(){return l},t$:function(){return h},tT:function(){return b},u6:function(){return v},uX:function(){return y},vm:function(){return o},wT:function(){return p},xR:function(){return c}});s(227361);var r=s(532622);s(550615);const a=()=>r.ZP.get(`${r.tW}/payments/3ds-js?isExtendedVendorFormat=1`).then((e=>e.data)),i=(e={})=>r.ZP.post(`${r.tW}/payments/pay`,e).then((e=>e.data)),n=(e,t)=>r.ZP.put(`${r.tW}/payments/cards/${e}`,t).then((e=>e.data)),o=()=>r.ZP.get(`${r.tW}/payments/cards`).then((e=>e.data)),c=e=>r.ZP.get(`${r.tW}/payments/cards-vat${(0,r.XP)(e)}`).then((e=>e.data)),d=({limit:e=r.P9,marker:t,type:s,dateFrom:a,dateTo:i}={})=>r.ZP.get(`${r.tW}/payments/all/transactions${(0,r.XP)({limit:e,marker:t,type:s,date_from:a,date_to:i})}`).then((e=>e.data)),u=()=>r.ZP.get(`${r.tW}/payments/all/has-transactions`).then((e=>e.data)),l=(e={})=>r.ZP.get(`${r.tW}/payments/token/ccbill${(0,r.XP)(e)}`).then((e=>e.data)),m=(e,t)=>r.ZP.post(e,t),h=e=>r.ZP.put(`${r.tW}/payments/cards/${e}/default`).then((e=>e.data)),f=e=>r.ZP["delete"](`${r.tW}/payments/cards/${e}`).then((e=>e.data)),p=(e,t,s,a)=>{const i=new FormData;return a?i.append("fileBase64",a):s&&i.append("files[]",s,s.name),r.ZP.post(`${e}payments/scan-card`,i,{headers:{post:{Authorization:`Bearer ${t}`}}}).then((e=>e.data))},g=(e,t)=>r.ZP.post(`${r.tW}/payments/cards/${e}/verification`,{zip:t}).then((e=>e.data)),y=()=>r.ZP.get(`${r.tW}/alternative-payment-methods`).then((e=>e.data)),v=(e={})=>r.ZP.get(`${r.tW}/alternative-payment-methods/form${(0,r.XP)(e)}`).then((e=>e.data)),P=(e={})=>r.ZP.post(`${r.tW}/alternative-payment-methods/form`,e).then((e=>e.data)),S=e=>r.ZP.post(`${r.tW}/alternative-payment-methods/pay`,e).then((e=>e.data)),w=e=>r.ZP["delete"](`${r.tW}/alternative-payment-methods`,{data:{id:e}}).then((e=>e.data)),b=(e,t={})=>r.ZP.post(`${r.tW}/payments/cards/${e}/verify`,t).then((e=>e.data))},865273:function(e,t,s){"use strict";s.d(t,{$m:function(){return d},$p:function(){return f},E8:function(){return l},Ee:function(){return p},Gw:function(){return g},Ju:function(){return y},K3:function(){return F},K4:function(){return I},KE:function(){return T},M5:function(){return c},Nb:function(){return h},Nl:function(){return A},Nv:function(){return u},PF:function(){return b},Rp:function(){return _},Xj:function(){return C},_5:function(){return v},eq:function(){return m},gG:function(){return w},k7:function(){return M},l8:function(){return S},mG:function(){return k},n1:function(){return P},nj:function(){return $},yx:function(){return L}});var r=s(406557),a=s.n(r),i=s(535937),n=s.n(i),o=s(532622);const c=({limit:e=o.P9,marker:t}={})=>o.ZP.get(`${o.tW}/payouts/transactions${(0,o.XP)({limit:e,marker:t})}`).then((e=>e.data)),d=(e=!1)=>o.ZP.get(`${o.tW}/payouts/balances${e?"/stripe":""}`).then((e=>e.data)),u=(e,t,s)=>o.ZP.get(`${o.tW}/payouts/stats${(0,o.XP)({startDate:e,endDate:t,timeZone:s})}`).then((e=>e.data)),l=(e={})=>o.ZP.get(`${o.tW}/payouts/requests${(0,o.XP)(e)}`).then((e=>e.data)),m=(e={})=>o.ZP.get(`${o.tW}/payouts/requests/stripe${(0,o.XP)(n()(e,a()))}`).then((e=>e.data)),h=({withdrawalPeriod:e,isStripe:t=!1}={})=>o.ZP.patch(`${o.tW}/payouts/requests${t?"/stripe":""}`,{withdrawalPeriod:e}).then((e=>e.data)),f=e=>o.ZP.post(`${o.tW}/payouts/requests`,{withdrawal_amount:e}).then((e=>e.data)),p=({data:e})=>o.ZP.post(`${o.tW}/payouts/w9`,e).then((e=>e.data)),g=e=>o.ZP.post(`${o.tW}/payouts/tin`,{tin:e}).then((e=>e.data)),y=({limit:e=o.P9,...t}={})=>o.ZP.get(`${o.tW}/payouts/disputes${(0,o.XP)({limit:e,...t})}`).then((e=>e.data)),v=()=>o.ZP.get(`${o.tW}/payouts/check-receive/`).then((e=>e.data)),P=e=>o.ZP.post(`${o.tW}/payouts/vat`,{vat:e}).then((e=>e.data)),S=e=>o.ZP.post(`${o.tW}/payouts/vat-requests`,{...e}).then((e=>e.data)),w=()=>o.ZP.get(`${o.tW}/payouts/vat`).then((e=>e.data)),b=(e={})=>o.ZP.get(`${o.tW}/payouts/requests/vat-documents${(0,o.XP)(e)}`).then((e=>e.data)),I=e=>o.ZP.get(`${o.tW}/payouts/requests/vat/${e}`).then((e=>e.data)),k=(e={})=>o.ZP.get(`${o.tW}/payouts/vat-invoice${(0,o.XP)(e)}`).then((e=>e.data)),C=({year:e,month:t,amount:s}={})=>o.ZP.get(`${o.tW}/payouts/download/vat-invoice${(0,o.XP)({invoiceYear:e,invoiceMonth:t,creatorVatAmount:s})}`).then((e=>e.data)),T=e=>o.ZP.get(`${o.tW}/payouts/download/vat/${e}`).then((e=>e.data)),$=()=>o.ZP.get(`${o.tW}/payouts/vats`).then((e=>e.data)),L=()=>o.ZP["delete"](`${o.tW}/payouts/vat`).then((e=>e.data)),M=(e={})=>o.ZP.get(`${o.tW}/payouts/w9/address${(0,o.XP)(e)}`).then((e=>e.data)),_=e=>o.ZP.post(`${o.tW}/payouts/w9/address`,e).then((e=>e.data)),A=()=>o.ZP.get(`${o.tW}/payouts/can-add-vat-documents`).then((e=>e.data)),F=({limit:e=o.P9,...t}={})=>o.ZP.get(`${o.tW}/payouts/chargebacks${(0,o.XP)({limit:e,...t})}`).then((e=>e.data))},547732:function(e,t,s){"use strict";s.d(t,{HH:function(){return o},He:function(){return c},KZ:function(){return i},f9:function(){return a},ov:function(){return d},wq:function(){return n}});var r=s(532622);const a=()=>r.ZP.get(`${r.tW}/helpers`).then((e=>e.data)),i=e=>r.ZP.get(`${r.tW}/helpers/${e}`).then((e=>e.data)),n=()=>r.ZP.get(`${r.tW}/helpers/permissions`).then((e=>e.data)),o=(e,t=[])=>r.ZP.post(`${r.tW}/helpers/${e}`,{permissions:t}).then((e=>e.data)),c=e=>r.ZP.post(`${r.tW}/users/login-as-helper/${e}`).then((e=>e.data)),d=()=>r.ZP.post(`${r.tW}/users/helper-logout`).then((e=>e.data))},605889:function(e,t,s){"use strict";s.d(t,{AS:function(){return l},GX:function(){return o},Lp:function(){return d},NN:function(){return c},Ni:function(){return a},O:function(){return m},Pj:function(){return i},ZH:function(){return u},c$:function(){return h},iZ:function(){return n}});var r=s(532622);const a=({limit:e=r.P9,offset:t=0,ids:s=!1}={},a)=>r.ZP.get(`${r.tW}/labels${(0,r.XP)(s?{offset:t,ids:s}:{offset:t,limit:e})}`,{cancelToken:a}).then((e=>e.data)),i=({limit:e=r.P9,offset:t=0,userId:s}={},a)=>r.ZP.get(`${r.tW}/users/${s}/labels${(0,r.XP)({limit:e,offset:t,"non-empty":1})}`,{cancelToken:a}).then((e=>e.data)),n=e=>r.ZP.post(`${r.tW}/labels`,{name:e}).then((e=>e.data)),o=({id:e,name:t})=>r.ZP.patch(`${r.tW}/labels/${e}`,{name:t}).then((e=>e.data)),c=e=>r.ZP.get(`${r.tW}/labels/${e}`).then((e=>e.data)),d=e=>r.ZP.post(`${r.tW}/labels/sort`,e).then((e=>e.data)),u=e=>r.ZP["delete"](`${r.tW}/labels/${e}/posts`).then((e=>e.data)),l=(e,t=[])=>r.ZP.post(`${r.tW}/labels/${e}/posts`,{posts:t}).then((e=>e.data)),m=e=>r.ZP["delete"](`${r.tW}/labels/${e}`).then((e=>e.data)),h=(e,t)=>r.ZP["delete"](`${r.tW}/labels/${e}/post/${t}`).then((e=>e.data))},849344:function(e,t,s){"use strict";s.d(t,{A$:function(){return S},Cs:function(){return l},F3:function(){return v},GX:function(){return w},Gi:function(){return f},HG:function(){return I},Jq:function(){return a},Ls:function(){return i},RD:function(){return h},XX:function(){return o},Z1:function(){return b},_D:function(){return T},aF:function(){return k},b0:function(){return C},fR:function(){return p},j7:function(){return L},jp:function(){return y},lT:function(){return m},qb:function(){return g},u_:function(){return n},w8:function(){return c},wr:function(){return P},wy:function(){return u},xZ:function(){return d},yI:function(){return $}});var r=s(532622);const a=({offset:e,limit:t=r.P9,query:s,cancelToken:a,beforePublishTime:i,afterPublishTime:n,headMarker:o,tailMarker:c,listId:d,user:u,onlyCanView:l}={})=>{const m=!(!d||+d);let h={limit:t,query:s,skip_users:"all",format:"infinite",list_id:+d||void 0,user_id:u?encodeURIComponent(u):void 0};return h=m?{...h,offset:e}:{...h,beforePublishTime:i,afterPublishTime:n,only_can_view:l},(o||c)&&(delete h.offset,h={...h,headMarker:o,tailMarker:c}),r.ZP.get(`${r.tW}/posts${m?"/"+d:""}${(0,r.XP)(h)}`,{cancelToken:a}).then((e=>e.data))},i=({limit:e=r.P9,offset:t=0,cancelToken:s,type:a,...i}={})=>r.ZP.get(`${r.tW}/posts/bookmarks${a?"/"+a:""}${(0,r.XP)({limit:e,offset:t,skip_users:"all",format:"infinite",...i})}`,{cancelToken:s}).then((e=>e.data)),n=e=>r.ZP.get(`${r.tW}/posts/${e}?skip_users=all`).then((e=>e.data)),o=(e,t)=>r.ZP.put(`${r.tW}/posts/${e}`,t).then((e=>e.data)),c=({id:e,limit:t=r.P9,offset:s=0})=>r.ZP.get(`${r.tW}/posts/${e}/comments${(0,r.XP)({limit:t,offset:s,sort:"desc",skip_users:"all"})}`).then((e=>e.data)),d=({id:e,authorId:t})=>r.ZP.post(`${r.tW}/posts/${e}/favorites/${t}`).then((e=>e.data)),u=e=>r.ZP.post(`${r.tW}/posts/${e}/pin?format=status`).then((e=>e.data)),l=({id:e,...t})=>r.ZP.post(`${r.tW}/posts/${e}/comments`,t).then((e=>e.data)),m=({data:e,url:t})=>r.ZP.post(t,e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>e.data)),h=e=>r.ZP["delete"](`${e}`).then((e=>e.data)),f=(e,t)=>r.ZP.post(`${r.tW}/posts/${e}/vote`,{optionId:t}).then((e=>e.data)),p=e=>r.ZP["delete"](`${r.tW}/posts/${e}`).then((e=>e.data)),g=e=>r.ZP.post(`${r.tW}/posts`,e).then((e=>e.data)),y=e=>r.ZP.put(`${r.tW}/posts/${e}/hide`).then((e=>e.data)),v=({postId:e,offset:t})=>r.ZP.get(`${r.tW}/posts/${e}/favorites${(0,r.XP)({limit:r.P9,offset:t})}`).then((e=>e.data)),P=({postId:e,offset:t})=>r.ZP.get(`${r.tW}/posts/${e}/tips${(0,r.XP)({limit:r.P9,offset:t})}`).then((e=>e.data)),S=({postId:e,add:t=!0,query:s={}})=>r.ZP.post(`${r.tW}/posts/${e}/${t?"":"un"}archive${(0,r.XP)(s)}`).then((e=>e.data)),w=(e,t)=>r.ZP.post(`${r.tW}/posts/${e}/bookmarks/${t}`).then((e=>e.data)),b=e=>r.ZP["delete"](`${r.tW}/posts/${e}/bookmarks`).then((e=>e.data)),I=e=>r.ZP.get(`${r.tW}/posts/${e}/fund-raising-contributors/count`).then((e=>e.data)),k=e=>r.ZP.post(`${r.tW}/posts/stats-collect`,{actions:e}).then((e=>e.data)),C=e=>r.ZP.post(`${r.tW}/posts/pinned/sort?format=ids`,{order:e}).then((e=>e.data)),T=({postId:e,offset:t})=>r.ZP.get(`${r.tW}/posts/${e}/buyers${(0,r.XP)({limit:r.P9,offset:t})}`).then((e=>e.data)),$=({postId:e,optionId:t,...s})=>r.ZP.get(`${r.tW}/posts/${e}/voters${t?`/${t}`:""}${(0,r.XP)({limit:r.P9,...s})}`).then((e=>e.data)),L=e=>r.ZP.get(`${r.tW}/posts/login${(0,r.XP)({limit:e})}`).then((e=>e.data))},201505:function(e,t,s){"use strict";s.d(t,{DE:function(){return u},PK:function(){return o},S4:function(){return n},aC:function(){return d},kb:function(){return a},pc:function(){return c},uH:function(){return l},yK:function(){return i}});var r=s(532622);const a=e=>r.ZP.post(`${r.tW}/promotions`,e).then((e=>e.data)),i=e=>r.ZP.post(`${r.tW}/promotions/${e}/finish`).then((e=>e.data)),n=e=>r.ZP["delete"](`${r.tW}/promotions/${e}`).then((e=>e.data)),o=e=>r.ZP.post(`${r.tW}/promotions/invite`,e).then((e=>e.data)),c=({limit:e=r.P9,offset:t=0,cancelToken:s,...a}={})=>r.ZP.get(`${r.tW}/promotions/offers${(0,r.XP)({limit:e,offset:t,skip_users:"all",...a})}`,{cancelToken:s}).then((e=>e.data)),d=()=>r.ZP["delete"](`${r.tW}/promotions/offers`).then((e=>e.data)),u=e=>r.ZP["delete"](`${r.tW}/promotions/offer/${e}`).then((e=>e.data)),l=()=>r.ZP.post(`${r.tW}/promotions/offers/hide`).then((e=>e.data))},527557:function(e,t,s){"use strict";s.d(t,{$d:function(){return a},Hh:function(){return n},K$:function(){return d},dc:function(){return o},eZ:function(){return i},iF:function(){return c}});var r=s(532622);const a=(e={})=>r.ZP.get(`${r.tW}/users/referrals${(0,r.XP)(e)}`).then((e=>e.data)),i=(e={})=>r.ZP.get(`${r.tW}/users/referrals/count${(0,r.XP)(e)}`).then((e=>e.data)),n=()=>r.ZP.get(`${r.tW}/payments/referrals/balance`).then((e=>e.data)),o=(e={})=>r.ZP.get(`${r.tW}/payouts/requests/referral${(0,r.XP)(e)}`).then((e=>e.data)),c=({phone:e,type:t="user"})=>r.ZP.post(`${r.tW}/sms/invite/${t}`,{phone:e}).then((e=>e.data)),d=()=>r.ZP.get(`${r.tW}/sms/templates`).then((e=>e.data))},248556:function(e,t,s){"use strict";s.d(t,{AE:function(){return p},Dp:function(){return g},HP:function(){return P},Qo:function(){return u},U9:function(){return y},Xz:function(){return h},e0:function(){return m},f3:function(){return a},fg:function(){return n},ku:function(){return o},lJ:function(){return d},ln:function(){return l},tn:function(){return v},uT:function(){return i},uj:function(){return c},yY:function(){return f}});var r=s(532622);const a=(e,t)=>r.ZP.get(`${r.tW}/release-form-links/${e}${(0,r.XP)(t)}`).then((e=>e.data)),i=(e,t)=>r.ZP.post(`${r.tW}/release-form-links/${e}/guest${(0,r.XP)(t)}`).then((e=>e.data)),n=e=>r.ZP.post(`${r.tW}/release-form-links/${e}/start`).then((e=>e.data)),o=e=>r.ZP.post(`${r.tW}/release-form-links/${e}/url`).then((e=>e.data)),c=e=>r.ZP.post(`${r.tW}/release-form-documents`,e).then((e=>e.data)),d=e=>r.ZP.post(`${r.tW}/release-forms/attach`,e).then((e=>e.data)),u=(e,t)=>r.ZP.get(`${r.tW}/posts/tagged-friend-users${(0,r.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),l=e=>r.ZP.post(`${r.tW}/release-form-links`,e).then((e=>e.data)),m=(e,t)=>r.ZP.get(`${r.tW}/release-forms${(0,r.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),h=e=>r.ZP.patch(`${r.tW}/release-forms/rename`,e).then((e=>e.data)),f=e=>r.ZP.patch(`${r.tW}/release-forms/toggle-show`,e).then((e=>e.data)),p=e=>r.ZP.get(`${r.tW}/release-forms/hints${(0,r.XP)(e)}`),g=e=>r.ZP.get(`${r.tW}/${e.type}/${e.id}/hints`).then((e=>e.data)),y=(e={},t)=>{const s=t?r.ZP.patch:r.ZP.post;return s(`${r.tW}/guests/${t||""}`,e).then((e=>e.data))},v=e=>r.ZP["delete"](`${r.tW}/guests/${e}`).then((e=>e.data)),P=e=>r.ZP.post(`${r.tW}/guests/${e}/assign`).then((e=>e.data))},481274:function(e,t,s){"use strict";s.d(t,{Fr:function(){return c},Is:function(){return i},Pj:function(){return a},lB:function(){return n},sg:function(){return o}});var r=s(532622);const a=()=>r.ZP.get(`${r.tW}/reports/reasons`).then((e=>e.data)),i=()=>r.ZP.get(`${r.tW}/reports/abuse-options`).then((e=>e.data)),n=({id:e,type:t,data:s={}}={})=>r.ZP.post(`${r.tW}/${"story"===t?"stories":`${t}s`}/${e}/report`,s).then((e=>e.data)),o=()=>r.ZP.get(`${r.tW}/unsubscribe/reasons`).then((e=>e.data)),c=(e={})=>r.ZP.post(`${r.tW}/users/appeal`,e).then((e=>e.data))},596012:function(e,t,s){"use strict";s.d(t,{F4:function(){return m},HC:function(){return d},PF:function(){return l},SM:function(){return u},o6:function(){return c},vw:function(){return h}});var r=s(532622),a=s(727484),i=s.n(a),n=s(629387),o=s.n(n);i().extend(o());const c=({params:e={},cancelToken:t})=>r.ZP.get(`${r.tW}/schedules${(0,r.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),d=({params:e={},cancelToken:t})=>r.ZP.get(`${r.tW}/schedules/counters${(0,r.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),u=({params:e={}})=>{const{limit:t=30}=e;return r.ZP.get(`${r.tW}/schedules/later${(0,r.XP)({...e,limit:t})}`).then((e=>e.data))},l=e=>r.ZP.put(`${r.tW}/schedules/${e}/publish`).then((e=>e.data)),m=()=>r.ZP.get(`${r.tW}/schedules${(0,r.XP)({"filter[type][0]":"stream",limit:1,"filter[timeZone]":i()().format("Z")})}`).then((e=>e.data)),h=(e={})=>r.ZP.get(`${r.tW}/streams/reminder${(0,r.XP)(e)}`).then((e=>e.data))},617875:function(e,t,s){"use strict";s.d(t,{Ei:function(){return d},F2:function(){return u},G:function(){return n},Hp:function(){return o},Hz:function(){return f},Wj:function(){return g},Xg:function(){return y},Yx:function(){return i},Z5:function(){return p},Zt:function(){return m},_p:function(){return l},ar:function(){return v},ox:function(){return a},vY:function(){return h},zr:function(){return c}});var r=s(532622);const a=()=>r.ZP.get(`${r.tW}/countries?all=1`).then((e=>e.data)),i=e=>r.ZP.get(`${r.tW}/countries/${e}/states`).then((e=>e.data)),n=e=>r.ZP.get(`${r.tW}/iso/countries/${e}/states`).then((e=>e.data)),o=({countryId:e,search:t="",state:s=""})=>r.ZP.get(`${r.tW}/countries/${e}/address${(0,r.XP)({search:t,state:s})}`).then((e=>e.data)),c=()=>r.ZP.get(`${r.tW}/countries/payouts`).then((e=>e.data)),d=()=>r.ZP.post(`${r.tW}/users/me/settings/api-tokens`).then((e=>e.data)),u=e=>r.ZP["delete"](`${r.tW}/users/me/settings/api-tokens/${e}`).then((e=>e.data)),l=e=>r.ZP.post(`${r.tW}/messages/templates/reply_on_subscribe`,e).then((e=>e.data)),m=()=>r.ZP.get(`${r.tW}/messages/templates`).then((e=>e.data)),h=e=>r.ZP["delete"](`${r.tW}/messages/templates/${e}`).then((e=>e.data)),f=e=>r.ZP.patch(`${r.tW}/users/me/settings/messages`,e).then((e=>e.data)),p=e=>r.ZP.post(`${r.tW}/emails/change`,e).then((e=>e.data)),g=()=>r.ZP["delete"](`${r.tW}/emails/change`).then((e=>e.data)),y=e=>r.ZP.get(`${r.tW}/users/settings/notifications/${e}?group=1`).then((e=>e.data)),v=e=>r.ZP["delete"](`${r.tW}/streams/obs/key${(0,r.XP)({type:e})}`).then((e=>e.data))},483190:function(e,t,s){"use strict";s.d(t,{$d:function(){return o},JT:function(){return u},MO:function(){return l},U1:function(){return i},Zo:function(){return d},mp:function(){return a},q6:function(){return n},tf:function(){return c}});var r=s(532622);const a=e=>r.ZP.post(`${r.tW}/users/social/spotify`,e).then((e=>e.data)),i=e=>r.ZP.get(`${r.tW}/users${e?`/${e}`:""}/social/spotify`).then((e=>e.data)),n=()=>r.ZP.get(`${r.tW}/users/social/spotify/top`).then((e=>e.data)),o=()=>r.ZP.get(`${r.tW}/users/social/spotify/top/artists`).then((e=>e.data)),c=e=>r.ZP.put(`${r.tW}/users/social/spotify/artists`,{topArtistsIds:e}).then((e=>e.data)),d=()=>r.ZP.get(`${r.tW}/users/social/spotify/top/tracks`).then((e=>e.data)),u=e=>r.ZP.put(`${r.tW}/users/social/spotify/anthem`,{anthemId:e}).then((e=>e.data)),l=e=>r.ZP.get(`${r.tW}/users/social/spotify/search${(0,r.XP)({query:e})}`).then((e=>e.data))},354487:function(e,t,s){"use strict";s.d(t,{L5:function(){return a},Ul:function(){return n},hz:function(){return i},yC:function(){return o}});var r=s(532622);const a=e=>r.ZP.get(`${r.tW}/pages/${e}${"faq"===e?"?help=1":""}`,{"axios-retry":{retries:1}}).then((e=>e.data)),i=e=>r.ZP.post(`${r.tW}/pages/contacts`,e).then((e=>e.data)),n=e=>r.ZP.post(`${r.tW}/legal-inquiry`,e).then((e=>e.data)),o=e=>r.ZP.get(`${r.tW}/pages/faq${(0,r.XP)({query:e,help:1})}`).then((e=>e.data))},749832:function(e,t,s){"use strict";s.d(t,{Af:function(){return h},Bd:function(){return p},Cb:function(){return i},DZ:function(){return a},EB:function(){return n},H:function(){return b},IA:function(){return f},ON:function(){return m},UU:function(){return v},WL:function(){return c},ZO:function(){return C},d_:function(){return g},gm:function(){return l},ix:function(){return k},j6:function(){return I},ke:function(){return S},oh:function(){return w},qn:function(){return d},sd:function(){return P},wJ:function(){return y},x4:function(){return o},xg:function(){return u}});var r=s(532622);const a=e=>r.ZP.post(`${r.tW}/stories`,e).then((e=>e.data)),i=e=>r.ZP.get(`${r.tW}/users/me/stories`,{cancelToken:e}).then((e=>e.data)),n=(e={},t)=>r.ZP.get(`${r.tW}/stories${(0,r.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),o=e=>r.ZP.get(`${r.tW}/stories/${e}`).then((e=>e.data)),c=e=>r.ZP.get(`${r.tW}/stories/archive${(0,r.XP)({limit:12,offset:e,format:"infinite"})}`).then((e=>e.data)),d=e=>r.ZP.get(`${r.tW}/users/${e}/stories`).then((e=>e.data)),u=e=>r.ZP.put(`${r.tW}/stories/${e}/watched`).then((e=>e.data)),l=e=>r.ZP["delete"](`${r.tW}/stories/${e}`).then((e=>e.data)),m=e=>r.ZP.post(`${r.tW}/stories/${e}/like`).then((e=>e.data)),h=e=>r.ZP["delete"](`${r.tW}/stories/${e}/like`).then((e=>e.data)),f=({userId:e,offset:t=0,limit:s=10,storyIdToCheck:a=null})=>r.ZP.get(`${r.tW}/users/${e}/stories/highlights${(0,r.XP)({limit:s,offset:t,storyIdToCheck:a})}`).then((e=>e.data)),p=e=>r.ZP.get(`${r.tW}/stories/highlights/${e}`).then((e=>e.data)),g=e=>r.ZP["delete"](`${r.tW}/stories/highlights/${e}`).then((e=>e.data)),y=e=>r.ZP.post(`${r.tW}/stories/highlights`,e).then((e=>e.data)),v=(e,t)=>r.ZP.patch(`${r.tW}/stories/highlights/${e}`,t).then((e=>e.data)),P=e=>r.ZP.put(`${r.tW}/stories/highlights/${e.id}`,e).then((e=>e.data)),S=()=>r.ZP.get(`${r.tW}/stories/users/blocked`).then((e=>e.data)),w=e=>r.ZP.post(`${r.tW}/stories/users/${e}/block`).then((e=>e.data)),b=e=>r.ZP["delete"](`${r.tW}/stories/users/${e}/block`).then((e=>e.data)),I=(e,t)=>r.ZP.post(`${r.tW}/stories/${e}/answer`,t).then((e=>e.data)),k=({storyId:e,offset:t=0,limit:s=8,cancelToken:a})=>r.ZP.get(`${r.tW}/stories/${e}/answer${(0,r.XP)({limit:s,offset:t})}`,{cancelToken:a}).then((e=>e.data)),C=e=>r.ZP["delete"](`${r.tW}/stories/answer/${e}`).then((e=>e.data))},849491:function(e,t,s){"use strict";s.d(t,{$n:function(){return M},TJ:function(){return R},ml:function(){return w},EC:function(){return _},f4:function(){return v},NB:function(){return k},AP:function(){return y},Km:function(){return S},z:function(){return d},fI:function(){return l},W7:function(){return E},QH:function(){return u},a9:function(){return b},$1:function(){return U},ip:function(){return $},UD:function(){return h},QM:function(){return m},mJ:function(){return L},dM:function(){return O},Nt:function(){return T},Jz:function(){return g},Jc:function(){return I},CI:function(){return C},T0:function(){return p},WH:function(){return f},K8:function(){return D},pL:function(){return x},Bd:function(){return A},_K:function(){return F},jI:function(){return P}});var r=s(436968),a=s.n(r),i=s(227361),n=s.n(i),o=(s(838862),s(21703),s(532622)),c={streamType:"webrtc"};const d=async(e=c.streamType)=>{const t=await o.ZP.get(`${o.tW}/streams/ms_service${(0,o.XP)({data:JSON.stringify({streamtype:e,type:"get.streamer.server.list"})})}`);return n()(t,"data.Message.ServerList",[])},u=async(e=c.streamType,t=[])=>{const s={streamtype:e,sbp:!0,preferred_servers:t};return"string"===typeof window.streamingTranscoderVersion&&a()(s,"extra_stream_settings.transcoder_version",window.streamingTranscoderVersion),o.ZP.get(`${o.tW}/streams/url${(0,o.XP)({extension:JSON.stringify(s)})}`)},l=(e,t=c.streamType)=>o.ZP.get(`${o.tW}/streams/${e}/url${(0,o.XP)({extension:JSON.stringify({streamtype:t,sbp:!0})})}`),m=(e,t="webrtc",s=[])=>{if(!e)throw new Error("userId is not defined");const r={streamtype:t,sbp:!0,preferred_servers:s};return"string"===typeof window.streamingTranscoderVersion&&(r.extra_stream_settings={transcoder_version:window.streamingTranscoderVersion}),o.ZP.get(`${o.tW}/users/${e}/streams/active/url${(0,o.XP)({extension:JSON.stringify(r)})}`).then((e=>e.data))},h=(e,t=!1)=>{if(!e)throw new Error("userId is not defined");return o.ZP.get(`${o.tW}/users/${e}/streams/active${(0,o.XP)({view:t?"full_with_check":"full"})}`).then((e=>e.data))},f=e=>o.ZP.post(`${o.tW}/streams`,e).then((e=>e.data)),p=e=>o.ZP.patch(`${o.tW}/streams/${e.id}`,e).then((e=>e.data)),g=e=>o.ZP.post(`${o.tW}/streams`,e).then((e=>e.data)),y=e=>{if(!e)throw new Error("streamId is not defined");return o.ZP.put(`${o.tW}/streams/${e}/finish`).then((e=>e.data))},v=()=>o.ZP["delete"](`${o.tW}/streams`).then((e=>e.data)),P=({streamId:e,data:t})=>{if(!e)throw new Error("streamId is not defined");return o.ZP.patch(`${o.tW}/streams/${e}`,t).then((e=>e.data))},S=(e={})=>o.ZP.get(`${o.tW}/streams/active${(0,o.XP)(e)}`).then((e=>e.data)),w=()=>o.ZP.get(`${o.tW}/streams/has-active`).then((e=>e.data)),b=({id:e},t)=>{if(!e)throw new Error("streamId is not defined");return o.ZP.get(`${o.tW}/streams/${e}/stats?withChart=true`,{cancelToken:t}).then((e=>e.data))},I=({streamId:e,...t})=>{if(!e)throw new Error("streamId is not defined");return o.ZP.put(`${o.tW}/streams/${e}/make-post`,{id:e,...t}).then((e=>e.data))},k=e=>{if(!e)throw new Error("streamId is not defined");return o.ZP.get(`${o.tW}/streams/${e}/covers`).then((e=>e.data))},C=(e,t)=>{if(!e)throw new Error("streamId is not defined");return o.ZP.put(`${o.tW}/streams/${e}/cover`,t).then((e=>e.data))},T=({streamId:e,userId:t,ban:s=!1})=>{if(!e||!t)throw new Error("streamId or userId is not defined");return o.ZP.post(`${o.tW}/streams/${e}/block`,{userId:t,isPermanent:s}).then((e=>e.data))},$=({streamId:e,limit:t=o.P9,offset:s=0,query:r=""})=>{if(!e)throw new Error("streamId is not defined");const a={limit:t};return s&&(a.offset=s),r&&(a.query=r),o.ZP.get(`${o.tW}/streams/${e}/viewers${(0,o.XP)(a)}`).then((e=>e.data))},L=({streamId:e})=>{if(!e)throw new Error("joinDualStreamRequest: streamId is not defined");return o.ZP.post(`${o.tW}/streams/${e}/join`).then((e=>e.data))},M=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("acceptDualStreamRequest: streamId or userId is not defined");return o.ZP.post(`${o.tW}/streams/${e}/users/${t}/accept`).then((e=>e.data))},_=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("declineDualStreamRequest: streamId or userId is not defined");return o.ZP.post(`${o.tW}/streams/${e}/users/${t}/decline`).then((e=>e.data))},A=e=>{if(!e)throw new Error("streamId is not defined");return o.ZP.post(`${o.tW}/streams/${e}/look`).then((e=>e.data))},F=e=>{if(!e)throw new Error("streamId is not defined");return o.ZP["delete"](`${o.tW}/streams/${e}/look`).then((e=>e.data))},x=(e,t)=>{if(!e)throw new Error("streamId is not defined");return o.ZP.post(`${o.tW}/streams/${e}/like`,t).then((e=>e.data))},D=(e,t,s)=>{if(!e)throw new Error("streamId is not defined");const r={comment:t};return s&&(r.userId=s),o.ZP.post(`${o.tW}/streams/${e}/comments`,r).then((e=>e.data))},E=(e,{id:t,limit:s=o.P9}={})=>{if(!e)throw new Error("streamId is not defined");return o.ZP.get(`${o.tW}/streams/${e}/comments${(0,o.XP)({id:t,limit:s})}`).then((e=>e.data))},U=({includeUserListIds:e="",excludeUserListIds:t="",scheduledSubscribedOn:s="",subscribersIds:r=""}={})=>o.ZP.get(`${o.tW}/streams/users/count${(0,o.XP)({includeUserListIds:e,excludeUserListIds:t,scheduledSubscribedOn:s,subscribersIds:r})}`).then((e=>e.data)),R=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("streamId or userId is not defined");return o.ZP.put(`${o.tW}/streams/${e}/users/${t}/helper`).then((e=>e.data))},O=({streamId:e,userId:t})=>{if(!e||!t)throw new Error("streamId or userId is not defined");return o.ZP["delete"](`${o.tW}/streams/${e}/users/${t}/helper`).then((e=>e.data))}},629857:function(e,t,s){"use strict";s.d(t,{$b:function(){return c},$u:function(){return n},PC:function(){return i},SA:function(){return d},xf:function(){return a},ye:function(){return o}});var r=s(532622);const a=(e={},t)=>r.ZP.get(`${r.tW}/streams/feed${(0,r.XP)({limit:10,...e})}`,{cancelToken:t}).then((e=>e.data)),i=e=>r.ZP.get(`${r.tW}/streams/${e}/events`).then((e=>e.data)),n=e=>r.ZP.get(`${r.tW}/streams/${e}`).then((e=>e.data)),o=e=>r.ZP["delete"](`${r.tW}/streams/${e}`).then((e=>e.data)),c=e=>r.ZP.post(`${r.tW}/streams/${e}/reminder`).then((e=>e.data)),d=e=>r.ZP["delete"](`${r.tW}/streams/${e}/reminder`).then((e=>e.data))},76816:function(e,t,s){"use strict";s.d(t,{El:function(){return F},Fu:function(){return o},Ge:function(){return A},IE:function(){return L},IK:function(){return v},Iz:function(){return u},JR:function(){return i},PK:function(){return g},Uo:function(){return T},Vb:function(){return _},W3:function(){return a},_8:function(){return n},_z:function(){return y},bO:function(){return P},dl:function(){return h},eT:function(){return M},et:function(){return S},gM:function(){return l},gU:function(){return C},gr:function(){return f},i2:function(){return w},jP:function(){return p},l$:function(){return I},mf:function(){return c},mk:function(){return b},qT:function(){return k},tY:function(){return m},x$:function(){return d},y:function(){return $}});var r=s(532622);const a=e=>r.ZP.post(`${r.tW}/users/${e}/restrict`).then((e=>e.data)),i=e=>r.ZP["delete"](`${r.tW}/users/${e}/restrict`).then((e=>e.data)),n=e=>r.ZP.put(`${r.tW}/subscriptions/${e}/hide-posts`).then((e=>e.data)),o=e=>r.ZP["delete"](`${r.tW}/subscriptions/${e}/hide-posts`).then((e=>e.data)),c=(e={},t)=>(e.limit=e.limit||r.P9,e.offset=e.offset||0,r.ZP.get(`${r.tW}/subscriptions/subscribes${(0,r.XP)(e)}`,{cancelToken:t}).then((e=>e.data))),d=()=>r.ZP.get(`${r.tW}/subscriptions/count/all`).then((e=>e.data)),u=(e,t)=>r.ZP.get(`${r.tW}/subscriptions/subscribers/count${(0,r.XP)(e)}`,{cancelToken:t}).then((e=>e.data)),l=e=>r.ZP.get(`${r.tW}/subscriptions/subscribes/count${(0,r.XP)(e)}`).then((e=>e.data)),m=({limit:e=r.P9,offset:t=0,...s}={},a)=>r.ZP.get(`${r.tW}/subscriptions/subscribers${(0,r.XP)({limit:e,offset:t,...s})}`,{cancelToken:a}).then((e=>e.data)),h=({limit:e=r.P9,offset:t=0,filter:s}={})=>r.ZP.get(`${r.tW}/subscriptions/subscribers/awards${(0,r.XP)({limit:e,offset:t,filter:s})}`).then((e=>e.data)),f=({id:e,discount:t=0,period:s=1}={})=>r.ZP.put(`${r.tW}/subscriptions/${e}/discount`,{discount:t,period:s}).then((e=>e.data)),p=(e={})=>r.ZP.post(`${r.tW}/campaigns`,e).then((e=>e.data)),g=e=>r.ZP.post(`${r.tW}/campaigns/transition`,e).then((e=>e.data)),y=({limit:e=r.P9,offset:t=0,...s}={})=>r.ZP.get(`${r.tW}/campaigns${(0,r.XP)({limit:e,offset:t,pagination:1,...s})}`).then((e=>e.data)),v=({filter:e={clicks:"clicks",claims:"claims"},...t}={})=>r.ZP.get(`${r.tW}/campaigns/chart${(0,r.XP)({filter:e,...t})}`).then((e=>e.data)),P=e=>r.ZP["delete"](`${r.tW}/campaigns/${e}`).then((e=>e.data)),S=({id:e,...t})=>r.ZP.get(`${r.tW}/campaigns/${e}/claimers${(0,r.XP)(t)}`).then((e=>e.data)),w=(e={})=>r.ZP.post(`${r.tW}/trials`,e).then((e=>e.data)),b=({limit:e=r.P9,offset:t=0,...s}={})=>r.ZP.get(`${r.tW}/trials${(0,r.XP)({limit:e,offset:t,pagination:1,...s})}`).then((e=>e.data)),I=e=>r.ZP["delete"](`${r.tW}/trials/${e}`).then((e=>e.data)),k=({id:e,on:t=!0,place:s})=>r.ZP[t?"put":"delete"](`${r.tW}/subscriptions/${e}/autoprolong`,s&&t?{place:s}:{}).then((e=>e.data)),C=(e,t={})=>r.ZP.put(`${r.tW}/subscriptions/${e}`,t).then((e=>e.data)),T=e=>r.ZP.get(`${r.tW}/subscriptions/subscribers/awards/count${(0,r.XP)({filter:e})}`).then((e=>e.data)),$=e=>r.ZP["delete"](`${r.tW}/subscriptions/${e}/price-change-hint`).then((e=>e.data)),L=e=>r.ZP.get(`${r.tW}/subscriptions/${e}/history?all=1`).then((e=>e.data)),M=()=>r.ZP.get(`${r.tW}/subscriptions/subscribers/recent-expired?skip_users=all`).then((e=>e.data)),_=({userId:e,subscriberId:t,token:s}={})=>r.ZP.post(`${r.tW}/subscriptions/tokens/${e}/${t}/${s}/request`).then((e=>e.data)),A=({userId:e,subscriberId:t,token:s}={})=>r.ZP.post(`${r.tW}/subscriptions/tokens/${e}/${t}/${s}/confirm`).then((e=>e.data)),F=e=>r.ZP["delete"](`${r.tW}/subscriptions/${e}/attention`).then((e=>e.data))},999023:function(e,t,s){"use strict";s.d(t,{$F:function(){return he},$g:function(){return fe},AP:function(){return A},B3:function(){return le},BW:function(){return ue},C8:function(){return h},Cp:function(){return B},Dg:function(){return de},Dt:function(){return _e},Ek:function(){return je},Fh:function(){return x},Fw:function(){return ye},Gp:function(){return U},H1:function(){return be},HU:function(){return ge},IF:function(){return o},IX:function(){return p},J5:function(){return Pe},JW:function(){return Le},Jz:function(){return Re},Kh:function(){return Y},Ld:function(){return b},MD:function(){return xe},NS:function(){return R},Nh:function(){return Ze},O5:function(){return I},OL:function(){return Oe},OT:function(){return Be},Op:function(){return me},P4:function(){return N},PK:function(){return _},PR:function(){return m},Pb:function(){return Te},QV:function(){return ie},Rv:function(){return q},S9:function(){return y},SP:function(){return De},TH:function(){return E},U7:function(){return f},U9:function(){return Ee},XP:function(){return se},YK:function(){return we},Yi:function(){return Me},Yn:function(){return re},_w:function(){return v},al:function(){return V},at:function(){return g},bW:function(){return Ie},b_:function(){return G},cW:function(){return L},cp:function(){return ce},dW:function(){return Se},dX:function(){return H},dh:function(){return Ue},eP:function(){return w},eV:function(){return P},f:function(){return Ae},g5:function(){return j},gF:function(){return D},gj:function(){return $},hd:function(){return Z},i:function(){return J},jp:function(){return Q},kS:function(){return ne},kt:function(){return Fe},lA:function(){return u},lJ:function(){return $e},nR:function(){return pe},nS:function(){return l},qB:function(){return O},r1:function(){return k},rf:function(){return z},rg:function(){return oe},rv:function(){return M},rx:function(){return Ce},sV:function(){return d},sY:function(){return ke},t9:function(){return ee},tL:function(){return F},uH:function(){return T},uI:function(){return S},ui:function(){return n},uk:function(){return W},vh:function(){return K},vn:function(){return ve},xY:function(){return ae},y6:function(){return c},yv:function(){return te},z6:function(){return C},zv:function(){return X}});var r=s(532622),a=s(427166),i=s(378945);const n=()=>r.ZP.get(`${r.tW}/users/me`,{"axios-retry":{retries:1}}).then((e=>(0,a.P)(e.data))),o=e=>r.ZP.put(`${r.tW}/users/me`,e).then((e=>e.data)),c=e=>r.ZP.patch(`${r.tW}/users/me`,e).then((e=>e.data)),d=(e,t)=>r.ZP.put(`${r.tW}/users/me/settings/${t}`,e).then((e=>e.data)),u=(e,t)=>r.ZP.patch(`${r.tW}/users/me/settings/${t}`,e).then((e=>e.data)),l=()=>r.ZP.get(`${r.tW}/users/me/settings`).then((e=>e.data)),m=(e,t={})=>r.ZP.get(`${r.tW}/users/${encodeURIComponent(e)}${(0,r.XP)(t)}`).then((e=>e.data)),h=({id:e,limit:t=r.P9,type:s,order:a="publish_date_desc",onlyCanView:n,cancelToken:o,...c}={})=>r.ZP.get(`${r.tW}/users/${e}/posts${"posts"!==s?`/${(0,i.C)(s)}`:""}${(0,r.XP)({limit:t,order:a,skip_users:"all",only_can_view:n,format:"infinite",...c})}`,{cancelToken:o}).then((e=>e.data)),f=({id:e,cancelToken:t}={})=>r.ZP.get(`${r.tW}/users/${e}/posts${(0,r.XP)({skip_users:"all",pinned:1,counters:0,format:"infinite"})}`,{cancelToken:t}).then((e=>e.data)),p=()=>r.ZP.get(`${r.tW}/users/otp/code`).then((e=>e.data)),g=(e,t)=>r.ZP.put(`${r.tW}/users/otp`,{code:e,rememberMe:t}).then((e=>e.data)),y=(e,t)=>r.ZP.post(`${r.tW}/users/otp/check`,{code:e,rememberMe:t}).then((e=>e.data)),v=()=>r.ZP.put(`${r.tW}/users/otp/phone`).then((e=>e.data)),P=e=>r.ZP["delete"](`${r.tW}/users/otp`,{data:{code:e}}).then((e=>e.data)),S=()=>r.ZP.put(`${r.tW}/users/otp/alternative`).then((e=>e.data)),w=e=>r.ZP.post(`${r.tW}/users/exists`,{username:e}).then((e=>e.data)),b=(e,t={})=>r.ZP.post(`${r.tW}/users/${e}/subscribe`,t).then((e=>e.data)),I=(e,t={})=>r.ZP.post(`${r.tW}/users/${e}/resubscribe`,t).then((e=>e.data)),k=(e,{reasonId:t})=>r.ZP["delete"](`${r.tW}/users/${e}/subscribe`,{data:{reason:t}}).then((e=>e.data)),C=({network:e="twitter"}={})=>r.ZP["delete"](`${r.tW}/users/social/${e}`).then((e=>e.data)),T=()=>r.ZP.get(`${r.tW}/users/alert`).then((e=>e.data)),$=e=>r.ZP["delete"](`${r.tW}/users/alert/${e}`).then((e=>e.data)),L=e=>r.ZP["delete"](`${r.tW}/users/mass-alert/${e}`).then((e=>e.data)),M=()=>r.ZP.get(`${r.tW}/users/hints`).then((e=>e.data)),_=e=>r.ZP["delete"](`${r.tW}/users/hints/${e}`).then((e=>e.data)),A=e=>r.ZP["delete"](`${r.tW}/users/mass-hints/${e}`).then((e=>e.data)),F=e=>r.ZP.get(`${r.tW}/users/recommends${(0,r.XP)({...e,skip_users:"all"})}`).then((e=>e.data)),x=()=>r.ZP.get(`${r.tW}/users/promotions`).then((e=>e.data)),D=e=>r.ZP.post(`${r.tW}/users/forgot-password`,e).then((e=>e.data)),E=({limit:e=r.P9,offset:t=0,type:s,relatedUser:a,cancelToken:i,skipUsers:n}={})=>r.ZP.get(`${r.tW}/users/notifications${(0,r.XP)({limit:e,offset:t,type:s,related_user:a,skip_users:n,skip_users_dups:n?void 0:1,format:"infinite"})}`,{cancelToken:i}).then((e=>e.data)),U=e=>r.ZP.post(`${r.tW}/users/notifications/read${e?`/${e}`:""}`).then((e=>e.data)),R=e=>r.ZP.post(`${r.tW}/users/notifications/${e}/read/`).then((e=>e.data)),O=e=>r.ZP.patch(`${r.tW}/users/settings/notifications`,e).then((e=>e.data)),Z=e=>r.ZP.put(`${r.tW}/users/push-token/pwa`,e).then((e=>e.data)),B=e=>r.ZP.post(`${r.tW}/users/change-password`,e).then((e=>e.data)),j=e=>r.ZP["delete"](`${r.tW}/users/${e}/friend`).then((e=>e.data)),W=e=>r.ZP.post(`${r.tW}/users/delete/request`,{captchaCode:e}).then((e=>e.data)),V=()=>r.ZP["delete"](`${r.tW}/users/delete/request`).then((e=>e.data)),q=e=>r.ZP.post(`${r.tW}/phones/change`,e).then((e=>e.data)),N=e=>r.ZP["delete"](`${r.tW}/phones/change`,e).then((e=>e.data)),H=()=>r.ZP.get(`${r.tW}/users/telegram-link`).then((e=>e.data)),z=e=>r.ZP.post(`${r.tW}/users/${e}/block`).then((e=>e.data)),X=e=>r.ZP["delete"](`${r.tW}/users/${e}/block`).then((e=>e.data)),G=({limit:e=r.P9,offset:t=0,cancelToken:s,...a}={})=>r.ZP.get(`${r.tW}/users/blocked${(0,r.XP)({limit:e,offset:t,...a})}`,{cancelToken:s}).then((e=>e.data)),Y=({limit:e=r.P9,offset:t=0,query:s,allUsers:a,view:i="se"}={})=>r.ZP.get(`${r.tW}/users${(0,r.XP)({limit:e,offset:t,query:s,all_users:a,view:i})}`).then((e=>e.data)),K=()=>r.ZP.get(`${r.tW}/users/settings/post`).then((e=>e.data)),J=e=>r.ZP.patch(`${r.tW}/users/settings/post`,{periodPublishLaterPost:e}).then((e=>e.data)),Q=()=>r.ZP.get(`${r.tW}/users/settings/story`).then((e=>e.data)),ee=(e={})=>r.ZP.patch(`${r.tW}/users/settings/story`,e).then((e=>e.data)),te=()=>r.ZP.get(`${r.tW}/users/settings/streams`).then((e=>e.data)),se=({userId:e,limit:t=r.P9,offset:s=0}={})=>r.ZP.get(`${r.tW}/users/${e}/friends${(0,r.XP)({limit:t,offset:s})}`).then((e=>e.data)),re=e=>r.ZP.post(`${r.tW}/users/connect`,e).then((e=>e.data)),ae=e=>r.ZP.post(`${r.tW}/users/get-auth-token`,e).then((e=>e.data)),ie=e=>r.ZP.post(`${r.tW}/users/get-otp-token`,e).then((e=>e.data)),ne=e=>r.ZP["delete"](`${r.tW}/users/connect/${e}`).then((e=>e.data)),oe=e=>r.ZP.post(`${r.tW}/users/switch/${e}`).then((e=>e.data)),ce=({limit:e=r.P9,offset:t=0,query:s}={})=>r.ZP.get(`${r.tW}/users/mention${(0,r.XP)({limit:e,offset:t,query:s})}`).then((e=>e.data)),de=e=>r.ZP.post(`${r.tW}/users/profile/stats-collect`,e).then((e=>e.data)),ue=e=>r.ZP.post(`${r.tW}/users/profile/visit`,e).then((e=>e.data)),le=e=>r.ZP.get(`${r.tW}/users/list${(0,r.XP)(e)}`).then((e=>e.data)),me=({userId:e,limit:t=8,offset:s=0}={})=>r.ZP.get(`${r.tW}/users/${e}/streams${(0,r.XP)({limit:t,offset:s,skip_users:"all"})}`).then((e=>e.data)),he=({userId:e,limit:t=8,offset:s=0}={})=>r.ZP.get(`${r.tW}/users/${e}/streams/scheduled${(0,r.XP)({limit:t,offset:s})}`).then((e=>e.data)),fe=({limit:e=r.P9,offset:t=0,cancelToken:s,...a}={})=>r.ZP.get(`${r.tW}/users/tickets${(0,r.XP)({limit:e,offset:t,...a})}`,{cancelToken:s}).then((e=>e.data)),pe=({id:e}={})=>r.ZP.get(`${r.tW}/users/tickets/${e}`).then((e=>e.data)),ge=(e={})=>r.ZP.post(`${r.tW}/users/tickets`,e).then((e=>e.data)),ye=(e,t={})=>r.ZP.post(`${r.tW}/users/tickets/${e}/reply`,t).then((e=>e.data)),ve=({id:e,limit:t=r.P9,offset:s=0})=>r.ZP.get(`${r.tW}/users/tickets/${e}/comments${(0,r.XP)({limit:t,offset:s,html:1})}`).then((e=>e.data)),Pe=e=>r.ZP.post(`${r.tW}/users/tickets/${e}/solve`).then((e=>e.data)),Se=({id:e,data:t})=>r.ZP.put(`${r.tW}/users/tickets/${e}/reopen`,t).then((e=>e.data)),we=(e={})=>r.ZP.post(`${r.tW}/users/tickets/allowed`,e).then((e=>e.data)),be=(e={})=>r.ZP.get(`${r.tW}/users/me/strong_otp_codes`,e).then((e=>e.data)),Ie=(e={})=>r.ZP.get(`${r.tW}/users/me/auth-token`,e).then((e=>e.data)),ke=e=>r.ZP.post(`${r.tW}/users/card-auth/check`,{first6:e}).then((e=>e.data)),Ce=()=>r.ZP.get(`${r.tW}/users/links`).then((e=>e.data)),Te=e=>r.ZP.get(`${r.tW}/users/${e}/links`).then((e=>e.data)),$e=(e={})=>r.ZP.post(`${r.tW}/users/links`,e).then((e=>e.data)),Le=({limit:e=r.P9,offset:t=0,cancelToken:s,...a}={})=>r.ZP.get(`${r.tW}/users/restrict${(0,r.XP)({limit:e,offset:t,...a})}`,{cancelToken:s}).then((e=>e.data)),Me=(e,t={})=>r.ZP.post(`${r.tW}/iv/start`,{source:e,...t}).then((e=>e.data)),_e=()=>r.ZP.post(`${r.tW}/age-verifier/start`).then((e=>e.data)),Ae=(e={})=>r.ZP.post(`${r.tW}/face-id/start`,e).then((e=>e.data)),Fe=()=>r.ZP.get(`${r.tW}/users/me/profile/views/qr`).then((e=>e.data)),xe=()=>r.ZP.get(`${r.tW}/users/me/id`).then((e=>e.data)),De=()=>r.ZP.get(`${r.tW}/users/notifications/count`).then((e=>e.data)),Ee=()=>r.ZP.get(`${r.tW}/users/notifications/settings/tabs-order`).then((e=>e.data)),Ue=e=>r.ZP.post(`${r.tW}/users/notifications/settings/tabs-order`,e).then((e=>e.data)),Re=(e,t={})=>r.ZP.post(`${r.tW}/users/${encodeURIComponent(e)}/stat`,t).then((e=>e.data)),Oe=()=>r.ZP.get(`${r.tW}/users/me/start-date-model`).then((e=>e.data)),Ze=()=>r.ZP.get(`${r.tW}/users/ws-auth`).then((e=>e.data)),Be=()=>r.ZP.post(`${r.tW}/users/terms/confirm`).then((e=>e.data)),je=e=>r.ZP.post(`${r.tW}/users/license_form`,e).then((e=>e.data))},698424:function(e,t,s){"use strict";s.d(t,{D2:function(){return d},I:function(){return n},Ku:function(){return h},L0:function(){return g},PZ:function(){return l},Y_:function(){return u},Zw:function(){return m},a9:function(){return o},bU:function(){return i},cN:function(){return f},cT:function(){return y},iX:function(){return c},iY:function(){return p},l5:function(){return a}});var r=s(532622);const a=({limit:e=r.P9,offset:t=0,cancelToken:s,...a})=>r.ZP.get(`${r.tW}/vault/media${(0,r.XP)({limit:e,offset:t,...a})}`,{cancelToken:s}).then((e=>e.data)),i=({mediaId:e,cancelToken:t,...s})=>r.ZP.get(`${r.tW}/vault/media/${e}/posts${(0,r.XP)(s)}`,{cancelToken:t}).then((e=>e.data)),n=(e={})=>r.ZP.get(`${r.tW}/vault/media/hash${(0,r.XP)(e)}`).then((e=>e.data)),o=({ids:e})=>r.ZP.put(`${r.tW}/vault/media/hidden`,{mediaIds:e}).then((e=>e.data)),c=(e={})=>r.ZP.get(`${r.tW}/vault/lists${(0,r.XP)(e)}`).then((e=>e.data)),d=e=>r.ZP.get(`${r.tW}/vault/lists/${e}`).then((e=>e.data)),u=e=>r.ZP.post(`${r.tW}/vault/lists`,{name:e}).then((e=>e.data)),l=({id:e,name:t})=>r.ZP.patch(`${r.tW}/vault/lists/${e}`,{name:t}).then((e=>e.data)),m=(e,t)=>r.ZP["delete"](`${r.tW}/vault/lists/${e}`,{data:{clearMedia:t}}).then((e=>e.data)),h=(e,t)=>r.ZP.post(`${r.tW}/vault/lists/${t}/media`,{mediaIds:e}).then((e=>e.data)),f=(e,t)=>r.ZP["delete"](`${r.tW}/vault/lists/${t}/media`,{data:{mediaIds:e}}).then((e=>e.data)),p=e=>r.ZP.post(`${r.tW}/vault/lists/sort`,e).then((e=>e.data)),g=()=>r.ZP.get(`${r.tW}/vault/media/types`).then((e=>e.data)),y=({mediaId:e})=>r.ZP.get(`${r.tW}/vault/media/${e}`).then((e=>e.data))},181528:function(e,t,s){"use strict";s.d(t,{HZ:function(){return r},UH:function(){return n},av:function(){return i},m9:function(){return a}});s(115306);const r=e=>e?e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">"):e,a=e=>e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e,i=(e,t="")=>e?e.replace(/(<([^>]+)>)/gi,t):e,n=e=>Number.isInteger(e)?e.toLocaleString():e},861286:function(e,t,s){"use strict";s.d(t,{CZ:function(){return r},Z9:function(){return a},kp:function(){return i}});s(115306);const r=(e,t=2)=>{const{length:s}=`${e}`;return s>=8?`${(e/1e6).toFixed(Math.max(t-1,0))}M`:s>=7?`${(e/1e6).toFixed(t)}M`:s>=5?`${(e/1e3).toFixed(Math.max(t-1,0))}K`:s>=4?`${(e/1e3).toFixed(1)}K`:e},a=e=>{const t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return`$${t}`},i=e=>{const t=e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return`${t}`}},198225:function(e,t,s){"use strict";s.d(t,{ZP:function(){return Tr},ag:function(){return yr},gE:function(){return kr}});var r={};s.r(r),s.d(r,{addAnswer:function(){return Xt},addCropRect:function(){return xe},addGif:function(){return Ft},addOverlayRect:function(){return Ne},addQuestion:function(){return Ht},addSticker:function(){return yt},addText:function(){return lt},calcTextAreaParams:function(){return Ke},cancelDeepAr:function(){return Qt},changeScreen:function(){return Me},changeTextColor:function(){return rt},createFileType:function(){return Mt},createShadowRects:function(){return At},doCrop:function(){return Ee},doDeepAr:function(){return Yt},doOverlay:function(){return Ge},doText:function(){return ht},done:function(){return Re},getMaxImageScale:function(){return Ae},getOverlayGradientCoordinates:function(){return Ve},imageFromGroup:function(){return $t},normalizeStageFile:function(){return we},proceedFile:function(){return ke},proceedHistory:function(){return ss},removeTextArea:function(){return pt},resetCrop:function(){return Ze},resetOverlay:function(){return tt},setOverlayColors:function(){return ze},setUpCrop:function(){return $e},startDeepAr:function(){return Vt},switchEffectDeepAr:function(){return Kt},textAlignSwitch:function(){return it},textBackgroundSwitch:function(){return Qe},textBoldSwitch:function(){return ot},transparentOverlayColor:function(){return je}});s(501286);var a=s(227361),i=s.n(a),n=(s(333948),s(838862),s(403650)),o=s(720144),c=(s(966337),s(173764),s(199887)),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-view",{key:e.$i18n.locale})},u=[],l={name:"AppMain"},m=l,h=s(801001),f=(0,h.Z)(m,d,u,!1,null,null,null),p=f.exports,g=s(590594),y=s(550615),v=s(840519),P=s(427816),S=s(654025),w=s(34469),b=s(619011),I=s(869730),k=s(264487),C=s(495659),T=s(49680),$=s(12954),L=s(834253),M=s.n(L),_=s(82154),A=s.n(_),F=s(317152),x=s(674347),D=s(466990),E=s(72433),U=s(581142),R=s(368793),O=s(174103),Z=s(743650),B=s(88824);const j="imageEditor",W="#000000",V="#2fb2ff",q=Math.PI/180,N={regular:400,strong:700,light:300};var H=s(558985);function z(e={}){return new H.Group({draggable:!0,dragBoundFunc:()=>this.group.absolutePosition(),...e})}var X=s(244415);function G(e){return new X.Layer({id:`base_layer_${e}`,fill:W})}var Y=s(671298);function K(e){const t=new Y.Image({x:e.width/2,y:e.height/2,id:"editable_image",image:e,draggable:!1,width:e.width,height:e.height,offset:{x:e.width/2,y:e.height/2},scale:{x:1,y:1},rotation:0,stroke:V,strokeWidth:2,strokeEnabled:!1,skewEnable:!1,blurEnable:!1,dragBoundFunc:e=>e});return t.historySource=e.src,t}function J(e,t){const s=new Y.Image({x:0,y:0,name:"sticker",image:e,width:e.width,height:e.height,scale:{x:t,y:t},rotation:0,skewEnable:!1,blurEnable:!1,historySource:e.src});return s.historySource=e.src,s}var Q=s(275244);function ee(e){return new Q.Rect({fill:"black",opacity:.5,globalCompositeOperation:"xor",...e})}s(439575),s(829135),s(348675),s(103462),s(33824),s(682472);function te(){var e,t,s,r,a,i,n,o,c,d,u,l,m,h,f,p,g,y,v,P,S,w,b,I,k,C,T,$,L,M,_;const A=new Uint32Array([1,2,4,8,16,32,64,128,256,512,1024,2048,4096]),F=[0,4,2,1],x=[8,8,4,2],D=[],E=[],U=[];b=void 0,I=null,w=1,S=P=v=y=0,m=l=u=d=!1;const R={GCExt:249,COMMENT:254,APPExt:255,UNKNOWN:1,IMAGE:44,EOF:59,EXT:33};function O(e){var t=this.pos=0;const s=this.data=new Uint8Array(e),r=this.data.length;this.getString=function(e){var r="";t=this.pos;while(e--)r+=String.fromCharCode(s[t++]);return this.pos=t,r},this.readSubBlocks=function(){var e,a,i="";t=this.pos;while(0!==e&&t<r){a=e=s[t++];while(a--)i+=String.fromCharCode(s[t++])}return this.pos=t,i},this.readSubBlocksB=function(){var e,a,i=[],n=0;t=this.pos;while(0!==e&&t<r){a=e=s[t++];while(a--)i[n++]=s[t++]}return this.pos=t,i}}function Z(e,t){var s,a,i,n,o,c,d,u,l,m,h;const f=A,p=[];for(i=a=0,n=f[e],o=n+1,c=e+1,d=!0,s=0;s<n;s++)p[s]=[s];h=o+1;while(d){for(l=u,u=0,s=0;s<c;s++)t[i>>3]&f[7&i]&&(u|=f[s]),i++;if(u===n){for(c=e+1,h=o+1,s=0;s<o;s++)p[s]=[s];p[o]=[0],p[n]=[0]}else{if(u===o)break;for(u>=h?p[h++]=[...p[l],p[l][0]]:l!==n&&(p[h++]=[...p[l],p[u][0]]),m=p[u].length,s=0;s<m;s++)r[a++]=p[u][s];c<12&&h===f[c]&&(c+=1)}}}function B(e){var t=0;e<<=2;const s=new Uint8Array(e);while(t<e)s[t++]=a.data[a.pos++],s[t++]=a.data[a.pos++],s[t++]=a.data[a.pos++],s[t++]=255;return new Uint32Array(s.buffer)}function j(){a.pos+=6,y=a.data[a.pos++]+(a.data[a.pos++]<<8),v=a.data[a.pos++]+(a.data[a.pos++]<<8),r=new Uint8Array(y*v);const e=a.data[a.pos++];if(fe.colorRes=(112&e)>>4,L=1<<1+(7&e),M=a.data[a.pos++],a.pos++,128&e){_=B(L);const e=_[M];C=void 0!==e?`rgb(${255&e},${e>>8&255},${e>>16&255})`:"black"}le("decodestart",{width:y,height:v},!0),setTimeout(Y,0)}function W(){a.pos+=1,"NETSCAPE"===a.getString(8)?a.pos+=8:(a.pos+=3,a.readSubBlocks())}function V(){a.pos++;const e=a.data[a.pos++];h=(28&e)>>2,f=!!(1&e),p=a.data[a.pos++]+(a.data[a.pos++]<<8),g=a.data[a.pos++],a.pos++}function q(){function i(a){var i,n,o;const c=s/a;for(i=0,e!==s&&(t=new Uint8Array(s),e=s),n=0;n<4;n++)for(o=F[n];o<c;o+=x[n])t.set(r.subarray(i,i+a),o*a),i+=a}const n={};D.push(n),n.disposalMethod=h,n.time=P,n.delay=10*p,P+=n.delay,n.leftPos=a.data[a.pos++]+(a.data[a.pos++]<<8),n.topPos=a.data[a.pos++]+(a.data[a.pos++]<<8),n.width=a.data[a.pos++]+(a.data[a.pos++]<<8),n.height=a.data[a.pos++]+(a.data[a.pos++]<<8);const o=a.data[a.pos++];n.localColourTableFlag=!!(128&o),n.localColourTableFlag&&(n.localColourTable=B(1<<1+(7&o))),s!==n.width*n.height&&(s=n.width*n.height),n.transparencyIndex=f?g:void 0,Z(a.data[a.pos++],a.readSubBlocksB()),64&o?(n.interlaced=!0,i(n.width)):n.interlaced=!1,N(n)}function N(e){var a,i,n,o;e.image=document.createElement("canvas"),e.image.width=y,e.image.height=v,e.image.ctx=e.image.getContext("2d");const c=e.localColourTableFlag?e.localColourTable:_;k=k||e,a=2===k.disposalMethod||3===k.disposalMethod,a||e.image.ctx.drawImage(k.image,0,0,y,v);const u=e.image.ctx.getImageData(e.leftPos,e.topPos,e.width,e.height),l=e.transparencyIndex,m=new Uint32Array(u.data.buffer);for(o=e.interlaced?t:r,i=0;i<s;i++)n=o[i],l!==n?m[i]=c[n]:a&&(m[i]=0);e.image.ctx.putImageData(u,e.leftPos,e.topPos),d||(fe.image=e.image),k=e}function H(){k=null,a=void 0,h=void 0,f=void 0,p=void 0,g=void 0,r=void 0,t=void 0,s=void 0,t=void 0,l=!0}function z(){u=!1,d||(c=o=0,D.length>0&&(fe.image=D[0].image)),Q(),H()}function X(){z()}function G(){const e=a.data[a.pos++];e===R.GCExt?V():e===R.COMMENT?E.push(a.readSubBlocks()):e===R.APPExt?W():(e===R.UNKNOWN&&(a.pos+=13),a.readSubBlocks())}function Y(){if(!0===m)return X();const e=a.data[a.pos++];if(e===R.IMAGE){if(q(),le("progress",{progress:(a.pos/a.data.length*1e3|0)/10,frameCount:D.length}),fe.firstFrameOnly)return z()}else{if(e===R.EOF)return z();G()}setTimeout(Y,0)}function K(){return!l&&(m=!0)}function J(e){le("error",{message:e},!1),u=!1}function Q(){c=o=0,le("load",{frameCount:D.length},!0),fe.playOnLoad&&fe.play()}function ee(e){i=new Uint8Array(e),a=new O(e),j()}function te(e){var t=new XMLHttpRequest;T=e,u=!0,t.responseType="arraybuffer",t.onload=function(e){404===e.target.status?(T=void 0,J("File not found")):e.target.status>=200&&e.target.status<300?ee(t.response):(T=void 0,J("Loading error : "+e.target.status))},t.onerror=function(e){T=void 0,J("File error "+e.message)},t.open("GET",e,!0),t.send()}function se(e){if(void 0===T)T=e,setTimeout((()=>te(T)),0);else{const e="GIF is limited to a single load. Create a new GIF object to load another gif.";J(e),console.warn(e)}}function re(e){w=(100*e|0)/100,b=void 0,0===Math.abs(w)&&(w=0,d&&ie())}function ae(){d||(0===w&&(w=1),$=!1,d=!0,ue())}function ie(){$=!0,d=!1,clearTimeout(n),b=void 0}function ne(){$||!d?fe.play():fe.pause()}function oe(e){clearTimeout(n),b=void 0,I=null,o=(e%D.length+D.length)%D.length,d?ue():(fe.image=D[o].image,c=D[o].time)}function ce(e){e<0&&(e=0),e%=P;var t=0;while(t<D.length&&e>D[t].time+D[t].delay)t+=1;return t}function de(e){clearTimeout(n),b=void 0,I=null,o=ce(1e3*e),d?ue():(c=D[o].time,fe.image=D[o].image)}function ue(){var e,t,s=!1,r=0;if(0!==w){if(void 0!==b&&null===I){const e=b-performance.now();e<-S/2?(s=!0,b=(b+e/w)%P+P,o=ce(b),t=w<0?0===o?D.length-1:o-1:o):e<0&&(r=e)}s||(w<0?(o=null!==I?I:0===o?D.length-1:o-1,t=0===o?D.length-1:o-1):(null!==I&&(o=I),t=o=(o+1)%D.length)),e=Math.abs(D[t].delay/w)+r,S=Math.abs(D[t].delay/w),b=performance.now()+e,fe.image=D[o].image,c=D[o].time,n=setTimeout(ue,e),I=null}else fe.pause()}function le(e,t,s=!1){U["on"+e]&&setTimeout((()=>{t.type=e,t.gif=fe,t.buffer=i,U["on"+e](t),s&&he(e)}),0)}function me(e,t){"function"===typeof t&&("progress"!==e&&(t=t.bind(fe)),U["on"+e]=t)}function he(e){void 0!==U["on"+e]&&(U["on"+e]=void 0)}const fe={image:null,comments:E,get paused(){return $},get playing(){return d},get loading(){return u},get complete(){return l},set src(e){se(e)},cancel:K,get backgroundColor(){return C},get src(){return T},get width(){return y},get height(){return v},get naturalWidth(){return y},get naturalHeight(){return v},get allFrames(){return D.map((e=>e.image))},get duration(){return P},get currentFrame(){return o},get currentTime(){return c},get frameCount(){return D.length},get playSpeed(){return w},getFrame(e){return D[e<0?0:e>=D.length?D.length-1:e].image},set currentFrame(e){oe(e)},set currentTime(e){de(e)},set playSpeed(e){re(e)},playOnLoad:!0,firstFrameOnly:!1,set onload(e){me("load",e)},set onerror(e){me("error",e)},set onprogress(e){me("progress",e)},set ondecodestart(e){me("decodestart",e)},play:ae,pause:ie,seek:de,seekFrame:oe,togglePlay:ne};return fe}async function se(e,t){const s=document.createElement("canvas"),r=r=>{const a=te();function i(e){const{gif:a}=e;s.width=a.width,s.height=a.height;const i=s.getContext("2d");function n(){i.clearRect(0,0,s.width,s.height),i.drawImage(a.image,0,0),t.batchDraw(),requestAnimationFrame(n)}requestAnimationFrame(n),t.batchDraw(),r({buffer:e.buffer,canvas:s})}a.src=e,a.onload=i};return new Promise(r)}async function re(e){let t={};await se(e,this.layer).then((e=>t=e));const s=new Y.Image({name:"gif",image:t.canvas}),r=.3*this.group.height()/s.height(),a=.3*this.group.width()/s.width(),i=r<a?r:a;return s.scaleX(i),s.scaleY(i),s.x(this.group.width()/2-s.width()/2*i),s.y(this.group.height()/2-s.height()/2*i),s.imgOrigWidth=s.width(),s.imgOrigHeight=s.height(),s.perfectDrawEnabled(!1),s.fixed_ratio=!0,s.historySource=e,{gif:s,buffer:t.buffer}}function ae(e){const t=e.position();t.w=e.width()*e.scaleX(),t.h=e.height()*e.scaleX(),t.r=e.rotation();const s=t.w*Math.cos(t.r*q),r=t.w*Math.sin(t.r*q),a={x:t.x+s,y:t.y+r},i=t.h*Math.cos((t.r+90)*q),n=t.h*Math.sin((t.r+90)*q),o={x:a.x+i,y:a.y+n},c=t.h*Math.cos((t.r+90)*q),d=t.h*Math.sin((t.r+90)*q),u={x:t.x+c,y:t.y+d},l={x:(t.x+o.x)/2,y:(t.y+o.y)/2},m={x:(t.x+u.x)/2,y:(t.y+u.y)/2},h={x:(a.x+o.x)/2,y:(a.y+o.y)/2},f={x:(t.x+a.x)/2,y:(t.y+a.y)/2},p={x:(u.x+o.x)/2,y:(u.y+o.y)/2},g={A:f.y-p.y,B:p.x-f.x,C:f.x*p.y-p.x*f.y},y={A:m.y-h.y,B:h.x-m.x,C:m.x*h.y-h.x*m.y};return{topRight:a,bottomRight:o,bottomLeft:u,center:l,equation_v:g,equation_h:y}}var ie=ae;function ne({x:e,y:t},s){const r=Math.cos(s*q),a=Math.sin(s*q);return{x:e*r-t*a,y:t*r+e*a}}var oe=ne,ce=s(893577);function de(){return[...this.layer.find(".sticker"),...this.layer.find(".gif"),...this.layer.find(".label"),...this.layer.find("::edit"),...this.layer.find(".MergedGroup")]}var ue=de;function le(){return{height:window.innerHeight-document.getElementById("imageEditorHeader").clientHeight-document.getElementById("imageEditorFooter").clientHeight,width:document.getElementById("imageEditorStage").offsetWidth}}var me=s(907643);function he(e,t="pointer"){e.on("mouseenter",(()=>{this.stage.container().style.cursor=t})),e.on("mouseleave",(()=>{this.stage.container().style.cursor="default"}))}function fe(e,t){let s,r,a,i;(0,ce.Z)(e),e.on("rotatestart",(r=>{this.viewState.isRotatingMoveable=!0,a=r.evt.gesture.rotation,r.evt.gesture.pointers.length<2||(this.userActions.isShapeRotating=!0,e.draggable(!1),t.from=this.history.normalizeMoveableObject(t),s=ie(t),i=t.scaleX(),t.draggable(!1))})),e.on("rotate",(e=>{const n=a-e.evt.gesture.rotation;if(!(n<30&&n>-30)||!i||2!==e.evt.gesture.pointers.length||!this.userActions.isShapeRotating)return;const o=i*e.evt.gesture.scale,c=t.rotation()-n,d={x:-t.width()*o/2,y:-t.height()*o/2},u=oe(d,t.rotation()),l=oe(d,c),m=l.x-u.x,h=l.y-u.y;t.rotation(c),t.x(t.x()+m),t.y(t.y()+h),s=ie(t),r={x:(t.x()-s.center.x)/t.scaleX(),y:(t.y()-s.center.y)/t.scaleX()};const f={x:r.x*o+s.center.x,y:r.y*o+s.center.y};t.position(f),t.scale({x:o,y:o}),a=e.evt.gesture.rotation,this.layer.batchDraw()})),e.on("rotateend rotatecancel",(()=>{this.viewState.isRotatingMoveable=!1,this.history.push("moveableObject","modifyRotation",e.historyId,this.history.normalizeMoveableObject(t)),this.userActions.isShapeRotating=!1,e.moveToTop(),e.draggable(!0),this.imageConf.shadows.moveToTop(),this.layer.batchDraw()}))}function pe(e){const t=document.querySelector(e);if(!t)return null;const s=this.stage.getPointerPosition(),r=document.querySelector(e).getBoundingClientRect(),a={x:r.x+r.width/2-document.querySelector(".image_editor > .image_editor_holder ").offsetLeft,y:r.y+r.height/2-60},i=Math.abs(Math.sqrt(Math.pow(s.x-a.x,2)+Math.pow(s.y-a.y,2)));return i<=30}var ge=pe;function ye(e,t){let s=!1,r={};e.on("dragstart",(t=>{const a=this.stage.getPointerPosition(),i=this.stage.getAllIntersections(a),n=i.find((e=>/::edit/.test(e.name())));if(n)return;s=!0,e.from=this.history.normalizeMoveableObject(e),this.userActions.shapeIsDraging=!0,this.api.events.$emit("shapeDragging",!0),e.moveToTop(),this.imageConf.shadows.moveToTop();const o="mousemove"===t.evt.type?t.evt.x:t.evt.touches[0].clientX,c="mousemove"===t.evt.type?t.evt.y:t.evt.touches[0].clientY,d=e.x(),u=e.y();r={x:o/this.imageConf.ratio-d,y:c/this.imageConf.ratio-u}})),e.on("dragmove",(t=>{if(r&&!this.userActions.shapeIsRotating&&s){const s=document.querySelector(".text_delete svg.g-icon");s&&"default"===this.viewState.screen&&(s.style.fontSize=ge.call(this,".text_delete")?"40px":"30px"),"mousemove"===t.evt.type&&(e.position({x:t.evt.x/this.imageConf.ratio-r.x,y:t.evt.y/this.imageConf.ratio-r.y}),this.layer.batchDraw()),"touchmove"===t.evt.type&&1===t.evt.touches.length&&(e.position({x:t.evt.touches[0].clientX/this.imageConf.ratio-r.x,y:t.evt.touches[0].clientY/this.imageConf.ratio-r.y}),this.layer.batchDraw())}})),e.on("dragend",(()=>{if(s){if(s=!1,!this.userActions.shapeIsRotating)if(e.moveToTop(),this.imageConf.shadows.moveToTop(),ge.call(this,".text_delete")){"gif"===t.name()&&(this.gifs.storage=[],this.api.events.$emit("saveAsCopyPermToggle",this.settingsPassed.saveAsCopy)),"QuestionBlock"===t.name()&&setTimeout((()=>{this.api.events.$emit("imageEditor::question::remove")})),"AnswerBlock"===t.name()&&setTimeout((()=>{this.api.events.$emit("imageEditor::answer::remove")}));const s=this.history.normalizeMoveableObject(t);s.x=e.from.x,s.y=e.from.y,s.childX=t.x(),s.childY=t.y(),this.history.push("moveableObject","delete",e.historyId,s),e.destroy(),this.layer.batchDraw()}else setTimeout((()=>{this.history.push("moveableObject","modifyPosition",e.historyId,this.history.normalizeMoveableObject(e))}));this.userActions.shapeIsDraging=!1,this.api.events.$emit("shapeDragging",!1),r=null}}))}function ve(e,t=!1){let s,r,a,i;const n=z.call(this,{name:"MergedGroup"});if("label"!==e.name()){n.historyId=e.historyId;const t=this.history.installMoveableObject(n,e);n.historyId=t.id,e.historyId=t.id}const o=new me.Circle({x:e.x()+e.width()*e.scaleX(),y:e.y(),name:"dimensionCircle::edit",radius:4/this.imageConf.ratio,fill:"#5dc6ef",stroke:"#01afef",strokeWidth:1,draggable:!0});return t||(he.call(this,o,"crosshair"),o.on("dragstart",(t=>{"mousemove"===t.evt.type&&(e.from=this.history.normalizeMoveableObject(e),a=e.scaleX(),i=e.rotation(),r=ie(e),s={x:t.evt.x/this.imageConf.ratio-o.x(),y:t.evt.y/this.imageConf.ratio-o.y()})})),o.on("dragmove",(t=>{const n=e.width()*e.scaleX()/this.imageConf.ratio,o=e.height()*e.scaleY()/this.imageConf.ratio,c=()=>{const e=t.evt.x/this.imageConf.ratio-s.x-r.center.x,a=t.evt.y/this.imageConf.ratio-s.y-r.center.y;return 180*Math.atan2(a,e)/Math.PI};if("mousemove"===t.evt.type){const d=Math.pow(n,2),u=Math.pow(o,2),l=Math.sqrt(u+d)/2,m=c(),h=Math.pow(e.width()/this.imageConf.ratio,2),f=Math.pow(e.height()/this.imageConf.ratio,2),p=Math.sqrt(h+f)/2,g=t.evt.x/this.imageConf.ratio-s.x,y=t.evt.y/this.imageConf.ratio-s.y+12,v=Math.pow(g-r.center.x,2),P=Math.pow(y-r.center.y,2),S=Math.sqrt(v+P)/this.imageConf.ratio,w=i-m-45,b=1/p*l,I=(1/l*S-1)*b,k=a+I;a=k;const C=e.rotation()-w,T={x:-e.width()*k/2,y:-e.height()*k/2},$=oe(T,e.rotation()),L=oe(T,C),M=L.x-$.x,_=L.y-$.y;e.rotation(C),e.x(e.x()+M),e.y(e.y()+_);const A=ie(e),F={x:(e.x()-A.center.x)/e.scaleX(),y:(e.y()-A.center.y)/e.scaleX()},x={x:F.x*k+A.center.x,y:F.y*k+A.center.y};e.position(x),e.scale({x:k,y:k}),i=e.rotation()}this.layer.batchDraw()})),o.on("dragend",(()=>{this.history.push("moveableObject","modifyRotation",n.historyId,this.history.normalizeMoveableObject(e))})),o.hide(),n.add(o)),n.add(e),he.call(this,e),n.on("click dragstart",(t=>{"mouseup"===t.evt.type&&(e.strokeEnabled&&e.strokeEnabled()?(o.hide(),e.strokeEnabled(!1)):(e.strokeEnabled&&(e.strokeEnabled(!0),e.stroke("rgba(255,255,255,0.5)"),e.strokeWidth(1/this.imageConf.ratio)),o.show(),o.moveToTop()),this.layer.batchDraw())})),n.on("dragend",(()=>{o.hide(),e.strokeEnabled&&e.strokeEnabled(!1),this.layer.batchDraw()})),n.initialImageScale=this.imageConf.ratio,this.group.add(n),this.layer.batchDraw(),this.methods.normalizeStageFile(),this.api.events.$on("preSave",(()=>{o.hide(),e.strokeEnabled&&e.strokeEnabled(!1)})),n.draggable(!0),ye.call(this,n,e),t||fe.call(this,n,e),{group:n,konvaNode:e,circle:o}}function Pe(){this.imageConf.shadows&&this.imageConf.shadows.destroy();const e=ee({x:0,y:0-this.group.y(),height:this.group.y(),width:this.image.width()/this.imageConf.ratio}),t=ee({x:e.x(),y:e.y()+e.height()+this.image.height(),height:e.height(),width:e.width()}),s=ee({x:e.x()-this.group.x(),y:e.y(),height:e.height()+this.image.height()+t.height(),width:this.group.x()}),r=ee({x:s.x()+this.image.width()+s.width(),y:s.y(),height:s.height(),width:s.width()});return this.imageConf.shadows=new H.Group,this.imageConf.shadows.add(e),this.imageConf.shadows.add(t),this.imageConf.shadows.add(s),this.imageConf.shadows.add(r),"default"!==this.viewState.screen&&this.imageConf.shadows.hide(),this.group.add(this.imageConf.shadows),!0}function Se(){if(!this.image)return;const e=this.imageConf.ratio;this.config=le(),this.stage.height(this.config.height),this.stage.width(this.config.width);const t=this.stage.width()/this.image.width(),s=this.stage.height()/this.image.height(),r=t<s?t:s;this.imageConf.ratio=r<1?r:1,this.group.height(this.image.height()),this.group.width(this.image.width()),this.stage.scale({x:this.imageConf.ratio,y:this.imageConf.ratio});let a=(this.stage.width()-this.image.width()*this.imageConf.ratio)/2,i=(this.stage.height()-this.image.height()*this.imageConf.ratio)/2;return a=a<0?0:a/this.imageConf.ratio,i=i<0?0:i/this.imageConf.ratio,this.group.position({x:a,y:i}),this.image.position({x:this.image.width()/2,y:this.image.height()/2}),this.cropState.cropRect&&this.methods.setUpCrop(),Pe.call(this),e!==this.imageConf.ratio&&ue.call(this).forEach((t=>{const{parent:s}=t;if("MergedGroup"!==s.name())return;const r=100/s.initialImageScale*this.imageConf.ratio/100,a=100/e*this.imageConf.ratio/100;s.scale({x:1/r,y:1/r}),s.position({x:s.x()/a,y:s.y()/a})})),this.layer.batchDraw(),!0}var we=Se;s(782801),s(560285),s(241637);function be(e){if(/^blob/.test(e))return e;const t=atob(e.split(",")[1]),s=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),a=new Uint8Array(r);for(let n=0;n<t.length;n++)a[n]=t.charCodeAt(n);const i=new Blob([r],{type:s});return window.URL.createObjectURL(i)}async function Ie(e,t=0,s,r){e=be(e);const a=async r=>{const a=new Image;a.onload=()=>{setTimeout((()=>{const t=K(a);t.cropReset=!0,t.overlayReset=!0,t.imgSrc=e,t.imgOrigWidth=a.width,t.imgOrigHeight=a.height,t.perfectDrawEnabled(!1),t.fixed_ratio=!0,s?"object"===typeof s&&(this.history.initialImageUrl=e):this.history.push("image","modify",null,{from:this.history.currentImageUrl,to:e}),this.history.currentImageUrl=e,this.historyBlobs[e]=!0,this.imageConf.html=a,r(t)}),t)},a.src=e},i=await new Promise(a);return this.group.add(i),this.image=this.group.findOne("#editable_image"),this.methods.normalizeStageFile(r),this.stage.batchDraw(),i}var ke=Ie,Ce=s(16745);function Te(e,t){let s="undefined"!==typeof e?e:this.cropState.cropXSide,r="undefined"!==typeof t?t:this.cropState.cropYSide;this.cropState.cropXSide=s,this.cropState.cropYSide=r,"portrait"!==this.cropState.cropOrientation&&(s=this.cropState.cropYSide,r=this.cropState.cropXSide),this.cropState.cropRelationActive=s*r;let a=0,i=0,n=100;this.image.cropReset=!1;const o=(e,t)=>{const s=this.stage.height()/(e*this.imageConf.ratio)*100,r=this.stage.width()/(t*this.imageConf.ratio)*100;n=s<=r?s:r,a=t*(n/100),i=e*(n/100)};if(s===r&&0===s)a=this.image.width(),i=this.image.height(),n=100,this.image.cropReset=!0;else if("portrait"===this.cropState.cropOrientation){const e=this.image.height()/r*s,t=this.image.height();e>this.image.width()?(n=e/this.image.width()*100,a=e,i=t):o(t,e)}else{const e=this.image.width(),t=this.image.width()/s*r;if(t>this.image.height()){n=t/this.image.height()*100,a=e,i=t;const s=document.getElementsByClassName("konvajs-content"),r=s[0].clientWidth,o=s[0].clientHeight,c=+(a/i).toFixed(1),d=+(r/o).toFixed(1);d>=1.1&&d>c&&(n/=d/c,a/=d/c,i/=d/c)}else o(t,e)}a*=.9,i*=.9,n-=10;const c=(this.image.width()-a)/2+this.group.x(),d=(this.image.height()-i)/2+this.group.y(),u=360;let l=0;const m=120,h=this.cropState.cropRect.width(),f=a-h,p=this.cropState.cropRect.height(),g=i-p,y=this.cropState.cropRect.x(),v=c-y,P=this.cropState.cropRect.y(),S=d-P,w=this.cropState.imageSizeComp,b=n-w,I=new Ce.Animation((e=>{if(l+=e.timeDiff*u/1e3,0!==f){const e=f/m*l+h;f>0&&e>a||f<0&&e<a?this.cropState.cropRect.width(a):this.cropState.cropRect.width(e)}if(0!==g){const e=g/m*l+p;g>0&&e>i||g<0&&e<i?this.cropState.cropRect.height(i):this.cropState.cropRect.height(e)}if(0!==b){const e=b/m*l+w;this.cropState.imageSizeComp=b>0&&e>n||b<0&&e<n?n:e}if(0!==v){const e=v/m*l+y;v>0&&e>c||v<0&&e<c?this.cropState.cropRect.x(c):this.cropState.cropRect.x(e)}if(0!==S){const e=S/m*l+P;S>0&&e>d||S<0&&e<d?this.cropState.cropRect.y(d):this.cropState.cropRect.y(e)}(f>0&&this.cropState.cropRect.width()>=a||f<0&&this.cropState.cropRect.width()<=a&&v>0&&this.cropState.cropRect.x()>=c||v<0&&this.cropState.cropRect.x()<=c&&S>0&&this.cropState.cropRect.y()>=d||v<0&&this.cropState.cropRect.y()<=d&&g>0&&this.cropState.cropRect.height()>=i||g<0&&this.cropState.cropRect.height()<=i&&b>0&&this.cropState.imageSizeComp>=n||b<0&&this.cropState.imageSizeComp<=n)&&(this.cropState.cropRect.width(a),this.cropState.cropRect.height(i),this.cropState.cropRect.x(c),this.cropState.cropRect.y(d),this.cropState.imageSizeComp=n,I.stop()),this.methods.createShadowRects(this.cropState.cropRect,this.cropState,this.group)}),this.layer);I.start(),setTimeout((()=>{I.stop()}),1e3),this.stage.batchDraw()}var $e=Te;function Le(e){return this.viewState.screen=e,"default"===e?(this.image.draggable(!1),this.layer.batchDraw()):"crop"===e?(this.group.draggable(!1),setTimeout((()=>{this.methods.normalizeStageFile(),this.methods.addCropRect()}),100),this.image.draggable(!0)):"overlay"===e?(this.group.draggable(!1),this.methods.addOverlayRect()):"text"===e&&(this.group.draggable(!1),this.methods.addText()),!0}var Me=Le;function _e(){let e,t,s,r,a,i,n=this.cropState.maxImageScale;const o=()=>{e=this.stage.height()/(r*this.imageConf.ratio)*100,t=this.stage.width()/(r*this.imageConf.ratio)*100,s=e<=t?e:t,n=n<s?s:n};return this.cropState.cropRelations.forEach((e=>{e[0]===e[1]?(r=this.image.width()>=this.image.height()?this.image.height():this.image.width(),o()):(a=this.image.height()/e[1]*e[0],i=this.image.height(),a>this.image.width()?(s=a/this.image.width()*100,n=n<s?s:n):o(),a=this.image.width(),i=this.image.width()/e[1]*e[0],i>this.image.height()?(s=i/this.image.height()*100,n=n<s?s:n):o())})),n}var Ae=_e;function Fe(){this.cropState.cropOrientation=this.image.width()>this.image.height()?"landscape":"portrait",this.maxImageScale=this.methods.getMaxImageScale(),this.stage.findOne("#cropRectLayer")&&this.stage.findOne("#cropRectLayer").destroy(),this.cropState.cropRelationActive=0,this.cropState.cropRect=new Q.Rect({x:this.group.x(),y:this.group.y(),id:"cropRectNode",width:this.image.width(),height:this.image.height(),draggable:!1,fill:"transparent",stroke:"rgba(255,255,255,0.85)",strokeWidth:3/this.imageConf.ratio,scale:this.group.scale(),strokeEnabled:!0});const e=new Q.Rect({id:"multitouchCropRect",x:this.group.x(),y:this.group.y(),width:this.group.width(),height:this.group.height(),draggable:!0,dragBoundFunc:t=>(this.image.position({x:this.currentImagePos.x+(t.x-e.absolutePosition().x)/this.imageConf.ratio,y:this.currentImagePos.y+(t.y-e.absolutePosition().y)/this.imageConf.ratio}),this.layer.batchDraw(),this.group.absolutePosition())});e.on("dragstart",(()=>{this.currentImagePos=this.image.position()})),e.on("dragend",(()=>{this.currentImagePos=this.image.position(),this.image.cropReset=!1})),(0,ce.Z)(e),e.on("rotatestart",(e=>{this.startScale=this.cropState.imageSizeComp/100,this.userActions.oldRotation=e.evt.gesture.rotation,this.image.stopDrag(),this.image.draggable(!1)})),e.on("rotate",(e=>{const t=this.userActions.oldRotation-e.evt.gesture.rotation;t<30&&t>-30&&(this.image.rotate(-t),this.userActions.oldRotation=e.evt.gesture.rotation);const s=this.startScale*e.evt.gesture.scale*100;s<=this.cropState.minImageScale?this.cropState.imageSizeComp=this.cropState.minImageScale:s>=this.cropState.maxImageScale?this.cropState.imageSizeComp=this.cropState.maxImageScale:this.cropState.imageSizeComp=s,this.layer.batchDraw(),this.cropState.imageRotateComp=this.image.rotation()})),e.on("rotateend rotatecancel",(()=>{this.image.draggable(!0),this.image.cropReset=!1,this.layer.batchDraw()})),this.layer.add(this.cropState.cropRect),this.layer.add(e),this.overlayState.overlayRect&&this.overlayState.overlayRect.hide(),ue.call(this).forEach((e=>{e.hide()})),this.layer.batchDraw(),this.methods.setUpCrop(0,0)}var xe=Fe;async function De(){if(this.image.cropReset)this.layer.findOne("#multitouchCropRect").destroy(),this.cropState.cropRect.destroy(),this.cropState.cropRect=null,this.methods.changeScreen("default"),this.methods.normalizeStageFile(),this.overlayState.overlayRect&&(this.overlayState.overlayRect.show(),this.overlayState.overlayRect.moveToTop());else{var e;"function"===typeof(null===(e=this.cropState.cropRect)||void 0===e?void 0:e.strokeEnabled)&&this.cropState.cropRect.strokeEnabled(!1),this.group.clip({x:this.cropState.cropRect.x()-this.group.x(),y:this.cropState.cropRect.y()-this.group.y(),width:this.cropState.cropRect.width(),height:this.cropState.cropRect.height()}),this.stage.scale({x:1,y:1}),this.stage.size({width:this.stage.width(),height:this.stage.height()});const t=this.stage.toDataURL({x:this.cropState.cropRect.x(),y:this.cropState.cropRect.y(),width:this.cropState.cropRect.width(),height:this.cropState.cropRect.height(),pixelRatio:1,mimeType:"image/jpeg"});this.image.destroy(),this.group.clip({x:void 0,y:void 0,width:void 0,height:void 0}),this.layer.findOne("#multitouchCropRect").destroy(),this.cropState.cropRect.destroy(),this.cropState.cropRect=null,await this.methods.proceedFile(t,500).then((()=>{this.overlayState.overlayRect&&(this.methods.addOverlayRect(),this.methods.doOverlay())}))}ue.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))}var Ee=De;function Ue(){window.showPreloader(),setTimeout((async()=>{if(this.logAction(`${this.viewState.screen} done`),"crop"===this.viewState.screen){await this.methods.doCrop();const e=this.api.currentFileStage.layer.findOne(".QuestionBlock");if(e){const{text:t,historyId:s}=e;e.destroy(),setTimeout((()=>{this.methods.addQuestion(void 0,{id:s,disableClickHandler:!0},t)}),1e3)}}else"overlay"===this.viewState.screen?await this.methods.doOverlay():"text"===this.viewState.screen?this.methods.doText():"deepAr"===this.viewState.screen&&await this.methods.doDeepAr();this.methods.changeScreen("default"),window.hidePreloader()}))}var Re=Ue;function Oe(){this.image.width(this.image.imgOrigWidth),this.image.height(this.image.imgOrigHeight),this.image.offsetX(this.image.imgOrigWidth/2),this.image.offsetY(this.image.imgOrigHeight/2),this.image.x(this.image.imgOrigWidth/2),this.image.y(this.image.imgOrigHeight/2),this.image.crop({x:0,y:0,width:this.image.imgOrigWidth,height:this.image.imgOrigHeight}),this.image.rotation(0),this.image.scale({x:1,y:1}),this.cropState.cropOrientation=this.image.width()>this.image.height()?"landscape":"portrait",this.methods.setUpCrop(0,0),this.image.cropReset=!0,this.stage.batchDraw()}var Ze=Oe;function Be(e){if("left"===e){const e=0;this.overlayState.leftColor="transparent",this.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},${e})`,1,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},0)`]),this.layer.batchDraw()}else{const e=0;this.overlayState.rightColor="transparent",this.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},0)`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},${e})`]),this.layer.batchDraw()}}var je=Be;function We(){let e=this.image.width()/2,t=this.image.width()/2,s=0,r=this.image.height(),a=0,i=0,n=0;if(180===Math.abs(this.overlayState.overlayRotation)||0===this.overlayState.overlayRotation)return{startPoint:{x:this.image.width()/2,y:0===this.overlayState.overlayRotation?0:this.image.height()},endPoint:{x:this.image.width()/2,y:0===this.overlayState.overlayRotation?this.image.height():0}};if(90===Math.abs(this.overlayState.overlayRotation))return{startPoint:{x:this.overlayState.overlayRotation<0?0:this.image.width(),y:this.image.height()/2},endPoint:{x:this.overlayState.overlayRotation<0?this.image.width():0,y:this.image.height()/2}};Math.abs(this.overlayState.overlayRotation)<90&&(n=this.overlayState.overlayRotation),Math.abs(this.overlayState.overlayRotation)>90&&Math.abs(this.overlayState.overlayRotation)<180&&(n=this.overlayState.overlayRotation<0?180+this.overlayState.overlayRotation:this.overlayState.overlayRotation-180),a=this.image.height()/2*Math.sin(n*(Math.PI/180));const o=Math.sqrt(Math.pow(this.image.width(),2)+Math.pow(this.image.height(),2)),c=180*Math.asin(Math.sin(this.image.height()/o))/Math.PI;return Math.abs(n)>90-c?(n<0?(e=0,t=this.image.width()):(e=this.image.width(),t=0),i=this.image.height()/2-this.image.width()/2*Math.tan(Math.PI*(90-Math.abs(n))/180),s=i,r=this.image.height()-i):(e=this.image.width()/2+a,t=this.image.width()/2-a,s=0,r=this.image.height()),Math.abs(this.overlayState.overlayRotation)>90&&Math.abs(this.overlayState.overlayRotation)<180&&(s=r+s,r=s-r,s-=r,e=t+e,t=e-t,e-=t),{startPoint:{x:e,y:s},endPoint:{x:t,y:r}}}var Ve=We;function qe(){const e=this.methods.getOverlayGradientCoordinates();this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy();const t=new Q.Rect({id:"overlayRect",x:this.image.x(),y:this.image.y(),width:this.image.width(),height:this.image.height(),offsetX:this.image.offsetX(),offsetY:this.image.offsetY(),fillLinearGradientStartPoint:e.startPoint,fillLinearGradientEndPoint:e.endPoint,fillLinearGradientColorStops:[0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},1)`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},1)`],draggable:!1,opacity:this.overlayState.overlayOpacity});this.overlayState.overlayRect=t;const s=new Q.Rect({id:"multitouchRectOverlay",width:this.stage.width()/this.imageConf.ratio,height:this.stage.height()/this.imageConf.ratio,draggable:!1});let r;(0,ce.Z)(s),s.on("rotatestart",(e=>{r=this.overlayState.overlayOpacityComputed/100,r=0===r?.01:r,this.userActions.oldRotation=e.evt.gesture.rotation})),s.on("rotate",(e=>{const t=this.userActions.oldRotation-e.evt.gesture.rotation;if(t<30&&t>-30){let s=this.overlayState.overlayRotationComputed-t;s=s>180?s-360:s<-180?s+360:s,this.overlayState.overlayRotationComputed=s,this.userActions.oldRotation=e.evt.gesture.rotation}const s=r*e.evt.gesture.scale*100;this.overlayState.overlayOpacityComputed=s<=0?0:s>=100?100:s,this.layer.batchDraw()})),s.on("rotateend rotatecancel",(()=>{this.layer.batchDraw()})),this.group.add(t),this.layer.add(s),ue.call(this).forEach((e=>{e.hide()})),this.layer.batchDraw()}var Ne=qe;function He(){const e="transparent"===this.overlayState.leftColor?"0":"1",t="transparent"===this.overlayState.rightColor?"0":"1";this.overlayState.overlayRect&&this.overlayState.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},${e})`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},${t})`]),this.overlayState.overlayReset=!1,this.layer.batchDraw()}var ze=He;async function Xe(){this.overlayState.overlayReset?(this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy(),this.layer.findOne("#multitouchRectOverlay").destroy()):this.layer.findOne("#multitouchRectOverlay").destroy();const e=await this.methods.imageFromGroup(!1,{onlyPicture:!0});this.overlayState.overlayRect&&this.overlayState.overlayRect.destroy(),this.image.destroy(),await this.methods.proceedFile(e.dataURL,0).then((()=>{this.overlayState.overlayRect=null})),ue.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))}var Ge=Xe;s(115306);function Ye(e){const t=document.createElement("span");document.querySelector(".image_editor > .image_editor_holder").appendChild(t),t.id="span_check_textareasize",t.style.lineHeight=e.style.lineHeight,t.style.fontFamily=e.style.fontFamily,t.style.fontWeight=e.style.fontWeight,t.style.display="inline-block",t.style.color=e.style.color,t.style.fontSize=e.style.fontSize,t.style.position="absolute",t.style.width="auto",t.style.maxWidth=e.style.maxWidth,t.style.wordWrap="break-word",t.innerText="A";const s=t.offsetHeight,r=e.value.split("\n").length;t.style.padding=e.style.padding,t.innerHTML=e.value.replace(/\n\r?/g,"<br />");const a=t.offsetWidth+8,i=(t.offsetHeight-2*parseInt(e.style.padding,10))/s,n=document.querySelector(".image_editor").offsetWidth/2-t.offsetWidth/2,o=document.querySelector(".image_editor").offsetHeight/2-t.offsetHeight/2,c=i>=r?i:r,d={width:a+10,height:s*c+2*parseInt(e.style.padding,10),x:n,y:o};return t.remove(),d}var Ke=Ye;function Je(){const e=this.textState.currentText.getParent().findOne(".tag");this.textState.textBackground?(this.textState.textBackground=!1,e.fill(null),this.methods.changeTextColor("black"===this.textState.textBackgroundColor?"white":this.textState.textBackgroundColor)):(this.textState.textBackground=!0,e.fill(`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`),this.methods.changeTextColor("white"===this.textState.rightTextColor?"black":this.textState.rightTextColor))}var Qe=Je;function et(){if(!this.overlayState.overlayRect)return;this.api.events.$emit("overlayComputedsChange",{rotation:0,opacity:30}),this.overlayState.leftColor="transparent",this.overlayState.rightColor="transparent";const e="transparent"===this.overlayState.leftColor?"0":"1";this.overlayState.overlayRect.fillLinearGradientColorStops([0,`rgba(${this.overlayState.colors[this.overlayState.leftColor]},${e})`,1,`rgba(${this.overlayState.colors[this.overlayState.rightColor]},${e})`]),this.overlayState.overlayReset=!0,this.layer.batchDraw()}var tt=et;function st(e){const t=this.textState.currentText.getParent().findOne(".tag");t.fill()?(this.textState.textBackgroundColor=e,this.textState.currentText.textBackgroundColor=this.textState.textBackgroundColor,t.fill(`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`),"white"!==e?(this.textState.rightTextColor="white",this.textState.currentText.fill(`rgb(${this.overlayState.colors[this.textState.rightTextColor]})`)):(this.textState.rightTextColor="black",this.textState.currentText.fill(`rgb(${this.overlayState.colors[this.textState.rightTextColor]})`))):(this.textState.rightTextColor=e,this.textState.currentText.fill(`rgb(${this.overlayState.colors[this.textState.rightTextColor]})`));const s=document.getElementById("textEditArea");"undefined"!==typeof s&&(s.style.background=t.fill()?`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`:"none",s.style.color=this.textState.currentText.fill()),this.layer.batchDraw()}var rt=st;function at(){"center"===this.textState.textAlign?(this.textState.textAlign="left",this.textState.currentLabel.x(30/this.imageConf.ratio)):"left"===this.textState.textAlign?this.textState.textAlign="right":"right"===this.textState.textAlign&&(this.textState.textAlign="center"),this.textState.currentText.align(this.textState.textAlign);const e=document.getElementById("textEditArea");if(this.textState.currentLabel.moved=!1,"undefined"!==typeof e){e.style.textAlign=this.textState.currentText.align();const t=this.methods.calcTextAreaParams(e);e.style.left=`${t.x}px`,e.style.top=`${t.y}px`}this.stage.batchDraw()}var it=at;function nt(){const e=Object.keys(N);this.textState.textBold=e[(e.indexOf(this.textState.textBold)+1)%e.length];const t=document.getElementById("textEditArea");if("undefined"!==typeof t){t.style.fontWeight=`${N[this.textState.textBold]}`,this.textState.currentText.fontStyle(`${N[this.textState.textBold]}`);const e=this.methods.calcTextAreaParams(t);t.style.left=`${e.x}px`,t.style.top=`${e.y}px`,t.style.width=`${e.width}px`,t.style.height=`${e.height}px`}this.stage.batchDraw()}var ot=nt,ct=(s(573210),s(956067)),dt=s(723787);function ut(e={},t={}){this.textState.rightTextColor="white",this.textState.textBackgroundColor="black",this.textState.textBackground=!1,this.textState.textAlign="center";const s=new dt.Text({x:e.Text?e.Text.x:this.group.width()/2,y:e.Text?e.Text.y:this.image.y(),text:e.Text?e.Text.text:"",fontSize:e.Text?e.Text.fontSize:this.textState.defaultTextFontSize/this.imageConf.ratio,fontFamily:"Open Sans",padding:12/this.imageConf.ratio,align:this.textState.textAlign,fill:"rgb(255,255,255)",fontStyle:"regular"===this.textState.textStyle?"normal":this.textState.textStyle});e.Text||(s.x(s.x()-s.width()/2),s.textBackgroundColor=null);const r=new ct.Label({x:t.childX||this.group.width()/2-s.width()/2,y:t.childY||this.image.y(),draggable:!1,scale:{x:t.scaleX||1,y:t.scaleY||1},name:"label"});r.moved=!1,r.add(new ct.Tag({cornerRadius:5/this.imageConf.ratio,name:"tag"})),r.add(s),t.rotation&&r.rotation(t.rotation);const{group:a,circle:i}=ve.call(this,r);if(t.id){r.historyId=t.id,a.historyId=r.historyId;const e=this.history.installMoveableObject(a,r);a.historyId=e.id}if(e.Text&&(t.childX||(r.x(e.x),r.y(e.y)),r.children.each((t=>{const s=e[t.className];s&&Object.keys(s).forEach((e=>{t[e](s[e])}))})),r.historySource=e),t.x&&a.x(t.x),t.y&&a.y(t.y),a.draggable(!0),!e.Text){const e=new Q.Rect({x:0,y:0,width:this.image.width(),height:this.image.height(),fill:"rgba(0,0,0,0.4)",id:"shadowRect"});this.group.add(e)}this.textState.currentText=s,this.textState.currentLabel=r;let n=0;s.addEventListener("tap",(()=>{n||setTimeout((()=>{n=0}),300),n+=1,2===n&&s.fire("dblclick")})),s.addEventListener("dblclick",(()=>{if(i.hide(),this.textState.afterTextRotate)return this.textState.afterTextRotate=!1,!1;r.hide();const e=document.createElement("textarea");if(e.onblur=()=>{e.focus()},document.querySelector(".image_editor > .image_editor_holder").appendChild(e),this.textState.currentText=s,this.textState.currentLabel=r,"text"!==this.viewState.screen){this.viewState.screen="text";const e=this.textState.currentText.getParent().findOne(".tag");this.textState.textBackground=!!e.fill();const t=new Q.Rect({x:0,y:0,width:this.image.width(),height:this.image.height(),fill:"rgba(0,0,0,0.4)",id:"shadowRect"});this.group.add(t),r.moveUp()}this.layer.batchDraw(),this.textState.textBackgroundColor=this.textState.currentText.textBackgroundColor,this.textState.textAlign=this.textState.currentText.align(),e.value=s.text(),e.style.position="absolute",e.style.fontSize=s.fontSize()*this.imageConf.ratio+"px",e.style.fontStyle="normal",e.style.fontWeight=this.textState.currentText.fontStyle(),e.style.border="none",e.style.wordWrap="break-word",e.style.borderRadius="5px",e.style.padding=s.padding()*this.imageConf.ratio+"px",e.style.margin="0px",e.style.overflow="hidden",e.style.background="none",e.style.background=r.findOne(".tag").fill()?`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`:"none",e.style.outline="none",e.style.resize="none",e.style.lineHeight=s.lineHeight(),e.style.fontFamily=s.fontFamily(),e.style.transformOrigin="left top",e.style.textAlign=s.align(),e.style.color=s.fill(),e.style.zIndex=10,e.style.maxWidth=this.config.width-120+"px",e.id="textEditArea",e.focus(),+this.textState.currentText.fontStyle()?this.textState.textBold=Object.keys(N).find((e=>`${N[e]}`===this.textState.currentText.fontStyle())):this.textState.textBold="regular";const t=this.methods.calcTextAreaParams(e);e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.x}px`,e.style.top=`${t.y}px`,e.addEventListener("focusout",(()=>{})),"input propertychange".split(" ").forEach((t=>{e.addEventListener(t,(()=>{const t=this.methods.calcTextAreaParams(e),s=this.textState.currentText.getParent().findOne(".tag");e.style.background=s.fill()&&e.value.replace(/[\r\n]+/gm,"").trim().length?`rgb(${this.overlayState.colors[this.textState.textBackgroundColor]})`:"none",e.style.left=`${t.x}px`,e.style.top=`${t.y}px`,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`}))})),setTimeout((()=>{}))})),e.Text||s.fire("dblclick")}var lt=ut;function mt(){let e=document.getElementById("textEditArea");"undefined"!==typeof e&&this.methods.removeTextArea(e,this.textState.currentText,this.textState.currentLabel,null),this.currentText=null,this.currentLabel=null}var ht=mt;function ft(e,t,s,r){if(!e)return!1;if(e.value.length>0){if("undefined"!==typeof s&&"undefined"!==typeof s.getText()){t.width(parseInt(e.style.width)/this.imageConf.ratio),t.text(e.value);const r=s.parent;if(s.historySource&&(s.from=JSON.parse(JSON.stringify({...s.historySource,x:s.x(),y:s.y()}))),s.moved){const e=s.position().x+s.width()/2;s.x(e-s.width()/2)}else s.x(this.group.width()/2-t.width()/2);s.show(),s.moveUp(),s.historySource={x:s.x(),y:s.y(),...s.children.reduce(((e,t)=>(e[t.className]=t.attrs,e)),{})},s.historySource=JSON.parse(JSON.stringify(s.historySource)),r.historyId=s.historyId;const a=this.history.installMoveableObject(r,s);r.historyId=a.id,a.id===s.historyId&&this.history.push("moveableObject","modifyAttrs",a.id,this.history.normalizeMoveableObject(s)),s.historyId=r.historyId}}else t.destroy(),s.destroy(),this.textState.currentText=null,this.textState.currentLabel=null,this.layer.batchDraw();const a=this.group.findOne("#shadowRect");"undefined"!==typeof a&&a.destroy(),this.layer.batchDraw(),e.remove(),window.removeEventListener("click",r),window.removeEventListener("touchstart",r),this.textState.currentText=null,this.textState.currentLabel=null,this.methods.changeScreen("default")}var pt=ft;async function gt(e,t={}){window.showPreloader();const s=s=>{const r=new Image;r.onload=()=>{const a=t.scaleX||.25*this.group.height()/r.height,i=t.scaleY||.25*this.group.width()/r.width,n=a<i?a:i,o=J(r,n);o.x(t.childX||this.group.width()/2-o.width()/2*n),o.y(t.childY||this.group.height()/2-o.height()/2*n),o.imgSrc=e,o.imgOrigWidth=r.width,o.imgOrigHeight=r.height,o.perfectDrawEnabled(!1),o.fixed_ratio=!0,t.rotation&&o.rotation(t.rotation),t.id&&(o.historyId=t.id),s(o)},r.src=e},r=await new Promise(s),{group:a}=ve.call(this,r);return t.x&&a.x(t.x),t.y&&a.y(t.y),this.api.events.$emit("stickerAdded",a),this.logAction("sticker add"),this.methods.normalizeStageFile(),window.hidePreloader(),a}var yt=gt,vt=(s(21703),s(963729)),Pt=s(550196);const St="streamfans.js?rev=202303011546-a20df7c5cb";class wt{constructor(e){this.worker=e,this.callStack={},this.worker.onmessage=e=>{const t=e.data;this.callStack[t.id]&&(t.error?this.callStack[t.id].reject(t.result):this.callStack[t.id].resolve(t.result))}}async post(e,t){const s=Math.random().toString(36).substr(2,9);return this.callStack[s]=(0,vt.P)(),this.worker.postMessage({fn:e,args:t,id:s}),this.callStack[s].promise.then((e=>(t=[],e)))}}const bt=function(){function e(e,t){try{return e()}catch(s){throw console.error(s),new Error(t)}}function t(e){const{width:t,height:s}=e,r=Module.pxImageData.createObject(t,s,4),a=r.data(),i=e.data;return Module.HEAPU8.set(i,a),r}function s(e){const t=e.length,s=Module.pxEncodedData.createObject();s.create(t);const r=s.data(),a=e;return Module.HEAPU8.set(a,r),s}function r(e){const t=e.size(),s=e.data();return new Uint8Array(Module.HEAPU8.buffer,s,t)}Module.perform=function(a,i,n){let o=null;const c=e((()=>t(a)),"Background convert errored");if(i){const t=e((()=>s(i.gifBuffer)),"Gif convert errored");o=r(e((()=>Module.make_stick_mp4(c,t,i.x,i.y,i.rotation,i.width,i.height)),"New gif is not done")),t.delete()}else o=r(e((()=>Module.make_img2mp4_ext(c,n,6e7)),"New video is not created to js Buffer"));return c.delete(),new Blob([o],{type:"video/mp4"})}};async function It(){const e=(0,vt.P)();if(window.WASMMP4Worker)e.resolve(window.WASMMP4Worker);else{const t=window.location.origin,s="/theme/onlyfans/spa/",r=await Pt.ZP.get(`${s}${St}`,{responseType:"arraybuffer"}),a=new Blob([r.data],{type:"text/plain"}),i=await new Promise((e=>{const t=new FileReader;t.onload=t=>{e(t.target.result)},t.readAsText(a)})),n=`\n  Module = {};\n  Module.locateFile = function () { return '${t}${s}streamfans.wasm?rev=202303011546-a20df7c5cb' };\n  Module.onRuntimeInitialized = function () { console.log('WASM ready'); postMessage({ ready: true }) };\n  (${bt})()\n  onmessage = function (e) {\n    var id = e.data.id;\n    var fn = e.data.fn;\n    var args = e.data.args;\n    var result = null;\n    var error = false;\n    try {\n      result = Module[fn].apply(null, args);\n    } catch (e) {\n      error = true;\n      result = e;\n    }\n    var argsToSend = { result: result, fn: fn, id: id, error: error };\n    postMessage({ result: result, fn: fn, id: id, error: error });\n\n    for (var key in args) {\n      delete args[key];\n    }\n  }\n  ${i}\n  `,o=URL.createObjectURL(new Blob([n],{type:"application/javascript"})),c=new Worker(o);c.onmessage=t=>{try{t.data.ready&&(window.WASMMP4Worker=new wt(c),e.resolve(window.WASMMP4Worker))}catch(t){e.reject(t)}}}return e.promise}class kt{constructor({backgroundImageData:e,gifs:t=[],time:s=1e3,context:r}={}){this.time=s,this.Module=null,this.background=e,this.context=r,this.gif=t[0],this.result=null}static createWorker(e){const t=e;t.workerLoaded||t.worker||(t.worker=It(),console.log("WASM start loading"),t.worker.then((e=>{t.workerLoaded=!0,t.worker=e})))}async perform(){kt.createWorker(this.context);const e=await this.post("perform",[this.background,this.gif,this.time]);return e}async post(e,t=[]){return this.context.workerLoaded||await this.context.worker,this.context.worker.post(e,t)}}var Ct=kt;async function Tt(e,{toCanvas:t=!1,toVideo:s=!1,onlyPicture:r=!1}={}){this.api.events.$emit("preSave");const a=this.group.findOne(".QuestionBlock");a&&!r&&a.destroy();const i=s?2e3:1200,n=this.gifs.storage.length,o=(n||s)&&!r&&this.image.width()>i?100/this.image.width()*i/100:1;if(this.stage.scale({x:o,y:o}),this.deepArSettings.ratio=o,this.stage.size({width:this.stage.width(),height:this.stage.height()}),(n||s)&&!r){const e=this.gifs.storage[0],t=this.group.toCanvas({x:this.image.x()*o-this.image.width()*o/2+this.group.x()*o,y:this.image.y()*o-this.image.height()*o/2+this.group.y()*o,width:this.image.width()*o,height:this.image.height()*o,pixelRatio:1});this.api.events.$emit("showGifs");const r=t.getContext("2d"),a=r.getImageData(0,0,t.width,t.height),i=[];if(e&&!s){const t=e.buffer,s=this.image.getClientRect(),r=e.konva.getClientRect(),a=r.x-s.x,n=r.y-s.y,c=e.konva.width()*e.konva.scaleX()*o,d=e.konva.height()*e.konva.scaleX()*o,u=-1*e.konva.rotation();i.push({gifBuffer:t,x:a,y:n,width:c,height:d,rotation:u})}this.methods.normalizeStageFile();const n=new Ct({backgroundImageData:a,gifs:i,context:this.gifs}),c=await new Promise((e=>{const t=setTimeout((()=>{this.logError(new Error("Too long init video")),alert("Something went wrong. Please try again"),window.hidePreloader(),e(!1)}),2e4);n.perform().then((s=>{clearTimeout(t),e(s)})).catch((e=>(this.logError(e),alert("Something went wrong. Please try again"),window.hidePreloader(),!1)))}));return{mime:"video/mp4",blob:c}}const c=this.group[t?"toCanvas":"toDataURL"]({x:this.image.x()-this.image.width()/2+this.group.x(),y:this.image.y()-this.image.height()/2+this.group.y(),width:this.image.width(),height:this.image.height(),pixelRatio:1,mimeType:"image/jpeg"});if(this.methods.normalizeStageFile(),!t){const e=c.split(","),t=((e[0]||"").match(/:(.*?);/)||[])[1],s=atob(e[1]);let r=s.length;const a=new Uint8Array(r);while(r--)a[r]=s.charCodeAt(r);return{mime:t,buffer:a,dataURL:c}}return{canvas:c}}var $t=Tt;async function Lt(){const e="new_file",t=await this.methods.imageFromGroup(!0);let s=t.mime.split("/")[1];if("mp4"===s&&(s="gif"),t.buffer)return new File([t.buffer],`${e}.${s}`,{type:t.mime});if(t.blob){const r=await new Promise((e=>{const s=new FileReader;s.onload=t=>{e(t.target.result)},s.readAsArrayBuffer(t.blob)}));return new File([r],`${e}.${s}`,{type:t.mime})}return!1}var Mt=Lt;function _t(e,t,s){t.shadows&&t.shadows.destroy();let r=s.getClientRect();r={x:r.x,y:r.y,height:r.height/this.imageConf.ratio,width:r.width/this.imageConf.ratio};let a=e.getClientRect();a={x:a.x,y:a.y,height:a.height/this.imageConf.ratio,width:a.width/this.imageConf.ratio};const i=2*r.width+a.width,n=a.height,o=i,c=n,d=r.width,u=a.height,l=d,m=u,h=a.x+(e.x()-(a.x+s.x()))-d,f=a.y+(e.y()-(a.y+s.y()))-n,p=h,g=a.y+(e.y()-(a.y+s.y()))+c,y=a.x?a.x+(e.x()-(a.x+s.x()))-d:0-d,v=a.y+(e.y()-(a.y+s.y())),P=a.x?a.x+(e.x()-(a.x+s.x()))+a.width:a.width,S=a.y+(e.y()-(a.y+s.y())),w=ee({x:h,y:f,height:n,width:i}),b=ee({x:p,y:g,height:c,width:o}),I=ee({x:y,y:v,height:u,width:d}),k=ee({x:P,y:S,height:m,width:l});return t.shadows=new H.Group,t.shadows.add(w),t.shadows.add(b),t.shadows.add(I),t.shadows.add(k),this.group.add(t.shadows),!0}var At=_t;async function Ft(e,t={}){Object.keys(this.gifs.storage).length&&(this.gifs.storage[0].konva.destroy(),this.gifs.storage=[]),window.showPreloader(),Ct.createWorker(this.gifs);const s=await re.call(this,e,this.layer);t.childX&&s.gif.x(t.childX),t.childY&&s.gif.y(t.childY),t.id&&(s.gif.historyId=t.id),t.rotation&&s.gif.rotation(t.rotation);const{group:r}=ve.call(this,s.gif);this.api.events.$on("preSave",(()=>{r.hide()})),this.gifs.storage.push({konva:s.gif,buffer:s.buffer}),t.x&&r.x(t.x),t.y&&r.y(t.y),this.api.events.$on("showGifs",(()=>{r.show()})),this.api.events.$emit("gifAdded",this.gifs.storage.gif),!0===this.settings.saveAsCopy&&this.api.events.$emit("saveAsCopyPermToggle",!1),this.logAction("gif add"),window.hidePreloader()}const xt="deepar.js";function Dt(){return"https://static.onlyfans.com/theme/onlyfans/spa/deepAr/"}function Et(){const e="deepArScript",t=document.getElementById(e);if(!t){const t=document.createElement("script");return window.deepArRevision="202303011546-a20df7c5cb",t.setAttribute("src",`${Dt()}${xt}?rev=202303011546-a20df7c5cb`),t.setAttribute("id",e),t.setAttribute("loaded","no"),new Promise((e=>{t.onload=()=>{t.setAttribute("loaded","yes"),e(window.DeepAR)},setTimeout((()=>{e(window.DeepAR)}),1e4),document.head.appendChild(t)})).catch((()=>!1))}return window.DeepAR}class Ut{constructor(e){this.DeepAr=null,this.editor=e}async init(e,t){await new Promise((e=>{setTimeout((()=>{e()}),1e3)}));const s=await Et(),r=document.getElementById("deepArCanvasPlaceholder"),a=this.editor.deepArSettings.height,i=this.editor.deepArSettings.width,n=document.createElement("video");n.loop=!0,n.muted=!0,n.playsinline=!0,n.crossorigin="anonymous",n.autoplay=!0,n.controls=!0,n.src=e,n.style.position="absolute",n.style.left="-9999px",r.appendChild(n);const o=this.editor,c=document.createElement("canvas"),d=new s({canvasWidth:i,canvasHeight:a,licenseKey:"ddfe0cc5d0ce5cb0ada4fc7e925cac5b3a2e74c6df0f74f791816fe51d065e4588fececd4651943b",canvas:c,numberOfFaces:1,onInitialize(){d.setVideoElement(n,!1),window.hidePreloader(),d.switchEffect(0,"slot",`${Dt()}effects/baseBeauty.bin?rev=202303011546-a20df7c5cb`),o.deepAr=d,t()}});r.appendChild(c),d.downloadFaceTrackingModel(`${Dt()}models/models-68-extreme.bin?rev=202303011546-a20df7c5cb`),this.editor.deepAr=d}}var Rt=Ut;function Ot(e,t,s,r){this[`history${e}`].undo.push({type:t,stateType:s,options:r}),this[`history${e}`].redo=[]}function Zt(e,t){const s="undo"===t?"redo":"undo",r=this[`history${e}`][t].pop();this[`history${e}`][s].push(r)}function Bt(e){this[`history${e}`]={undo:[],redo:[],push:Ot.bind(this,e),pop:Zt.bind(this,e)}}function jt(e,t){let s;const r=this,a=()=>{!0!==this.viewState.isDraggingMoveable&&(clearTimeout(s),s=null,this.viewState.longTap=!1,document.removeEventListener("mouseup",a),document.removeEventListener("touchend",a))},i=e=>{(t||"editable_image"===e.target.attrs.id)&&(e.evt&&e.evt.touches&&e.evt.touches.length>1||(s=setTimeout((()=>{!0!==r.viewState.isRotatingMoveable&&(document.addEventListener("mouseup",a),document.addEventListener("touchend",a),this.viewState.longTap=!0)}),600)))};let n=t?"addEventListener":"on";e[n]("mousedown",i),e[n]("touchstart",i),e[n]("mouseup",a),e[n]("touchend",a)}var Wt=jt;async function Vt(){window.showPreloader();const e=new Rt(this);ue.call(this).forEach((e=>{e.hide()})),Bt.call(this,"deepAr");const t=await this.methods.imageFromGroup(!1,{toVideo:!0});if(!t.blob)return void this.methods.cancelDeepAr();const s=URL.createObjectURL(t.blob);this.deepArSettings={...this.deepArSettings,width:this.image.width()*this.imageConf.ratio,height:this.image.height()*this.imageConf.ratio},await e.init(s,(()=>{this.api.events.$emit("deepArInit",!0)}));const r=document.getElementById("deepArCanvasPlaceholder");r.style.minHeight=`${this.config.height}px`,Wt.call(this,r,!0),this.methods.changeScreen("deepAr")}const qt=e=>{const t=2,s=/(\u00a9|\u00ae|[\u2000-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/;let r=(e.displayName||e.name).trim();const a=[];if(r){const e=r.split(/\s+/);if(!(e.length>1))return r=r.replace(s,""),r.substr(0,Math.min(r.length,t)).split("").map(((e,t)=>t?e:e.toUpperCase())).join("");for(let r=0;r<Math.min(e.length,t);r+=1){const t=[...e[r].toString().trim()][0];(a.length<1||!s.exec(a[0])&&!s.exec(t))&&a.push(t)}}return a.join("").toUpperCase()};function Nt(e,t,s){this.questionOnBlurHandler&&this.api.events.$root.$off("imageEditor::question::blur",this.questionOnBlurHandler),this.hide&&this.api.events.$root.$off("imageEditor::question::focus",this.hide);const r=this.api.$store.getters["auth/authUser"],{avatarThumbs:a}=r,i=this.image.width(),n=this.image.height(),o=i/n<=1,c=(o?.5*i:.25*i)/.9,d=332,u=i/2,l=n/2,m=.08*c,h=m+c/100,f=16*c/d,p=24*f/16,g=20*f/16,y=c/10-f,v=.42*p-f,P=u-c/2,S=l,w=e=>{const a=new ct.Label({x:P,y:S,width:c}),o=new ct.Label({x:(c-m)/2,width:c});o.add(new me.Circle({radius:h,fill:"white",stroke:"#8a96a340",strokeWidth:1})),e?o.add(new me.Circle({radius:m,fillPatternImage:e,fillPatternRepeat:"no-repeat",fillPatternScaleX:2*m/e.width,fillPatternScaleY:2*m/e.width,fillPatternOffsetX:e.width/2,fillPatternOffsetY:e.width/2})):(o.add(new me.Circle({radius:m,fill:"#8a96a31f"})),o.add(new dt.Text({fill:"#00aff0",fontStyle:"bold",padding:-g/2,verticalAlign:"middle",text:qt(r),fontSize:g,width:.9*c})));const d=new ct.Label({y:y}),u=new dt.Text({fill:"#00aff0",fontStyle:"normal",text:"Ask me a question",align:"center",verticalAlign:"middle",fontSize:p,width:c-2*f,padding:f,lineHeight:1.25});d.add(u);const l=new ct.Label({x:.05*c}),w=new ct.Tag({fill:"#8a96a340",cornerRadius:c/50});l.add(w),l.add(new dt.Text({fill:"#8a96a3",text:"write something...",align:"center",width:.9*c-2*f,padding:f,fontSize:f}));const b=new ct.Tag({fill:"rgba(255,255,255,1)",cornerRadius:c/50,width:c,stroke:"#8a96a340",strokeWidth:1}),I=new ct.Label({name:"QuestionBlock"});a.add(b),a.add(o),a.add(d),a.add(l),I.add(a),null!==t&&void 0!==t&&t.id&&(I.historyId=t.id);const{group:k}=ve.call(this,I,!0),C=(e,t)=>{const s=e/this.image.width(),r=t/this.image.height();this.api.events.$root.$emit("imageEditor::question::updateCoords",{x:s,y:r,width:c})},T=()=>{const{x:e,y:t}=k.position(),s=e-c/2+this.image.width()/2,r=t+this.image.height()/2,a=b.getHeight();let o,d;s<0&&(o=0),s>i-.9*c&&(o=i-.9*c),r<h&&(d=h),r>n-a&&(d=n-a);const u=void 0!==o?o:s,l=void 0!==d?d:r;if(void 0!==o||void 0!==d){const e=u+c/2-this.image.width()/2,t=l-this.image.height()/2;k.position({x:e,y:t})}C(u,l)};function $(){k.show(),k.parent.parent.draw()}this.hide=()=>{k.hide(),k.parent.parent.draw()},this.questionOnBlurHandler=e=>{I.text=e||"Ask me a question",u.setAttr("text",I.text);const t=u.getHeight(),s=l.getHeight();l.setY(t+y+v),w.setHeight(s);const r=t+s+y+v+.05*c;b.setHeight(r),$()};const L=()=>{this.api.events.$root.$emit("imageEditor::question::focus")};return this.api.events.$root.$on("imageEditor::question::focus",this.hide),this.api.events.$root.$on("imageEditor::question::blur",this.questionOnBlurHandler),k.on("dragend",T),k.on("click",L),k.on("tap",L),T(),this.hide(),t&&!t.disableClickHandler&&L(),s&&this.questionOnBlurHandler(s),this.logAction("question add"),this.methods.normalizeStageFile(),k};if(a){const e=new Image;e.src=a.c192||a.c144,e.onload=()=>{w(e)}}else w()}var Ht=Nt;function zt(){const{answer:e}=this.settings;if(!e)return;const t=this.image.width(),s=this.image.height(),r=332,a=t/s<=1,i=a?.5*t:.25*t,n=t/2,o=s/2,c=16*i/r,d=24*c/16,u=n-i/2,l=o,m=new ct.Label({x:u,y:l,width:i}),h=new ct.Label({width:i}),f=new ct.Tag({fill:"#262626",width:i,cornerRadius:i/50}),p=new ct.Tag({fill:"#262626",width:i,height:i/25}),g=new dt.Text({fill:"white",text:e.question,align:"center",width:i,padding:c,fontSize:c});h.add(f),h.add(p),h.add(g);const y=new ct.Label({width:i}),v=new ct.Tag({fill:"white",width:i,cornerRadius:i/50,stroke:"#8a96a340",strokeWidth:1}),P=new ct.Tag({fill:"white",width:i,height:i/25}),S=new dt.Text({fill:"#262626",text:e.text,align:"center",width:i,padding:d,fontSize:d});y.add(v),y.add(P),y.add(S);const w=new ct.Label({name:"AnswerBlock"});m.add(h),m.add(y),w.add(m);const{group:b}=ve.call(this,w,!0);b.draggable(!0),b.parent.parent.draw();const I=g.getHeight();f.setHeight(I),p.setY(I-i/25);const k=S.getHeight();y.setY(I),v.setHeight(k),b.on("dragend",(()=>{const{x:e,y:r}=b.position(),a=e-i/2+this.image.width()/2,n=r+this.image.height()/2,o=I+k;let c,d;a<0&&(c=0),a>t-i&&(c=t-i),n<0&&(d=0),n>s-o&&(d=s-o);const u=void 0!==c?c:a,l=void 0!==d?d:n;if(void 0!==c||void 0!==d){const e=u+i/2-this.image.width()/2,t=l-this.image.height()/2;b.position({x:e,y:t})}})),b.parent.parent.draw(),this.logAction("answer add")}var Xt=zt;async function Gt(){const e=document.getElementById("deepArCanvasPlaceholder");this.deepAr.setCanvasSize(this.deepArSettings.width/this.deepArSettings.ratio,this.deepArSettings.height/this.deepArSettings.ratio);const t=await new Promise((e=>{this.deepAr.onScreenshotTaken=t=>{e(t)},this.deepAr.takeScreenshot()}));return this.image.destroy(),e.innerHTML="",e.style.minHeight="0px",await this.methods.proceedFile(t,0,!1,!0).then((()=>{this.logAction("deepAr data",{makeup:this.deepArSettings.makeup,beauty:this.deepArSettings.beauty_effects}),this.resetDeepArSettings(),this.deepAr=null,ue.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()})),this.methods.normalizeStageFile()}))}var Yt=Gt;async function Kt(e,t,s){if(!this.deepAr)return;window.showPreloader();const r="/theme/onlyfans/spa/deepAr/";this.deepAr.switchEffect(0,t,`${r}effects/${e}?rev=202303011546-a20df7c5cb`,(function(){s&&s(),window.hidePreloader()}))}async function Jt(){const e=document.getElementById("deepArCanvasPlaceholder");e.innerHTML="",e.style.minHeight="0px",ue.call(this).forEach((e=>{e.show(),e.moveToTop(),e.parent.moveToTop()})),this.deepAr=null,this.resetDeepArSettings(),this.methods.changeScreen("default")}var Qt=Jt;const es={moveableObject:{create:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];t.destroy(),"gif"===e.name&&(this.gifs.storage=[])},redo({options:e}){if("sticker"===e.name)this.methods.addSticker(e.source,{id:e.id});else if("gif"===e.name)this.methods.addGif(e.source,{id:e.id});else if("label"===e.name)this.methods.addText(e.source,{id:e.id});else if("QuestionBlock"===e.name){const t=Object.entries(this.history.moveableObjects).map((e=>e[1])),s=t.find((e=>{var t;return"QuestionBlock"===(null===(t=e.konva.children[0])||void 0===t?void 0:t.attrs.name)}));s&&s.konva.destroy(),this.methods.addQuestion(e.source,e)}else"AnswerBlock"===e.name&&this.methods.addAnswer()}},modifyPosition:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];Object.keys(e.from).forEach((s=>{"function"===typeof t[s]&&t[s](e.from[s])}))},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];Object.keys(e).forEach((s=>{"function"===typeof t[s]&&t[s](e[s])}))}},modifyRotation:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];let s;t.children.each((e=>{"Circle"!==e.className&&(s=e)})),Object.keys(e.from).forEach((t=>{"function"===typeof s[t]&&s[t](e.from[t])}))},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];let s;t.children.each((e=>{"Circle"!==e.className&&(s=e)})),Object.keys(e).forEach((t=>{"function"===typeof s[t]&&s[t](e[t])}))}},delete:{undo({options:e}){"sticker"===e.name?this.methods.addSticker(e.source,e):"gif"===e.name?this.methods.addGif(e.source,e):"label"===e.name?this.methods.addText(e.source,e):"QuestionBlock"===e.name?this.methods.addQuestion(e.source,e):"AnswerBlock"===e.name&&this.methods.addAnswer()},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];t.destroy(),"gif"===e.name&&(this.gifs.storage=[])}},modifyAttrs:{undo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];if("label"===e.name){let s=null;t.children.each((e=>{"Label"===e.className&&(s=e)})),s&&(s.x(e.from.x),s.y(e.from.y),s.children.each((t=>{const s=e.from[t.className];s&&Object.keys(s).forEach((e=>{t[e](s[e])}))})))}},redo({options:e}){const{konva:t}=this.history.moveableObjects[e.id];if("label"===e.name){let s=null;t.children.each((e=>{"Label"===e.className&&(s=e)})),s&&(s.x(e.source.x),s.y(e.source.y),s.children.each((t=>{const s=e.source[t.className];s&&Object.keys(s).forEach((e=>{t[e](s[e])}))})))}}}},image:{modify:{async undo({options:e}){this.image.destroy(),await this.methods.proceedFile(e.from,100,!0),ue.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))},async redo({options:e}){this.image.destroy(),await this.methods.proceedFile(e.to,100,!0),ue.call(this).forEach((e=>{this.api.events.$emit("showGifs"),e.show(),e.moveToTop(),e.parent.moveToTop()}))}}},deepAr:{vector:{async undo({options:e}){this.deepAr.changeParameterVector.apply(null,e.to),this.deepArSettings.category=e.fromState.category,this.deepArSettings.foundation=e.fromState.foundation,this.deepArSettings[`${e.fromState.category}sub`]=e.fromState.subcategory,this.deepAr.changeParameterFloat("face_makeup","MeshRenderer","foundationLumaClamp",e.oldLumaValue),e.oldLumaValue?this.deepArSettings.foundationIndex=e.fromState.index:this.deepArSettings.foundationIndex=e.fromState.shouldSaveIndex?e.fromState.index:-1,this.deepArSettings.foundationColorsMapStates[`${e.fromState.foundation}${this.deepArSettings.foundationColorsMap[e.fromState.foundation][e.fromState.index].join(",")}`]=e.oldLumaValue,this.deepArSettings.foundation=e.fromState.foundation,this.api.events.$emit("deepArRerender")},async redo({options:e}){this.deepAr.changeParameterVector.apply(null,e.to),this.deepArSettings.category=e.toState.category,this.deepArSettings.foundation=e.toState.foundation,e.lumaValue?this.deepArSettings.foundationIndex=e.toState.index:this.deepArSettings.foundationIndex=e.toState.shouldSaveIndex?e.toState.index:-1,this.deepArSettings[`${e.toState.category}sub`]=e.toState.subcategory,this.deepAr.changeParameterFloat("face_makeup","MeshRenderer","foundationLumaClamp",e.lumaValue),this.deepArSettings.foundationColorsMapStates[`${e.toState.foundation}${this.deepArSettings.foundationColorsMap[e.toState.foundation][e.toState.index].join(",")}`]=e.lumaValue,this.api.events.$emit("deepArRerender")}},parameter:{async undo({options:e}){this.deepArSettings[e.from[0]][e.from[2].replace("blendShape1.","")]=e.shouldReverse?-1*e.from[3]:e.from[3],this.deepArSettings.category=e.category,this.deepArSettings[`${e.category}sub`]=e.subcategory,e.subsubcategory?this.deepArSettings[`${e.category}subsub`]=e.subsubcategory:this.deepArSettings[`${e.category}subsub`]=!1,this.deepAr.changeParameterFloat.apply(null,e.from),this.api.events.$emit("deepArRerender")},async redo({options:e}){this.deepArSettings[e.to[0]][e.to[2].replace("blendShape1.","")]=e.shouldReverse?-1*e.to[3]:e.to[3],this.deepArSettings.category=e.category,this.deepArSettings[`${e.category}sub`]=e.subcategory,e.subsubcategory?this.deepArSettings[`${e.category}subsub`]=e.subsubcategory:this.deepArSettings[`${e.category}subsub`]=!1,this.deepAr.changeParameterFloat.apply(null,e.to),this.api.events.$emit("deepArRerender")}}}};async function ts(e,t){const s=t?this[`history${t}`]:this.history;await new Promise((async r=>{const a=s[e][s[e].length-1];await es[a.type][a.stateType][e].call(this,a,t),this.layer.batchDraw(),s.pop(e);const i=s.undo.length;s.undo=s.undo.slice(-15),s.redo=s.redo.slice(-15),t||i===s.undo.length||(s.didClear=!0),setTimeout((()=>{r()}),100)}))}var ss=ts;function rs(){const e=Object.assign({},r),t=this;for(const s in e)e[s]=function(...e){try{const a=r[s].apply(t,e);return a&&a.catch&&a.catch((e=>{t.logError(e,!0)})),a}catch(a){t.logError(a)}};return e}var as=s(888638);const is=function(){return!(0===this.history.undo.length&&!this.history.didClear)};function ns(e){const t=()=>{Object.keys(this.historyBlobs).forEach((e=>{window.URL.revokeObjectURL(e)}))};this.sendFile=async(s,r)=>{this.api.isStory||window.showPreloader();const a=r?e:await this.methods.createFileType(`${e.name}_edited`);a&&(this.resolve({didModify:is.call(this),asCopy:s,file:a}),this.logAction("file resolved",{asCopy:s}),t()),window.hidePreloader()},this.rejectFile=(s={})=>{this.reject({didModify:!1,asCopy:!1,retake:!1,...s,file:e}),this.logAction("file rejected"),t()},this.logAction=e=>{try{(0,as.Ck)({page:`ImageEditor_${e.replace(" ","-")}`,eventTime:(new Date).toISOString()})}catch(t){console.error(t)}},this.logError=(e,t)=>{Sentry.withScope((t=>{t.setTag("ImageEditor",!0),Sentry.captureException(e)})),t||console.error(e)}}function os(e){const t=this;this.viewState={screen:"default",longTap:!1,isRotatingMoveable:!1},this.imageConf={ratio:1,shadows:null,html:null},this.userActions={shapeIsDraging:null,shapeIsRotating:null,selectedShape:null,oldRotation:0},this.gifs={storage:[],workerLoaded:!1,worker:null};const s={width:0,height:0,ratio:1,category:"makeup",makeupsub:"smooth",facesub:!1,facesubsub:!1,foundationColorsMapStates:{},face_makeup:{smoothingAmount:.3},beauty_shapes:{eyebrows_thickness:0,upper_position_alt:0,eyebrows_position:0,mouth_horizontal:0,jawline:0,mouth_vertical:0,thin:0,nose:0,mouth:0,eyes:0,chin:0},foundation:"light",foundationColorsMap:{light:[[255,250,231,1],[247,221,195,1],[230,184,172,1],[243,205,165,1],[244,205,162,1],[246,212,158,1],[215,189,137,1]],medium:[[220,182,148,1],[182,137,104,1],[233,154,99,1],[200,130,88,1],[217,150,104,1],[156,120,75,1]],dark:[[163,117,93,1],[137,110,83,1],[101,68,38,1],[85,63,39,1],[96,55,40,1]]},foundationIndex:-1};this.deepAr=null,this.deepArSettings=JSON.parse(JSON.stringify(s)),this.resetDeepArSettings=()=>{this.deepArSettings=JSON.parse(JSON.stringify(s))},this.cropState={cropOrientation:"portrait",cropRelationActive:1,cropRelations:[[9,16],[2,3],[3,4],[1,1]],cropXSide:1,cropYSide:1,cropRect:null,shadows:null,maxImageScale:200,minImageScale:50},Object.defineProperty(this.cropState,"imageSizeComp",{get(){return 100*+t.image.scaleX()},set(s){t.image.cropReset=!1,t.image.scale({x:+s/100,y:+s/100}),t.layer.batchDraw(),e.events.$emit("imageSizeViewChange",s)}}),e.events.$on("imageSizeStateChange",(e=>{this.cropState.imageSizeComp=e})),Object.defineProperty(this.cropState,"imageRotateComp",{get(){return+t.image.rotation()},set(s){t.image.rotation(+s),t.layer.batchDraw(),e.events.$emit("imageRotateViewChange",s)}}),e.events.$on("imageRotateStateChange",(e=>{this.cropState.imageRotateComp=e})),this.overlayState={leftColor:"blue",rightColor:"pink",colors:{white:"255,255,255",black:"0,0,0",blue:"56,151,241",green:"112,192,79",yellow:"253,203,92",orange:"252,141,51",pink:"209,7,106",purple:"162,7,186",transparent:"0,0,0"},overlayRect:null,overlayOpacity:.3,overlayRotation:0,overlayReset:!1},Object.defineProperty(this.overlayState,"overlayOpacityComputed",{get(){return 100*t.overlayState.overlayOpacity},set(e){t.overlayState.overlayReset=0===e,t.overlayState.overlayOpacity=e/100,t.overlayState.overlayRect.opacity(t.overlayState.overlayOpacity),t.layer.batchDraw()}}),Object.defineProperty(this.overlayState,"overlayRotationComputed",{get(){return+t.overlayState.overlayRotation},set(e){t.overlayState.overlayRotation=+e;const s=t.methods.getOverlayGradientCoordinates();t.overlayState.overlayRect.fillLinearGradientStartPoint(s.startPoint),t.overlayState.overlayRect.fillLinearGradientEndPoint(s.endPoint),t.layer.batchDraw()}}),this.textState={currentText:"",defaultTextFontSize:18,currentLabel:null,textAlign:"left",textBold:"regular",rightTextColor:"white",textBackgroundColor:"black",textBackground:!1,afterTextRotate:!1},Object.defineProperty(this.textState,"size",{get(){return t.textState.currentText?t.textState.currentText.fontSize()*t.imageConf.ratio:t.textState.defaultTextFontSize},set(e){const s=document.getElementById("textEditArea");if(s){s.style.fontSize=`${e}px`;const r=t.methods.calcTextAreaParams(s);s.style.width=`${r.width}px`,s.style.height=`${r.height}px`,s.style.left=`${r.x}px`,s.style.top=`${r.y}px`}const r=t.textState.currentLabel.position().x+t.textState.currentLabel.width()/2,a=t.textState.currentLabel.position().y+t.textState.currentLabel.height()/2;t.textState.currentText.fontSize(e/t.imageConf.ratio),t.textState.currentLabel.x(r-t.textState.currentLabel.width()/2),t.textState.currentLabel.y(a-t.textState.currentLabel.height()/2),t.layer.batchDraw()}})}var cs=s(502568);function ds(){const e={[this.history.initialImageUrl]:!0},t=this.history.undo.filter(((e={})=>"image"===e.type&&"modify"===e.stateType)),s=this.history.redo.filter(((e={})=>"image"===e.type&&"modify"===e.stateType));t.concat(s).forEach((t=>{e[t.options.from]=!0,e[t.options.to]=!0})),Object.keys(this.historyBlobs).forEach((t=>{e[t]||(window.URL.revokeObjectURL(t),delete this.historyBlobs[t])}))}function us(e){return{x:e.x(),y:e.y(),rotation:e.rotation(),scaleX:e.scaleX(),scaleY:e.scaleY(),name:e.name(),source:e.historySource,from:e.from}}function ls(e,t){const s=!e.historyId,r=e.historyId||(0,cs.Z)(),a={id:r,konva:e};return this.history.moveableObjects[r]=a,s?(this.history.push("moveableObject","create",r,this.history.normalizeMoveableObject(t)),a):a}function ms(e,t,s,r){this.history.undo.length||(this.history.redo=[]),this.history.undo.push({type:e,stateType:t,options:{...r,id:s}}),ds.call(this)}function hs(e){const t="undo"===e?"redo":"undo",s=this.history[e].pop();s&&this.history[t].push(s)}function fs(){this.history={moveableObjects:{},normalizeMoveableObject:us,installMoveableObject:ls.bind(this),undo:[],redo:[],push:ms.bind(this),pop:hs.bind(this),initialImageUrl:"",currentImageUrl:"",didClear:!1},this.historyBlobs={}}function ps({$el:e,file:t,api:s,config:r,resolve:a,reject:i,settings:n}){window.Konva.hitOnDragEnabled=!0,window.Konva.captureTouchEventsEnabled=!0;const o=G(t.name),c=z.call(this),d=e.getStage();o.lock=!1,o.add(c),d.add(o),ns.call(this,t),this.methods=rs.call(this),this.api=s,this.config=r,this.settings={saveAsCopy:!0,disableGifs:!1,...n},this.settingsPassed={saveAsCopy:!0,disableGifs:!1,takePhoto:!1,...n},this.image=null,this.group=c,this.layer=o,this.stage=d,this.resolve=a,this.reject=i,fs.call(this),this.methods.proceedFile(t.url,100,t).then((()=>{s.events.$emit("mounted"),s.$commit("setIsMounted",!0),Wt.call(this,this.stage)})),os.call(this,s)}var gs=ps;function ys(e,t,s,r,a,i){return{namespaced:!0,state:{file:e},actions:{setUpStage(n,{$el:o,config:c}){t[e.name]=new gs({$el:o,file:e,api:s,config:c,resolve:r,reject:a,settings:i})}}}}function vs(e){const t={},s={namespaced:!0,state:{isOpen:!1,currentFilePath:null,currentFileName:null,isMounted:!1},getters:{isOpen(e){return e.isOpen},currentFile(e){return e.currentFilePath},currentFileName(e){return e.currentFileName}},mutations:{open(e,{fileName:t}){e.isOpen=!0,e.currentFilePath=`${j}/${t}`,e.currentFileName=t},close(e){e.isOpen=!1,e.currentFilePath="",e.currentFileName="",e.isMounted=!1},logout(){},setIsMounted(e,t){e.isMounted=t}},actions:{installFile({commit:s},{file:r,api:a,resolve:i,reject:n,settings:o}){e.registerModule([j,r.name],ys(r,t,a,i,n,o)),s("open",{fileName:r.name})},uninstallFile({commit:s},{fileName:r,send:a}){a&&t[r].sendFile(!1,!0),e.unregisterModule([j,r]),s("close"),delete t[r]}}};return e.registerModule(j,s),t}class Ps{constructor(e,t){this.$store=e,this.events=null,Object.defineProperty(this,"currentFile",{get(){return e.getters[`${j}/currentFile`]}}),Object.defineProperty(this,"currentFileStage",{get(){return t[this.currentFileName]||{}}}),Object.defineProperty(this,"currentFileName",{get(){return e.getters[`${j}/currentFileName`]}}),Object.defineProperty(this,"isOpen",{get(){return e.getters[`${j}/isOpen`]}}),Object.defineProperty(this,"isMounted",{get(){return e.state[j].isMounted}})}$dispatch(e,t){return this.$store.dispatch(`${j}/${e}`,t)}$commit(e,t){return this.$store.commit(`${j}/${e}`,t)}$fileDispatch(e,t){return this.$store.dispatch(`${this.currentFile}/${e}`,t)}$fileCommit(e,t){return this.$store.commit(`${this.currentFile}/${e}`,t)}$installFile(e,t){const s=Object.assign({},e);this.events=new o["default"];const r=(0,vt.P)();return this.isStory=t.isStory,this.$dispatch("installFile",{file:s,api:this,resolve:r.resolve,reject:r.reject,settings:t}),document.body.classList.add("image-editor"),r.promise.finally((()=>{this.$uninstallFile(!1,!1)}))}$uninstallFile(e,t){return document.body.classList.remove("image-editor"),this.events.$destroy(),this.events=null,this.$dispatch("uninstallFile",{fileName:e?e.name:this.currentFileName,send:t})}}var Ss=Ps,ws=(s(470039),{install(e,{store:t}){const s=vs(t);e.prototype.$imageEditor=new Ss(t,s)}}),bs={install(e,{store:t,i18n:s}){e.prototype.$tVat=(e,r={})=>{const a=t.getters["auth/authUser"].vatNumberName||"VAT";return s.t(e,{...r,VAT_NAME:a})}}},Is=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-modal",{attrs:{id:e.id,size:"sm","hide-header-close":"","hide-header":!e.title,lazy:"",centered:"","body-class":e.bodyClass},on:{hidden:function(t){return e.$emit("closed")}},scopedSlots:e._u([{key:"modal-header",fn:function(){return[s("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.title)+" ")])]},proxy:!0},{key:"modal-footer",fn:function(){return[s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",attrs:{type:"button"},on:{click:function(t){return e.$emit("deny")}}},[e._v(" "+e._s(e.denyText)+" ")]),s("button",{staticClass:"g-btn m-flat m-btn-gaps m-reset-width",on:{click:function(t){return e.$emit("confirm")}}},[e._v(" "+e._s(e.confirmText)+" ")])]},proxy:!0}]),model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("div",{staticClass:"dialog_message",domProps:{innerHTML:e._s(e.questionText)}})])},ks=[],Cs={name:"ModalInteract",props:{modalShow:{type:Boolean,required:!0},questionText:{type:String,default:""},confirmText:{type:String,default:""},denyText:{type:String,default:""},id:{type:String,default:""},title:{type:String,default:""}},computed:{show:{get(){return this.modalShow},set(e){this.$emit("update:modalShow",e)}},bodyClass(){return this.title?"m-reset-body-padding-top":""}},mounted(){this.$root.$emit("interact::show::modal")},beforeDestroy(){this.$root.$emit("interact::hide::modal")}},Ts=Cs,$s=(0,h.Z)(Ts,Is,ks,!1,null,null,null),Ls=$s.exports;function Ms(e,t={}){const s=Math.random().toString(36).substr(2,9),r=(0,vt.P)();return this.interactTasks.push({questionText:e,id:s,resolve:r.resolve,reject:r.reject,modalShow:!0,modalResult:!1,...t}),r.promise}var _s={install(e){const t={interactTasks:[]};e.component("InteractModal",{data(){return t},render(e){const t=this;return e("div",this.interactTasks.map((s=>e(Ls,{props:{confirmText:s.confirmText||t.$t("message.confirm_button"),denyText:s.denyText||t.$t("message.cancel_button"),...s},on:{deny(){s.modalResult=!1,s.modalShow=!1},confirm(){s.modalResult=!0,s.modalShow=!1},closed(){t.interactTasks=t.interactTasks.filter((e=>e.id!==s.id)),window.enableBodyScroll();try{s.resolve(s.modalResult)}catch(e){}}}}))))}}),window.interact=Ms.bind(t)}},As=s(831147),Fs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{attrs:{to:e.to,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r,a=t.href,i=t.isActive,n=t.isExactActive;return[s("a",e._b({class:(r={},r[e.$attrs["active-class"]]=e.$attrs["active-class"]&&i,r[e.$attrs["exact-active-class"]]=e.$attrs["exact-active-class"]&&n,r),attrs:{href:a},on:{click:function(t){return t.preventDefault(),e.clickHandler.apply(null,arguments)}}},"a",e.$attrs,!1),[e._t("default")],2)]}}],null,!0)})},xs=[],Ds={name:"BaseLink",props:{to:{type:Object,required:!0}},methods:{clickHandler(){if(this.$route.name===this.to.name){const e={...this.to,query:{_:(new Date).getTime().toString()}};void 0!==this.$attrs.replace?this.$router.replace(e):this.$router.push(e),this.$router.replace({...this.to,query:{}})}else void 0!==this.$attrs.replace?this.$router.replace({...this.to}):this.$router.push({...this.to})}}},Es=Ds,Us=(0,h.Z)(Es,Fs,xs,!1,null,null,null),Rs=Us.exports,Os=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("router-link",{attrs:{to:e.to,custom:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.href;return[s("a",{class:{"m-no-pointer":e.disabled},attrs:{href:r},on:{click:function(t){return t.preventDefault(),e.$emit("click")}}},[e._t("default")],2)]}}],null,!0)})},Zs=[],Bs={name:"CustomLink",props:{to:{type:Object,required:!0},disabled:{type:Boolean,default:!1}}},js=Bs,Ws=(0,h.Z)(js,Os,Zs,!1,null,null,null),Vs=Ws.exports;const qs=e=>{const t=e.getAttribute("height")||"",s=e.getAttribute("width")||"";if(e.setAttribute("aria-hidden",!0),t||s){let r=t?`height:${t}px;`:"";r+=s?`width:${s}px;flex: 0 0 ${s}px;`:"",e.setAttribute("style",r)}if(!e.innerHTML){const t=e.getAttribute("class"),s=document.createElementNS("http://www.w3.org/2000/svg","use");s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",`${n.OT}${t}`),s.setAttribute("href",`${n.OT}${t}`);const r=e.getAttribute("fill")||"";r&&s.setAttribute("fill",r),e.appendChild(s)}const r=e.getAttribute("extra-class")||"";e.setAttribute("class",`g-icon ${r}`.trim())};var Ns={install(e){const t={bind(e){qs(e)},componentUpdated(e){e.classList.contains("g-icon")||(e.removeChild(e.lastElementChild),qs(e))}};e.directive("svg-sprite",t)}},Hs=s(181528),zs=s(593081),Xs=s.n(zs),Gs=s(885659),Ys=s.n(Gs),Ks=s(905615),Js=s(434573),Qs=s(718139);const er={async uploaderInit(){const{default:e}=await s.e(11671).then(s.bind(s,647102));return e.install(o["default"],{store:y.Z,i18n:yr})},async perform(e){const t=await this.uploaderInit();return await t.perform(e)},async uploadToS3Async(e){const t=await this.uploaderInit();return await t.uploadToS3Async(e)}};var tr=s(315223),sr=s(532622),rr=s(565936),ar=s(727484),ir=s.n(ar),nr=s(793634),or={unbind(e,t){t.value&&(0,nr.C)(e)}},cr={inserted(e,t,s){if(!window.ResizeObserver)return;const r=i()(s,"componentInstance.swiperInstance",null);if(r){const t=r.el.querySelector(".swiper-wrapper");t&&(e.resizeObserver=new ResizeObserver((e=>{e.forEach((e=>{const{clientWidth:t,scrollWidth:s}=e.target;t<s?r.mousewheel.enable():r.mousewheel.disable()}))})),e.resizeObserver.observe(t))}},unbind(e){e.resizeObserver&&e.resizeObserver.disconnect()},update(e,t,s){const r=i()(s,"componentInstance.swiperInstance",null);if(r){const e=r.el.querySelector(".swiper-wrapper");e&&s.context&&s.context.$nextTick((()=>{const{clientWidth:t,scrollWidth:s}=e;t<s?r.mousewheel.enable():r.mousewheel.disable()}))}}},dr=s(539690),ur=s(963664);o["default"].use(dr.Z),o["default"].directive("click-outside",ur.L);const lr={theme:{disable:!0}};var mr=new dr.Z(lr),hr=s(499490),fr=s(914786);const pr=M().get("cookiesAccepted",{domain:".onlyfans.com"})||fr.Z.getItem("cookiesAccepted");"true"===pr&&(y.Z.commit("init/acceptCookies",!fr.Z.getItem("nonEssential")),localStorage.removeItem("nonEssential")),(0,Ks.em)(y.Z),rr.ZP.load().then((e=>{e.get().then((e=>{M().set("fp",e.visitorId,{domain:".onlyfans.com",expires:"1Y"}),o["default"].prototype.$fp=e.visitorId,y.Z.commit("auth/setVisitorId",e.visitorId)}))})),o["default"].use(Qs.Z),o["default"].use(Ys()),o["default"].use(E.ZP),o["default"].use(U.Z,{vuetify:mr}),o["default"].use(As.ZP,{autoHide:!0,disposeTimeout:100}),As.ZP.enabled=!c.b,o["default"].config.productionTip=!1,o["default"].use(Ns),o["default"].use(M()),o["default"].use(x.ZP),o["default"].use(A(),"wss://ws2.onlyfans.com/ws2/",{connectManually:!0,store:y.Z,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:5e3,format:"json",passToStoreHandler(e,t){if(!e.startsWith("SOCKET_"))return;const s=e.toUpperCase(),r="SOCKET_ONMESSAGE"===s?"dispatch":"commit";this.store[r](`socket/${s}`,t)}}),o["default"].use(F.Z),o["default"].use(D.Z,{breakpoints:{sms:500,sm:768,md:1004,lg:1/0}}),o["default"].use(Js.ZP,{prefetch:!1});const gr=o["default"].cookie.get("lang",{domain:".onlyfans.com"})||"en",yr=new F.Z({locale:gr,postTranslation:(e,t)=>{const s=i()(g.Z,"history.current.name"),{canTranslate:r}=y.Z.getters["init/getInit"]||{};return r&&setTimeout((()=>{y.Z.dispatch("translations/set",{routeName:s,code:t,value:e},{root:!0})})),e}});function vr(e){const t=(0,sr.XP)({lang:e,rev:i()(y.Z.getters["init/getInit"],"textsRev")});return`${n.xm||"https://onlyfans.com"}/texts.js${t}`}async function Pr(e){const t=e=>{switch(e){case"zh":return"zh-cn";case"tw":return"zh-tw";default:return e}},r=t(e);"en"!==e&&await s(94739)(`./${t(e)}.js`),ir().locale(r)}async function Sr(e){await o["default"].loadScript(vr(e)),yr.setLocaleMessage(e,{message:{...window.TEXTS}}),yr.locale=e,document.documentElement.lang=e}async function wr(e){const t=e=>{switch(e){case"pt":return"pt_PT";case"zh":return"zh_CN";case"tw":return"zh_TW";default:return e}};return s(258373)(`./${t(e)}`)}async function br(e,t){const s={[e]:{...t,messages:{...t.messages,email:()=>yr.t("message.email_is_not_valid"),onlyLatin:()=>yr.t("message.only_latin_allowed"),checkPassword:e=>yr.t("message.check_password_validate",{FIELD:e}),minLength:(e,[t])=>yr.t("message.minlength_validation_error",{LENGTH:t}),urls:()=>yr.t("message.urls_validation_error"),cpfValidate:()=>yr.t("message.cpf_validation_error"),checkCardHolderName:()=>yr.t("message.invalid_cardholder_error"),twoWords:()=>yr.t("message.invalid_cardholder_error"),confirmPassword:()=>yr.t("message.passwords_not_match_message")},custom:{reportAbuseDesc:{min:()=>yr.t("message.report_abuse_issue_minlength")}}}};$.cX.localize(e,s[e])}async function Ir(e){try{const t=await wr(e);await Pr(e),await Sr(e),hr.Settings.defaultLocale=e,br(e,t)}catch(t){(0,tr.D)()}}async function kr(e){return window.TEXTS?o["default"].unloadScript(vr(yr.locale)).then((()=>Ir(e))):Ir(e)}o["default"].use($.ZP),o["default"].component("BaseLink",Rs),o["default"].component("CustomLink",Vs),o["default"].use(Xs(),{container:"body",duration:300,easing:"ease",offset:-100,force:!0,cancelable:!0,x:!1,y:!0}),o["default"].directive("dropdownAutohide",or),o["default"].directive("swiperMousewheel",cr),o["default"].use(R.m$),o["default"].use(O.k),o["default"].use(Z.k,{BModal:{returnFocus:{}}}),o["default"].use(B.kH),o["default"].use(ws,{store:y.Z}),o["default"].use(bs,{store:y.Z,i18n:yr}),o["default"].filter("encodeHtml",Hs.HZ),o["default"].filter("removeTags",Hs.av),o["default"].filter("toLocalString",Hs.UH),o["default"].use(_s),o["default"].prototype.$env={NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws2.onlyfans.com",VUE_APP_STATIC:"https://static.onlyfans.com",VUE_APP_STATIC_DOMAINS:"https://static.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_REVISION:"202303011546-a20df7c5cb",BASE_URL:"https://static.onlyfans.com/theme/onlyfans/spa/"},o["default"].prototype.$window=window,o["default"].prototype.$uploader=er,window.Sentry=v;const Cr="202303011546-a20df7c5cb";P.S({Vue:o["default"],environment:"live",dsn:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",ignoreErrors:[/Function\.seal/,/Object\.seal/,"ResizeObserver loop limit exceeded",/instantSearchSDKJSBridgeClearHighlight/,/DolphinBrowserFillData/,/setIOSParameters/,/_AutofillCallbackHandler/,/play\(\)/,"cannot find the <li> container for the click",/PaymentAutofillConfig/,/Network Error/,/Request aborted/,/^chmln is not defined$/,/^linxImpulseInitialized is not defined$/,/^canceled$/,/srcElement\.tagName\.toUpperCase/],normalizeDepth:5,release:Cr,autoSessionTracking:!1,attachProps:!0,transport:S.f,stackParser:w.Dt,integrations:[...b.SS,new I.I],tracesSampleRate:1,beforeSend(e,t){const s=t.originalException||t.syntheticException,r=JSON.stringify(t);return"silent"===(null===s||void 0===s?void 0:s.message)||/loading(?: css)* chunk .* failed./i.test(null===s||void 0===s?void 0:s.message)||"Timeout"===s||r.indexOf("Object.seal")>-1||document.documentMode||r.indexOf("null is not an object (evaluating 'e.scrollTop')")>-1||"Non-Error exception captured with keys: config, data, headers, request, status"===i()(e,"exception.values[0].value")?null:"true"==={NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws2.onlyfans.com",VUE_APP_STATIC:"https://static.onlyfans.com",VUE_APP_STATIC_DOMAINS:"https://static.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_REVISION:"202303011546-a20df7c5cb",BASE_URL:"https://static.onlyfans.com/theme/onlyfans/spa/"}.VUE_APP_DEBUG?(console.error(s),null):e}}),k.e((e=>{e.setTag("domain","onlyfans.com")})),window.SentryStreams=new C.Xb(new T.R({Vue:o["default"],environment:"live",dsn:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",ignoreErrors:[/Function.seal/,/Object.seal/,"ResizeObserver loop limit exceeded"],normalizeDepth:5,release:Cr,transport:S.f,stackParser:w.Dt,attachProps:!0,integrations:[...b.SS,new I.I],beforeSend(e,t){return"true"==={NODE_ENV:"production",VUE_APP_SENTRY_DSN:"https://f2232e26d13941e8acf8cbdfab122f9b@bug2.onlyfans.com/3",VUE_APP_SENTRY_STREAMS_DSN:"https://37137398ef234f0f9af7d1547d785a7e@bug2.onlyfans.com/4",VUE_APP_DOMAIN:"",VUE_APP_TEXTS_DOMAIN:"https://onlyfans.com",VUE_APP_API:"onlyfans.com",VUE_APP_COOKIE_DOMIAN:"onlyfans.com",VUE_APP_WS:"wss://ws2.onlyfans.com",VUE_APP_STATIC:"https://static.onlyfans.com",VUE_APP_STATIC_DOMAINS:"https://static.onlyfans.com",VUE_APP_STAGE:"live",VUE_APP_REVISION:"202303011546-a20df7c5cb",BASE_URL:"https://static.onlyfans.com/theme/onlyfans/spa/"}.VUE_APP_DEBUG?(console.error(t.originalException||t.syntheticException),null):e}})),SentryStreams.configureScope((e=>{e.setTag("domain","onlyfans.com")})),Date.prototype.toISOString||function(){function e(e){return e<10?`0${e}`:e}Date.prototype.toISOString=()=>`${this.getUTCFullYear()}-${e(this.getUTCMonth()+1)}-${e(this.getUTCDate())}T${e(this.getUTCHours())}:${e(this.getUTCMinutes())}:${e(this.getUTCSeconds())}.${(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)}Z`}(),window.publicPath="/theme/onlyfans/spa/";var Tr=new o["default"]({router:g.Z,store:y.Z,i18n:yr,vuetify:mr,render:e=>e(p)}).$mount("#app")},905615:function(e,t,s){"use strict";s.d(t,{S_:function(){return o},em:function(){return d},nI:function(){return c}});s(115306),s(333948),s(573210);var r=s(999023),a=s(422592),i=s(12954),n=s(619849);const o={beforeCreate(){this.$validator.extend("usernameValidator",{getMessage:e=>`${e} is not available.`,validate:e=>new Promise((t=>{if(e===this.authUser.username)return void t({valid:!0});if(e.length<5)return void t({valid:!1});if(e===`${this.userLoginPrefix}${this.authUserId}`)return void t({valid:!0});const s=new RegExp(`^${this.userLoginPrefix}\\d+$`),a=new RegExp("^id\\d+$"),i=new RegExp("^[a-z](?:[._-]?[a-z0-9]+)+$","i");if(s.test(e)||a.test(e)||!i.test(e))return void t({valid:!1});const n={...this.existedUsernames};if(n[e]){const{valid:s}=n[e];if(!s||n[e].checkDate>=+new Date-6e5)return void t({valid:s});delete n[e],this.setExistedUsernames(n)}(0,r.eP)(e).then((({success:s})=>{n[e]={valid:!s},s||(n[e].checkDate=+new Date),this.setExistedUsernames(n),t({valid:!s})})).catch((()=>{t({valid:!0})}))}))},{immediate:!1})},computed:{...(0,n.ri)(["authUser","authUserId"]),...(0,n.Ko)(["existedUsernames"]),usernameValidate(){const e=this.username!==this.authUser.username&&24;return{max:e,usernameValidator:!0}}},methods:{...(0,n.p9)(["setExistedUsernames"])}},c={mounted(){this.$validator.extend("minCardLength",{getMessage:(e,t)=>this.$t("message.card_numbed_min_length_error",{FIELD:e,COUNT:t[0]}),validate:(e,t)=>a.VV.validate(e.replace(/\s/g,""),t)}),this.$validator.extend("maxCardLength",{getMessage:(e,t)=>this.$t("message.card_numbed_max_length_error",{FIELD:e,COUNT:t[0]}),validate:(e,t)=>a.Fp.validate(e.replace(/\s/g,""),t)})}},d=e=>{i.cX.extend("checkPassword",{validate:e=>{const t=new RegExp(/(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,}/);return t.test(e)}}),i.cX.extend("minLength",{validate(e,[t]){return e.length>=t}}),i.cX.extend("urls",{validate:e=>!e.split(/[\s\n]/).filter((e=>e.length)).some((e=>!a.HQ.validate(e)))}),i.cX.extend("noturl",{validate:e=>!a.HQ.validate(e,{require_protocol:!0})}),i.cX.extend("notInPastTime",{validate:e=>{const t=new Date(e).getTime(),s=(new Date).getTime();return t>s}}),i.cX.extend("notInPastDate",{validate:e=>{const t=new Date(e).toDateString(),s=(new Date).toDateString(),r=new Date(e).getTime(),a=(new Date).getTime();return r>a||t===s}}),i.cX.extend("checkCardHolderName",{validate:t=>{const s=!new RegExp(/[^a-z'`\s\-.]+|['`\s\-.]{2}|['`\s\-.]$/gi).test(t.trim()),{cardholderStopwords:r}=e.getters["init/getInit"];if(r&&r.length){const e=new RegExp(`\\b${r.join("\\b|\\b")}\\b`,"gi");return!e.test(t)&&!a.Do.validate(t.trim())&&s}return!a.Do.validate(t.trim())&&s}}),i.cX.extend("twoWords",{validate:e=>e.split(" ").length>1}),i.cX.extend("confirmPassword",{validate:(e,[t])=>e===decodeURIComponent(t)})}},893577:function(e,t){"use strict";function s(e){const t=new window.Hammer(e,{domEvents:!0});return t.get("rotate").set({enable:!0}),t}t["Z"]=s},590594:function(e,t,s){"use strict";s.d(t,{Z:function(){return er}});var r=s(227361),a=s.n(r),i=(s(333948),s(241637),s(720144)),n=s(578345),o=s(198225),c=s(834253),d=s.n(c),u=s(550615),l=s(999023),m=s(161065);s(365069);const h=e=>{const t=e.matched.slice().reverse().find((e=>e.meta&&e.meta.metaTags));Array.from(document.querySelectorAll("[data-page-meta]")).map((e=>e.parentNode.removeChild(e))),t&&t.meta.metaTags.map((e=>{const t=document.createElement("meta");return Object.keys(e).forEach((s=>{t.setAttribute(s,e[s])})),t.setAttribute("data-page-meta",""),t})).forEach((e=>document.head.appendChild(e)))};var f=h,p=s(437035);const g=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(45350),s.e(30296),s.e(93134),s.e(11453),s.e(93491),s.e(29860),s.e(95470),s.e(48063)]).then(s.bind(s,191567)),y=[{path:"/my/referrals",name:"Referrals",component:g,meta:{requiresReferrerAllowed:!0}},{path:"/my/referrals/return_from_referral",name:"ReturnFromReferral",beforeEnter:async(e,t,s)=>{await u.Z.dispatch("auth/logoutFromReferral"),"Referrals"===t.name?window.location.href="/my/referrals":(u.Z.commit("init/setNeededReload",!0),s({name:"Referrals"}))}}];var v=y;const P=()=>Promise.all([s.e(38491),s.e(30306),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(78646),s.e(61696),s.e(83823),s.e(38652),s.e(89144),s.e(77232),s.e(72701),s.e(2889)]).then(s.bind(s,517724)),S=()=>Promise.all([s.e(38491),s.e(30306),s.e(48050),s.e(51474),s.e(9980),s.e(38652),s.e(89144),s.e(20694),s.e(32650)]).then(s.bind(s,703523)),w=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(15776),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(61696),s.e(39638),s.e(39285),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(21169),s.e(6989),s.e(80042),s.e(5640),s.e(16899),s.e(72325),s.e(7665),s.e(63541),s.e(26650),s.e(50993),s.e(48890),s.e(24938),s.e(17447),s.e(47284),s.e(11999),s.e(40122),s.e(4856)]).then(s.bind(s,837539)),b=[{path:"/my/vault",name:"MediaVault",component:P,meta:{requiresPerformer:!0},children:[{path:"list/:list(\\d+)",name:"VaultCustomList"}]},{path:"/my/vault/media/:mediaId(\\d+)",name:"VaultMedia",component:w},{path:"/my/vault/list",name:"VaultLists",component:S,meta:{requiresPerformer:!0}}];var I=b;const k=()=>s.e(94581).then(s.bind(s,304777)),C=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(78646),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(62201),s.e(34195),s.e(66787),s.e(68305),s.e(25500),s.e(26492),s.e(51039),s.e(32642),s.e(97537),s.e(9966),s.e(47125),s.e(35395),s.e(46483),s.e(81262),s.e(43249),s.e(62822),s.e(52308),s.e(21293),s.e(9446),s.e(18917),s.e(72387),s.e(44998),s.e(51412),s.e(64015),s.e(59066),s.e(23407),s.e(84413),s.e(4156),s.e(4112),s.e(23234),s.e(96308),s.e(39265)]).then(s.bind(s,100867)),T=()=>s.e(13145).then(s.bind(s,787887)),$=[{path:"/action/restore_access_confirm",name:"RestoreAccess",component:k},{path:"/action/email/:emailType/:emailCode",name:"ConfirmEmail",component:T},{path:"/action/:trialType(trial|subscribe)/:code",name:"Trial",component:C}];var L=$;const M=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(78646),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(62201),s.e(34195),s.e(66787),s.e(68305),s.e(25500),s.e(26492),s.e(51039),s.e(32642),s.e(97537),s.e(9966),s.e(47125),s.e(35395),s.e(46483),s.e(81262),s.e(43249),s.e(62822),s.e(52308),s.e(21293),s.e(9446),s.e(18917),s.e(72387),s.e(44998),s.e(51412),s.e(64015),s.e(59066),s.e(23407),s.e(84413),s.e(4156),s.e(4112),s.e(23234),s.e(96308),s.e(39265)]).then(s.bind(s,812427)),_=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(78646),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(62201),s.e(34195),s.e(66787),s.e(68305),s.e(25500),s.e(26492),s.e(51039),s.e(32642),s.e(97537),s.e(9966),s.e(47125),s.e(35395),s.e(46483),s.e(81262),s.e(43249),s.e(62822),s.e(52308),s.e(21293),s.e(9446),s.e(18917),s.e(72387),s.e(44998),s.e(51412),s.e(64015),s.e(59066),s.e(23407),s.e(84413),s.e(4156),s.e(4112),s.e(23234),s.e(96308),s.e(39265)]).then(s.bind(s,180397)),A=[{path:"/queue",redirect:"/my/queue"},{path:"/my/schedule_message",redirect:"/my/queue"},{path:"/my/queue/:date?",name:"MyQueue",component:M,meta:{requiresPerformer:!0}},{path:"/saved-for-later",name:"SavedForLater",component:_,meta:{requiresPerformer:!0}}];var F=A;const x=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(78646),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(62201),s.e(34195),s.e(66787),s.e(68305),s.e(25500),s.e(26492),s.e(51039),s.e(32642),s.e(97537),s.e(9966),s.e(47125),s.e(35395),s.e(46483),s.e(81262),s.e(43249),s.e(62822),s.e(52308),s.e(21293),s.e(9446),s.e(18917),s.e(72387),s.e(44998),s.e(51412),s.e(64015),s.e(59066),s.e(23407),s.e(84413),s.e(4156),s.e(4112),s.e(23234),s.e(96308),s.e(39265)]).then(s.bind(s,100867)),D=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(78646),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(62201),s.e(34195),s.e(66787),s.e(68305),s.e(25500),s.e(26492),s.e(51039),s.e(32642),s.e(97537),s.e(9966),s.e(47125),s.e(35395),s.e(46483),s.e(81262),s.e(43249),s.e(62822),s.e(52308),s.e(21293),s.e(9446),s.e(18917),s.e(72387),s.e(44998),s.e(51412),s.e(64015),s.e(59066),s.e(23407),s.e(84413),s.e(4156),s.e(4112),s.e(23234),s.e(96308),s.e(39265)]).then(s.bind(s,64784)),E=()=>Promise.all([s.e(38491),s.e(55757)]).then(s.bind(s,610281)),U=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(76115),s.e(53536),s.e(15776),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(51474),s.e(9980),s.e(78646),s.e(39638),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(21169),s.e(5640),s.e(12741),s.e(16899),s.e(72325),s.e(7665),s.e(3045),s.e(50999),s.e(18546),s.e(58201),s.e(36867),s.e(56861)]).then(s.bind(s,137893)),R=()=>s.e(20041).then(s.bind(s,637822)),O=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(78646),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(62201),s.e(34195),s.e(66787),s.e(68305),s.e(25500),s.e(26492),s.e(51039),s.e(32642),s.e(97537),s.e(9966),s.e(47125),s.e(35395),s.e(46483),s.e(81262),s.e(43249),s.e(62822),s.e(52308),s.e(21293),s.e(9446),s.e(18917),s.e(72387),s.e(44998),s.e(51412),s.e(64015),s.e(59066),s.e(23407),s.e(84413),s.e(4156),s.e(4112),s.e(23234),s.e(96308),s.e(39265)]).then(s.bind(s,804726)),Z=()=>s.e(70809).then(s.bind(s,919823)),B=()=>Promise.all([s.e(88102),s.e(1945),s.e(66074)]).then(s.bind(s,842573)),j=()=>Promise.all([s.e(88102),s.e(1945),s.e(66074)]).then(s.bind(s,991333)),W=()=>Promise.all([s.e(88102),s.e(1945),s.e(66074)]).then(s.bind(s,925504)),V=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(79411),s.e(76115),s.e(53536),s.e(87557),s.e(69125),s.e(36460),s.e(27126)]).then(s.bind(s,795675)),q=()=>Promise.all([s.e(61696),s.e(65725)]).then(s.bind(s,509824)),N=[{path:"/support",redirect:"/help"},{path:"/faq/:chapter?/:section?/:subsection?",redirect:"/help/:chapter?/:section?/:subsection?"},{path:"/my/subscribes",redirect:"/my/subscriptions"},{path:"/my/subscribes/:type",redirect:"/my/subscriptions/:type"},{path:"/rileyreid",redirect:"/rileyreidx3"},{path:"/partners",redirect:"/help/3/22/90"},{path:"/referrals",redirect:"/help/3/22/90"},{path:"/my/notifications/interactions",redirect:"/my/notifications/commented"},{path:"/oauth/authenticate",name:"OAuthAuthenticate",component:Z},{path:"/report_abuse/:type(post|user|story|message|stream)/:id(\\d+)",name:"ReportAbuse",component:B,meta:{requiresAuth:!0}},{path:"/report_dmca/:type(post|user|story|message|stream)/:id(\\d+)",name:"ReportDmca",component:j,meta:{requiresAuth:!0}},{path:"/appeal",name:"Appeal",component:W,meta:{}},{path:"/my/notifications",name:"Notifications",component:U,meta:{requiresAuth:!0},children:[{path:":type",name:"NotificationsByType"}]},{path:"/",name:"Feed",component:E},{path:"/purchased",name:"Purchased",component:E,meta:{requiresPurchased:!0}},{path:"/blurred",name:"Blurred",component:E,meta:{requiresPaidFeed:!0}},{path:"/closefriends",redirect:"/"},{path:"/posts/create",name:"PostsCreate",component:E,meta:{requiresAuth:!0}},{path:"/posts/edit/:postId(\\d+)",name:"PostsEdit",component:E,meta:{requiresAuth:!0}},{path:"/search/users/:q?",redirect:e=>({path:"/search",query:{type:"users",q:e.params.q}})},{path:"/search",name:"Search",component:O},{path:"/my/profile",name:"ProfileAlias",component:x,meta:{title:"profilePageTitle",requiresAuth:!0}},{path:"/my/*",name:"MyError",component:R},{path:"/message/:postId(\\d+)/:userId(\\D.*[^/])",name:"MessagePage",component:D},{path:"/:userId(\\D.+)/friends",redirect:e=>`/${e.params.userId}`},{path:"/:userId(\\D.*[^/])/c:campaignCode(\\d+)",name:"ProfileCampaign",component:x,meta:{title:"profilePageTitle",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/:userId(\\D.+)/nft",name:"NftGallery",component:q,meta:{requiresAuth:!0}},{path:"/:userId(\\D.+)/nfts",redirect:e=>`/${e.params.userId}/nft`,meta:{requiresAuth:!0}},{path:"/:userId(\\D.*[^/])",name:"Profile",component:x,children:[{path:":postType(media|photos|videos|audios|likes|streams)",name:"ProfileInner",meta:{title:"profilePageTitle"}},{path:":labelId(\\d+|archived|private_archived)",name:"ProfileLabel"},{path:"medias",redirect:"media"}],meta:{title:"profilePageTitle",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/:postId(\\d+)/:userId/likes",name:"PostLikes",component:V,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId/tips",name:"PostTips",component:V,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId(\\D.+)/buyers",name:"PostBuyers",component:V,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId(\\D.+)/vote/:optionId?",name:"PostVoters",component:V,meta:{requiresPerformer:!0}},{path:"/:queueId(\\d+)/buyers",name:"QueueBuyers",component:V,meta:{requiresPerformer:!0}},{path:"/:campaignId(\\d+)/claimers",name:"CampaignClaimers",component:V,meta:{requiresPerformer:!0}},{path:"/:streamId(\\d+)/stream/viewers",name:"StreamViewers",component:V,meta:{requiresPerformer:!0}},{path:"/:streamId(\\d+)/stream/donators",name:"StreamDonators",component:V,meta:{requiresPerformer:!0}},{path:"/:storyId(\\d+)/story/viewers",name:"StoryViewers",component:V,meta:{requiresPerformer:!0}},{path:"/:storyId(\\d+)/story/donators",name:"StoryTips",component:V,meta:{requiresPerformer:!0}},{path:"/:postId(\\d+)/:userId(\\D.*[^/])",name:"Post",component:D},{path:"*",name:"Error",component:R}];var H=N;const z=()=>s.e(64963).then(s.bind(s,743606)),X=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(69125),s.e(26932),s.e(46776),s.e(39328),s.e(47208)]).then(s.bind(s,494046)),G=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(15776),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(61696),s.e(39638),s.e(39285),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(21169),s.e(6989),s.e(80042),s.e(5640),s.e(16899),s.e(72325),s.e(7665),s.e(63541),s.e(26650),s.e(50993),s.e(48890),s.e(24938),s.e(17447),s.e(47284),s.e(11999),s.e(40122),s.e(4856)]).then(s.bind(s,492811)),Y=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(15776),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(61696),s.e(39638),s.e(39285),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(21169),s.e(6989),s.e(80042),s.e(5640),s.e(16899),s.e(72325),s.e(7665),s.e(63541),s.e(26650),s.e(50993),s.e(48890),s.e(24938),s.e(17447),s.e(47284),s.e(11999),s.e(40122),s.e(4856)]).then(s.bind(s,454304)),K=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(45350),s.e(30296),s.e(93134),s.e(11453),s.e(93491),s.e(29860),s.e(95470),s.e(48063)]).then(s.bind(s,73282)),J=()=>Promise.all([s.e(30306),s.e(87557),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(78646),s.e(61696),s.e(39638),s.e(26932),s.e(48532)]).then(s.bind(s,477714)),Q=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(15776),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(61696),s.e(39638),s.e(39285),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(21169),s.e(6989),s.e(80042),s.e(5640),s.e(16899),s.e(72325),s.e(7665),s.e(63541),s.e(26650),s.e(50993),s.e(48890),s.e(24938),s.e(17447),s.e(47284),s.e(11999),s.e(40122),s.e(4856)]).then(s.bind(s,612577)),ee=[{path:"/my/chats",component:z,meta:{requiresAuth:!0,prefetch:!0},children:[{path:"",name:"Chats",component:X},{path:"chat/:chatId",component:X,children:[{path:"",name:"Chat",component:G},{path:"gallery",name:"Gallery",component:Y},{path:"pinned",name:"PinnedMessages",component:Q}]},{path:"send",name:"ChatsSend",component:K,meta:{requiresCanChat:!0}}]},{path:"/my/mass_chats",component:J,name:"MassMessagesStats",meta:{requiresPerformer:!0}}];var te=ee;const se=()=>Promise.all([s.e(42152),s.e(86652)]).then(s.bind(s,541621)),re=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(42152),s.e(45413),s.e(18134),s.e(77597),s.e(37570),s.e(47808)]).then(s.bind(s,71296)),ae=()=>s.e(44029).then(s.bind(s,111127)),ie=()=>Promise.all([s.e(88102),s.e(39895),s.e(79930)]).then(s.bind(s,279022)),ne=()=>s.e(92776).then(s.bind(s,194636)),oe=()=>s.e(27444).then(s.bind(s,82427)),ce=()=>Promise.all([s.e(88102),s.e(1945),s.e(66074)]).then(s.bind(s,68185)),de=()=>Promise.all([s.e(88102),s.e(39895),s.e(1945),s.e(32858),s.e(70058)]).then(s.bind(s,268289)),ue=()=>s.e(49408).then(s.bind(s,623049)),le=()=>Promise.all([s.e(38491),s.e(88102),s.e(39895),s.e(1945),s.e(14551),s.e(4387),s.e(51868),s.e(56930),s.e(1802),s.e(71470)]).then(s.bind(s,369527)),me=()=>Promise.all([s.e(88102),s.e(39895),s.e(79930)]).then(s.bind(s,761415)),he=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(15776),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(61696),s.e(39638),s.e(39285),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(21169),s.e(6989),s.e(80042),s.e(5640),s.e(16899),s.e(72325),s.e(7665),s.e(63541),s.e(26650),s.e(50993),s.e(48890),s.e(24938),s.e(17447),s.e(47284),s.e(11999),s.e(40122),s.e(4856)]).then(s.bind(s,445089)),fe=()=>Promise.all([s.e(88102),s.e(39895),s.e(1945),s.e(32858),s.e(70058)]).then(s.bind(s,201843)),pe=()=>Promise.all([s.e(88102),s.e(39895),s.e(1945),s.e(32858),s.e(70058)]).then(s.bind(s,905009)),ge=()=>Promise.all([s.e(88102),s.e(57570),s.e(1945),s.e(32858),s.e(52411),s.e(60676)]).then(s.bind(s,669508)),ye=()=>Promise.all([s.e(88102),s.e(39895),s.e(1945),s.e(32858),s.e(70058)]).then(s.bind(s,276969)),ve=()=>Promise.all([s.e(88102),s.e(39895),s.e(1945),s.e(32858),s.e(70058)]).then(s.bind(s,505544)),Pe=()=>Promise.all([s.e(88102),s.e(39895),s.e(1945),s.e(32858),s.e(70058)]).then(s.bind(s,867449)),Se=()=>Promise.all([s.e(88102),s.e(39895),s.e(1945),s.e(32858),s.e(70058)]).then(s.bind(s,26519)),we=()=>Promise.all([s.e(88102),s.e(39895),s.e(1945),s.e(32858),s.e(70058)]).then(s.bind(s,932542)),be=()=>Promise.all([s.e(88102),s.e(39895),s.e(1945),s.e(32858),s.e(70058)]).then(s.bind(s,306643)),Ie=()=>s.e(30899).then(s.bind(s,116096)),ke=()=>Promise.all([s.e(57570),s.e(75931)]).then(s.bind(s,665281)),Ce=()=>Promise.all([s.e(88102),s.e(39895),s.e(79930)]).then(s.bind(s,560987)),Te=()=>Promise.all([s.e(88102),s.e(39895),s.e(79930)]).then(s.bind(s,348562)),$e=()=>Promise.all([s.e(38491),s.e(88102),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(79411),s.e(97146),s.e(13912),s.e(39638),s.e(5508),s.e(40944)]).then(s.bind(s,580291)),Le=()=>s.e(96216).then(s.bind(s,901793)),Me=()=>s.e(31786).then(s.bind(s,564817)),_e=()=>Promise.all([s.e(88102),s.e(18862)]).then(s.bind(s,88085)),Ae=()=>Promise.all([s.e(30306),s.e(73922)]).then(s.bind(s,985687)),Fe=()=>Promise.all([s.e(30306),s.e(73922)]).then(s.bind(s,314647)),xe=()=>Promise.all([s.e(88102),s.e(51474),s.e(9980),s.e(38154)]).then(s.bind(s,583959)),De=()=>Promise.all([s.e(38491),s.e(88102),s.e(39895),s.e(87557),s.e(95435),s.e(90492)]).then(s.bind(s,480136)),Ee=()=>Promise.all([s.e(88102),s.e(18862)]).then(s.bind(s,497417)),Ue=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(57570),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(68980),s.e(8342),s.e(59959),s.e(76456),s.e(59976),s.e(37685),s.e(27401)]).then(s.bind(s,685921)),Re=()=>Promise.all([s.e(88102),s.e(39895),s.e(79930)]).then(s.bind(s,145483)),Oe=()=>Promise.all([s.e(30306),s.e(83268),s.e(47705),s.e(49342)]).then(s.bind(s,370807)),Ze=()=>Promise.all([s.e(88102),s.e(57570),s.e(1945),s.e(32858),s.e(52411),s.e(60676)]).then(s.bind(s,132858)),Be=()=>Promise.all([s.e(38491),s.e(88102),s.e(39895),s.e(1945),s.e(14551),s.e(4387),s.e(51868),s.e(56930),s.e(1802),s.e(71470)]).then(s.bind(s,372515)),je=()=>s.e(85879).then(s.bind(s,325458)),We=()=>Promise.all([s.e(30296),s.e(43199)]).then(s.bind(s,535871)),Ve=()=>Promise.all([s.e(38491),s.e(83268),s.e(47705),s.e(39895),s.e(76115),s.e(14100),s.e(8742)]).then(s.bind(s,302167)),qe=()=>s.e(7319).then(s.bind(s,979454)),Ne=()=>s.e(60249).then(s.bind(s,653776)),He=()=>Promise.all([s.e(42152),s.e(68305),s.e(25500),s.e(10653)]).then(s.bind(s,50247)),ze=()=>s.e(40371).then(s.bind(s,914523)),Xe=()=>Promise.all([s.e(88102),s.e(57570),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(51474),s.e(9980),s.e(97278)]).then(s.bind(s,953970)),Ge=[{path:"/my/settings",name:"Settings",component:se,meta:{requiresAuth:!0},children:[{path:"profile",name:"SettingsProfile",component:re},{path:"account",name:"SettingsAdvanced",component:ae},{path:"advanced",redirect:{name:"SettingsAdvanced"}},{path:"account/username",name:"SettingsUsername",component:ie},{path:"account/email",name:"SettingsEmail",component:Ze,meta:{isPage:!0}},{path:"account/phone",name:"SettingsPhone",component:Be},{path:"account/twitter",name:"SettingsTwitter",component:ne},{path:"account/google",name:"SettingsGoogle",component:oe},{path:"account/connected",name:"SettingsConnected",component:ce,meta:{requiresConnectedAccount:!0}},{path:"account/password",name:"SettingsPassword",component:de},{path:"account/sessions",name:"SettingsSessions",component:ue},{path:"account/2fa",name:"Settings2fa",component:le},{path:"account/windows-hello",name:"WindowsHelloAuthentification",component:ze},{path:"account/delete",name:"SettingsDelete",component:me},{path:"messaging",name:"SettingsMessaging",component:he,meta:{requiresPerformer:!0}},{path:"notifications",name:"SettingsNotifications",component:fe},{path:"notifications/webpush",name:"SettingsNotificationsWebPush",component:pe},{path:"notifications/email",name:"SettingsNotificationsEmail",component:ge},{path:"notifications/site",name:"SettingsNotificationsSite",component:ye},{path:"notifications/toast",name:"SettingsNotificationsToast",component:ve},{path:"notifications/sms",name:"SettingsNotificationsSms",component:Pe},{path:"notifications/telegram",name:"SettingsNotificationsTelegram",component:Se},{path:"notifications/telegram/link",name:"SettingsTelegramLink",component:be},{path:"notifications/mentions",name:"SettingsNotificationsMentions",component:we,meta:{requiresPerformer:!0}},{path:"security",name:"SettingsSecurity",component:Ie},{path:"security/block_by_country",name:"SettingsBlockByCountry",component:ke,meta:{requiresPerformer:!0}},{path:"security/block_by_ip",name:"SettingsBlockByIP",component:Ce,meta:{requiresPerformer:!0}},{path:"security/watermarks",name:"SettingsWatermarks",component:Te,meta:{requiresPerformer:!0}},{path:"subscription",name:"SettingsSubscription",component:$e},{path:"fans",name:"SettingsFans",component:Le,meta:{requiresPerformer:!0}},{path:"spotify",name:"SettingsSpotify",component:Me,meta:{isPage:!0}},{path:"spring-store",name:"SettingsSpringStore",component:_e,meta:{isPage:!0}},{path:"social-media",name:"SettingsSocialMedia",component:Xe},{path:"ethwallet",name:"SettingsEthWallet",component:Ae,meta:{isPage:!0}},{path:"nft",name:"SettingsNftAssets",component:Fe,meta:{isPage:!0}},{path:"links",name:"SettingsThingsILike",component:xe,meta:{isPage:!0,requiresUser:!0,requiresCanMakeProfileLinks:!0}},{path:"campaign-links",redirect:{name:"SettingsTrackingLinks"}},{path:"tracking-links",name:"SettingsTrackingLinks",component:De,meta:{isPage:!0,requiresUser:!0}},{path:"shopify-settings",name:"SettingsShopify",component:Ee,meta:{isPage:!0,requiresUser:!0,requiresCanShopify:!0}},{path:"shopify-products",name:"SettingsShopifyProducts",component:Ue,meta:{isPage:!0,requiresUser:!0,requiresCanShopify:!0}},{path:"other",name:"SettingsOther",component:Re},{path:"story",name:"SettingsStory",component:Oe,meta:{requiresCanAddStory:!0}},{path:"email",redirect:{name:"SettingsEmail"}},{path:"change-email",redirect:{name:"SettingsEmail"}},{path:"helpers",name:"PerformerHelpers",component:Ve,meta:{requiresCanAddHelper:!0}},{path:"spotify/artists",name:"SpotifyArtists",component:je},{path:"spotify/anthem",name:"SpotifyAnthem",component:We},{path:"display",name:"SettingsDisplay",component:qe},{path:"display/language",name:"SettingsLanguage",component:Ne},{path:"qrcode",name:"SettingsQRCode",component:He,meta:{requiresPerformer:!0}}]}];var Ye=Ge;const Ke=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(57570),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(68980),s.e(8342),s.e(59959),s.e(76456),s.e(59976),s.e(37685),s.e(27401)]).then(s.bind(s,763630)),Je=()=>Promise.all([s.e(38491),s.e(88102),s.e(1945),s.e(42152),s.e(32858),s.e(73712),s.e(60877)]).then(s.bind(s,741466)),Qe=()=>Promise.all([s.e(38491),s.e(88102),s.e(57570),s.e(1945),s.e(60916),s.e(56930),s.e(96699)]).then(s.bind(s,608818)),et=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(57570),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(68980),s.e(8342),s.e(59959),s.e(76456),s.e(59976),s.e(37685),s.e(27401)]).then(s.bind(s,554735)),tt=()=>Promise.all([s.e(88102),s.e(18862)]).then(s.bind(s,49954)),st=()=>Promise.all([s.e(88102),s.e(57570),s.e(26082),s.e(62201),s.e(47689),s.e(58460),s.e(21774)]).then(s.bind(s,523695)),rt=[{path:"/my/payments",component:Ke,meta:{requiresAuth:!0},children:[{path:"",name:"Payments",component:Qe},{path:"list",name:"PaymentsCreditsTransactions",component:et},{path:"add_card",name:"PaymentsAddCard",component:Je,meta:{requiresAuth:!0,requiresCanAddCard:!0,allowFraudRepayment:!0,ageVerificationRequired:!0}},{path:"alternative",name:"PaymentsAlternative",component:tt},{path:"alternative/add",name:"PaymentsAlternativeAdd",component:st}]}];var at=rt;const it=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(42152),s.e(45413),s.e(18134),s.e(77597),s.e(37570),s.e(47808)]).then(s.bind(s,515948)),nt=()=>Promise.all([s.e(88102),s.e(57570),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(1945),s.e(26082),s.e(60916),s.e(62201),s.e(47689),s.e(8342),s.e(58460),s.e(52411),s.e(37570),s.e(62271),s.e(62296),s.e(26770),s.e(77880),s.e(86733),s.e(88784)]).then(s.bind(s,86247)),ot=()=>s.e(65226).then(s.bind(s,635472)),ct=()=>Promise.all([s.e(88102),s.e(57570),s.e(1945),s.e(32858),s.e(52411),s.e(60676)]).then(s.bind(s,983949)),dt=()=>Promise.all([s.e(42152),s.e(32257)]).then(s.bind(s,606372)),ut=()=>Promise.all([s.e(88102),s.e(42152),s.e(50162)]).then(s.bind(s,693402)),lt=()=>Promise.all([s.e(38491),s.e(88102),s.e(57570),s.e(42152),s.e(60769)]).then(s.bind(s,588143)),mt=()=>Promise.all([s.e(57570),s.e(42152),s.e(48951)]).then(s.bind(s,61561)),ht=()=>Promise.all([s.e(74530),s.e(40134)]).then(s.bind(s,345428)),ft=()=>Promise.all([s.e(15776),s.e(14068),s.e(83863)]).then(s.bind(s,381430)),pt=()=>Promise.all([s.e(88102),s.e(18862)]).then(s.bind(s,393519)),gt=[{path:"/my/banking",component:it,meta:{requiresAuth:!0},children:[{path:"",name:"Banking",component:nt},{path:"edit",name:"BankingEdit",component:nt},{path:"primary",name:"BankingPrimary",component:nt,meta:{requiresHasStripe:!0}},{path:"payout_types",name:"BankingPayoutTypes",component:ot},{path:"support",name:"BankingSupport",component:ct},{path:"w9",name:"W9",component:ht},{path:"w9_form_address_check",name:"w9_form_address_check",component:pt,meta:{requiresPerformer:!0}},{path:"vat",name:"BankingVat",component:dt,meta:{isCountryVatNumberCollect:!0,isVatRequired:!0}},{path:"vat/change",name:"BankingVatChange",component:ut,meta:{isCountryVatNumberCollect:!0}},{path:"vat/add-documents",name:"BankingVatAddDocuments",component:lt,meta:{isCountryVatNumberCollect:!0,isVatRequired:!0}},{path:"vat/create-document",name:"BankingVatCreateDocument",component:mt,meta:{isCountryVatNumberCollect:!0,isVatRequired:!0}},{path:":section",name:"BankingSection",redirect:{name:"BankingPrimary"}}]},{path:"/my/verify",name:"VerifyPage",component:ft}];var yt=gt;s(115306);const vt=()=>Promise.all([s.e(14551),s.e(85430)]).then(s.bind(s,849994)),Pt=()=>Promise.all([s.e(88102),s.e(57570),s.e(1945),s.e(32858),s.e(52411),s.e(60676)]).then(s.bind(s,457321)),St=()=>Promise.all([s.e(38491),s.e(88102),s.e(39895),s.e(1945),s.e(14551),s.e(4387),s.e(51868),s.e(56930),s.e(1802),s.e(71470)]).then(s.bind(s,617676)),wt=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(1945),s.e(2457),s.e(1802),s.e(29252),s.e(52309),s.e(23547)]).then(s.bind(s,663255)),bt=()=>s.e(88683).then(s.bind(s,877814)),It=()=>Promise.all([s.e(14551),s.e(25191)]).then(s.bind(s,997359)),kt=()=>Promise.all([s.e(14551),s.e(51602)]).then(s.bind(s,994575)),Ct=()=>Promise.all([s.e(14551),s.e(51602)]).then(s.bind(s,783084)),Tt=()=>s.e(26668).then(s.bind(s,643439)),$t=()=>Promise.all([s.e(38491),s.e(88102),s.e(39895),s.e(1945),s.e(14551),s.e(4387),s.e(51868),s.e(56930),s.e(1802),s.e(71470)]).then(s.bind(s,485445)),Lt=()=>s.e(75044).then(s.bind(s,156122)),Mt=()=>Promise.all([s.e(88102),s.e(30306),s.e(87557),s.e(14551),s.e(66775),s.e(69147),s.e(24872),s.e(18338),s.e(81403),s.e(70518),s.e(57335),s.e(58180),s.e(57059),s.e(30808)]).then(s.bind(s,802408)),_t=()=>Promise.all([s.e(14551),s.e(89869)]).then(s.bind(s,573102)),At=()=>Promise.all([s.e(14551),s.e(89869)]).then(s.bind(s,564802)),Ft=()=>s.e(23598).then(s.bind(s,818197)),xt=()=>s.e(5276).then(s.bind(s,262312)),Dt=()=>s.e(31127).then(s.bind(s,847138)),Et=()=>s.e(86463).then(s.bind(s,692522)),Ut=()=>s.e(4305).then(s.bind(s,345571)),Rt=()=>s.e(33220).then(s.bind(s,249133)),Ot=()=>s.e(22125).then(s.bind(s,520223)),Zt=()=>s.e(85669).then(s.bind(s,456194)),Bt=()=>s.e(81302).then(s.bind(s,749166)),jt=()=>Promise.all([s.e(14551),s.e(89869)]).then(s.bind(s,618471)),Wt=()=>Promise.all([s.e(14551),s.e(9595)]).then(s.bind(s,124247)),Vt=()=>Promise.all([s.e(14551),s.e(89869)]).then(s.bind(s,498010)),qt=[{path:"/help/:chapter?/:section?/:subsection?",component:wt,title:"FAQs",name:"faq",meta:{hasStaticFooter:!0,staticContainer:!0,type:"faq",allowFraudRepayment:!0,allowNeedLoginIV:!0,hideHelperBtn:!0}},{path:"/terms/:section?",beforeEnter(){window.location.href=`${window.location.origin}/terms.html${window.location.hash}`}},{path:"/termsnov21/:section?",beforeEnter(){window.location.href=`${window.location.origin}/termsnov21.html${window.location.hash}`}},{path:"/contract",beforeEnter(){window.location.href=`${window.location.origin}/contract.html${window.location.hash}`}},{path:"/contractnov21",beforeEnter(){window.location.href=`${window.location.origin}/contractnov21.html${window.location.hash}`}},{path:"/dmca",component:vt,title:"Dmca",name:"dmca",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,type:"dmca",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/store",beforeEnter(){window.location.replace("https://store.onlyfans.com")}},{path:"/antitraffickingstatement",component:It,title:"Anti-Slavery and Anti-Trafficking Statement",name:"statement",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/transparency",component:Lt,meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0},children:[{path:"",component:_t,title:"OnlyFans Transparency Reports",name:"transparencyReportList"},{path:":year/:month",component:Mt,title:"OnlyFans Transparency Report",name:"transparencyReportPage"},{path:":month",redirect:e=>{try{const{month:t}=e.params,s=+t.replace(/\D+/g,""),r=new Date(`${s}/${t.replace(/\d+/g,"")}`).getMonth()+1;return{name:"transparencyReportPage",params:{year:s,month:r}}}catch(t){return{name:"transparencyReportList"}}}}]},{path:"/transparency-center",component:At,meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0},children:[{path:"",name:"transparencyReportCenter",component:Ft,meta:{title:"OnlyFans Safety & Transparency Center"}},{path:"verification",component:xt,name:"transparencyReportVerification",meta:{title:"Age & Identity Verification"}},{path:"assisting",component:Dt,name:"transparencyReportAssisting",meta:{title:"Assisting Law Enforcement"}},{path:"helping",component:Et,name:"transparencyReportHelping",meta:{title:"Helping Creators Protect their Copyright"}},{path:"privacy",component:Ut,name:"transparencyReportPrivacy",meta:{title:"Respecting Your Privacy"}},{path:"preventing",component:Rt,name:"transparencyReportPreventing",meta:{title:"Preventing Modern Slavery & Human Trafficking "}},{path:"commitment",component:Ot,name:"transparencyReportCommitment",meta:{title:"Our Commitment to Safety & Transparency"}},{path:"safeguarding",component:Zt,name:"transparencyReportSafeguarding",meta:{title:"Safeguarding Against Money Laundering & Fraud"}},{path:"tackling",component:Bt,name:"transparencyReportTackling",meta:{title:"Tackling Hate Speech"}}]},{path:"/fightcsam",component:jt,title:"OnlyFans fights to combat the creation and distribution of child sexual abuse materials (CSAM)",name:"fightcsam",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0}},{path:"/license_form",component:Wt,title:"OnlyFans trademark license for creator domain name",name:"license",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowNeedLoginIV:!0}},{path:"/values",component:Vt,title:"Our Mission, Vision and Values",name:"values",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowNeedLoginIV:!0}},{path:"/compliance",component:kt,title:"Compliance",name:"compliance",meta:{hasStaticFooter:!0,hideHeader:!0,staticContainer:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/compliance2",component:Ct,title:"Compliance2",name:"compliance2",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0,metaTags:[{name:"robots",content:"noindex, nofollow"}]}},{path:"/contact",component:Pt,title:"Contact",name:"contacts",meta:{hasStaticFooter:!0,type:"contacts",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/contacts",redirect:"/contact"},{path:"/legalinquiry",title:"Law Enforcement",name:"legalinquiry",component:St},{path:"/legalguide",title:"Law Enforcement Guide",name:"legalguide",component:$t,meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/privacy",beforeEnter(){window.location.href=`${window.location.origin}/privacy.html${window.location.hash}`}},{path:"/usc2257",beforeEnter(){window.location.href=`${window.location.origin}/usc2257.html${window.location.hash}`}},{path:"/banking-help",component:vt,title:"Adding a Bank Account",name:"banking-help",meta:{hasStaticFooter:!0,staticContainer:!0,type:"page",allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/terms-of-service",redirect:"/terms"},{path:"/tos",redirect:"/terms"},{path:"/tosd",redirect:"/terms"},{path:"/about",beforeEnter(){window.location.href=`${window.location.origin}/about.html${window.location.hash}`}},{path:"/my/tickets/:type?",component:wt,name:"TicketsPage",meta:{hasStaticFooter:!0,requiresAuth:!0,staticContainer:!0,hideHelperBtn:!0}},{path:"/brand",component:bt,name:"Brand",title:"Brand Resources",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0,allowFraudRepayment:!0,allowNeedLoginIV:!0}},{path:"/gdpr/:id",component:Tt,name:"DownloadReport",meta:{hasStaticFooter:!0,staticContainer:!0,hideHeader:!0}}];var Nt=qt;const Ht=()=>Promise.all([s.e(88102),s.e(57570),s.e(39895),s.e(8342),s.e(52576)]).then(s.bind(s,687676)),zt=()=>Promise.all([s.e(30306),s.e(45413),s.e(54602)]).then(s.bind(s,381218)),Xt=()=>Promise.all([s.e(30306),s.e(45413),s.e(54602)]).then(s.bind(s,663253)),Gt=()=>Promise.all([s.e(84953),s.e(50947),s.e(23108),s.e(68980),s.e(69002)]).then(s.bind(s,466563)),Yt=()=>Promise.all([s.e(30306),s.e(45413),s.e(54602)]).then(s.bind(s,237833)),Kt=()=>Promise.all([s.e(88102),s.e(57570),s.e(1945),s.e(32858),s.e(52411),s.e(60676)]).then(s.bind(s,966454)),Jt=()=>Promise.all([s.e(30306),s.e(45413),s.e(18134),s.e(335)]).then(s.bind(s,871706)),Qt=()=>Promise.all([s.e(30306),s.e(45413),s.e(18134),s.e(335)]).then(s.bind(s,866990)),es=[{path:"/my/statements",component:Ht,meta:{requiresPerformer:!0},children:[{path:"",name:"Statements",redirect:{name:"StatementsEarnings"}},{path:"earnings",name:"StatementsEarnings",component:zt},{path:"payouts",name:"StatementsPayoutRequests",component:Xt,children:[{path:"stripe",name:"StatementsPayoutRequestsStripe",component:Xt}]},{path:"vat",name:"StatementsVat",component:Qt,meta:{requiresCountryVatRefundable:!0}},{path:"referrals",name:"StatementsReferrals",component:Jt}]},{path:"/my/statements/support",name:"StatementsSupport",component:Kt,meta:{requiresPerformer:!0}},{path:"/my/stats",component:Ht,meta:{requiresPerformer:!0},children:[{path:"earnings",name:"StatsEarnings",component:Gt},{path:"disputes",name:"StatsDisputes",component:Yt}]}];var ts=es;const ss=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(57570),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(68980),s.e(8342),s.e(59959),s.e(76456),s.e(59976),s.e(37685),s.e(27401)]).then(s.bind(s,855950)),rs=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(68980),s.e(6989),s.e(80042),s.e(35158),s.e(11416),s.e(63323),s.e(81545),s.e(72121),s.e(84543),s.e(90214),s.e(394),s.e(3490),s.e(42143),s.e(75197)]).then(s.bind(s,49602)),as=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(42152),s.e(23108),s.e(66775),s.e(69147),s.e(68980),s.e(4387),s.e(51868),s.e(35158),s.e(29201)]).then(s.bind(s,403962)),is=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(42152),s.e(23108),s.e(66775),s.e(69147),s.e(68980),s.e(4387),s.e(51868),s.e(35158),s.e(29201)]).then(s.bind(s,467430)),ns=()=>Promise.all([s.e(30306),s.e(92594)]).then(s.bind(s,571167)),os=()=>Promise.all([s.e(30306),s.e(92594)]).then(s.bind(s,526397)),cs=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(57570),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(68980),s.e(8342),s.e(59959),s.e(76456),s.e(59976),s.e(37685),s.e(27401)]).then(s.bind(s,426970)),ds=()=>Promise.all([s.e(30306),s.e(92594)]).then(s.bind(s,882042)),us=()=>Promise.all([s.e(30306),s.e(83268),s.e(47705),s.e(49342)]).then(s.bind(s,186197)),ls=()=>Promise.all([s.e(30306),s.e(83268),s.e(47705),s.e(49342)]).then(s.bind(s,997431)),ms=()=>Promise.all([s.e(30306),s.e(45413),s.e(18134),s.e(335)]).then(s.bind(s,641351)),hs=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(57570),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(68980),s.e(8342),s.e(59959),s.e(76456),s.e(59976),s.e(37685),s.e(27401)]).then(s.bind(s,354267)),fs=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(78646),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(62201),s.e(34195),s.e(66787),s.e(68305),s.e(25500),s.e(26492),s.e(51039),s.e(32642),s.e(97537),s.e(9966),s.e(47125),s.e(35395),s.e(46483),s.e(81262),s.e(43249),s.e(62822),s.e(52308),s.e(21293),s.e(9446),s.e(18917),s.e(72387),s.e(44998),s.e(51412),s.e(64015),s.e(59066),s.e(23407),s.e(84413),s.e(4156),s.e(4112),s.e(23234),s.e(96308),s.e(39265)]).then(s.bind(s,612477)),ps=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(68980),s.e(6989),s.e(80042),s.e(35158),s.e(11416),s.e(63323),s.e(81545),s.e(72121),s.e(84543),s.e(90214),s.e(394),s.e(3490),s.e(42143),s.e(75197)]).then(s.bind(s,768441)),gs=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(68980),s.e(6989),s.e(80042),s.e(35158),s.e(11416),s.e(63323),s.e(81545),s.e(72121),s.e(84543),s.e(90214),s.e(394),s.e(3490),s.e(42143),s.e(75197)]).then(s.bind(s,143962)),ys=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(68980),s.e(6989),s.e(80042),s.e(35158),s.e(11416),s.e(63323),s.e(81545),s.e(72121),s.e(84543),s.e(90214),s.e(394),s.e(3490),s.e(42143),s.e(75197)]).then(s.bind(s,217850)),vs=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(57570),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(60916),s.e(68980),s.e(8342),s.e(59959),s.e(76456),s.e(59976),s.e(37685),s.e(27401)]).then(s.bind(s,422282)),Ps=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(42152),s.e(23108),s.e(66775),s.e(69147),s.e(68980),s.e(4387),s.e(51868),s.e(35158),s.e(29201)]).then(s.bind(s,676222)),Ss=()=>Promise.all([s.e(88102),s.e(30306),s.e(87557),s.e(14551),s.e(66775),s.e(69147),s.e(24872),s.e(18338),s.e(81403),s.e(70518),s.e(57335),s.e(58180),s.e(57059),s.e(30808)]).then(s.bind(s,95001)),ws=()=>Promise.all([s.e(88102),s.e(30306),s.e(87557),s.e(14551),s.e(66775),s.e(69147),s.e(24872),s.e(18338),s.e(81403),s.e(70518),s.e(57335),s.e(58180),s.e(57059),s.e(30808)]).then(s.bind(s,699718)),bs=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(68980),s.e(6989),s.e(80042),s.e(35158),s.e(11416),s.e(63323),s.e(81545),s.e(72121),s.e(84543),s.e(90214),s.e(394),s.e(3490),s.e(42143),s.e(75197)]).then(s.bind(s,691509)),Is=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(45350),s.e(30296),s.e(93134),s.e(11453),s.e(93491),s.e(29860),s.e(95470),s.e(48063)]).then(s.bind(s,307856)),ks=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(23108),s.e(45350),s.e(30296),s.e(93134),s.e(11453),s.e(93491),s.e(29860),s.e(95470),s.e(48063)]).then(s.bind(s,946308)),Cs=[{path:"/my/statistics",component:ss,name:"Statistics",redirect:{name:"StatisticsStatements"},meta:{requiresPerformer:!0},children:[{path:"overview",name:"StatisticsOverview",component:rs,redirect:{name:"StatisticsOverviewEarnings"},children:[{path:"earnings",name:"StatisticsOverviewEarnings",component:rs},{path:"summary",name:"StatisticsOverviewSummary",component:rs},{path:"top-highlights",name:"StatisticsOverviewTopHighlight",component:rs}]},{path:"statements",name:"StatisticsStatements",component:as,redirect:{name:"StatisticsStatementsEarnings"},children:[{path:"earnings",name:"StatisticsStatementsEarnings",component:is,children:[{path:"tips/:type(all|profile|post|chat|stream|story)",name:"StatisticsStatementsEarningsTips",component:is,meta:{parentTag:"earnings_tips"}}]},{path:"payout-request",name:"StatisticsStatementsPayoutRequests",component:ns},{path:"payout-request/stripe",name:"StatisticsStatementsPayoutRequestsStripe",component:ns},{path:"disputes",name:"StatisticsStatementsDisputes",component:os},{path:"referrals",name:"StatisticsStatementsReferrals",component:cs,redirect:{name:"StatisticsStatementsReferralEarnings"},children:[{path:"earnings",name:"StatisticsStatementsReferralEarnings",component:ds,meta:{parentTag:"referrals"}},{path:"creators",name:"StatisticsStatementsReferralCreators",component:us,meta:{parentTag:"referrals"}},{path:"users",name:"StatisticsStatementsReferralUsers",component:ls,meta:{parentTag:"referrals"}}]},{path:"vat-documents",name:"StatisticsStatementsVatDocuments",component:ms}]},{path:"engagement",name:"StatisticsEngagement",component:hs,redirect:{name:"StatisticsEngagementPosts"},children:[{path:"posts",name:"StatisticsEngagementPosts",component:fs},{path:"mass-messages",name:"StatisticsEngagementMassMessages",component:ps},{path:"streaming",name:"StatisticsEngagementStreaming",component:gs},{path:"stories",name:"StatisticsEngagementStories",component:ys}]},{path:"reach",name:"StatisticsReach",component:vs,redirect:{name:"StatisticsReachProfileVisitors"},children:[{path:"profile-visitors/",name:"StatisticsReachProfileVisitors",component:Ps},{path:"profile-visitors/:type(users|guests|subscribers)",name:"StatisticsReachProfileVisitorsByType",meta:{parentTag:"profile_visitors"},component:Ps},{path:"promotions",name:"StatisticsReachPromotions",component:Ss},{path:"campaigns",redirect:{name:"StatisticsReachTrackingLinks"}},{path:"tracking-links",name:"StatisticsReachTrackingLinks",component:ws}]},{path:"fans",name:"StatisticsFans",component:bs,redirect:{name:"StatisticsFansSubscriptions"},children:[{path:"subscriptions",name:"StatisticsFansSubscriptions",component:Is},{path:"top-fans",name:"StatisticsFansTop",component:ks}]}]}];var Ts=Cs;const $s=()=>Promise.all([s.e(13983),s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(48050),s.e(79411),s.e(97146),s.e(15776),s.e(23108),s.e(51474),s.e(9980),s.e(78646),s.e(45350),s.e(30296),s.e(69125),s.e(12741),s.e(24690),s.e(27148),s.e(22168),s.e(12768),s.e(85622),s.e(83010),s.e(61778),s.e(15409),s.e(97443),s.e(71850),s.e(52586),s.e(31658),s.e(93545),s.e(22217),s.e(23223)]).then(s.bind(s,901322)),Ls=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(15776),s.e(78646),s.e(30296),s.e(12741),s.e(24690),s.e(27148),s.e(22168),s.e(12768),s.e(85622),s.e(83010),s.e(96487)]).then(s.bind(s,850871)),Ms=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(79411),s.e(97146),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(66775),s.e(69147),s.e(58687)]).then(s.bind(s,128626)),_s=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(76115),s.e(53536),s.e(15776),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(51474),s.e(9980),s.e(78646),s.e(39638),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(21169),s.e(5640),s.e(12741),s.e(16899),s.e(72325),s.e(7665),s.e(3045),s.e(50999),s.e(18546),s.e(58201),s.e(36867),s.e(56861)]).then(s.bind(s,137418)),As=()=>Promise.all([s.e(13983),s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(48050),s.e(79411),s.e(97146),s.e(15776),s.e(23108),s.e(51474),s.e(9980),s.e(78646),s.e(45350),s.e(30296),s.e(69125),s.e(12741),s.e(24690),s.e(27148),s.e(22168),s.e(12768),s.e(85622),s.e(83010),s.e(61778),s.e(15409),s.e(97443),s.e(71850),s.e(52586),s.e(31658),s.e(93545),s.e(22217),s.e(23223)]).then(s.bind(s,504070)),Fs=[{path:"/my/streaming",name:"Streaming",component:$s,meta:{requiresCanStreaming:!0}},{path:"/:user/live",name:"Live",component:As,meta:{requiresAuth:!0}},{path:"/my/live/view/:user",redirect:{name:"Live"}},{path:"my/streaming/chat",name:"StreamingChat",component:Ls,meta:{requiresPerformer:!0}},{path:"my/streaming/dashboard",name:"StreamingDashboard",component:Ms,meta:{requiresAuth:!0,requiresPerformer:!0}},{path:"my/streaming/dashboard/create",name:"StreamingCreateEditSchedule",component:_s,meta:{requiresAuth:!0,requiresPerformer:!0}},{path:"my/streaming/dashboard/:id",name:"StreamingEditSchedule",component:_s,meta:{requiresAuth:!0,requiresPerformer:!0}}];var xs=Fs;const Ds=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(97146),s.e(76115),s.e(53536),s.e(15776),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(51474),s.e(9980),s.e(78646),s.e(39638),s.e(5508),s.e(34195),s.e(66787),s.e(14068),s.e(21169),s.e(5640),s.e(12741),s.e(16899),s.e(72325),s.e(7665),s.e(3045),s.e(50999),s.e(18546),s.e(58201),s.e(36867),s.e(56861)]).then(s.bind(s,551174)),Es=()=>Promise.all([s.e(38491),s.e(30306),s.e(48050),s.e(51474),s.e(9980),s.e(38652),s.e(89144),s.e(20694),s.e(32650)]).then(s.bind(s,280454)),Us=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(78646),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(62201),s.e(34195),s.e(66787),s.e(68305),s.e(25500),s.e(26492),s.e(51039),s.e(32642),s.e(97537),s.e(9966),s.e(47125),s.e(35395),s.e(46483),s.e(81262),s.e(43249),s.e(62822),s.e(52308),s.e(21293),s.e(9446),s.e(18917),s.e(72387),s.e(44998),s.e(51412),s.e(64015),s.e(59066),s.e(23407),s.e(84413),s.e(4156),s.e(4112),s.e(23234),s.e(96308),s.e(39265)]).then(s.bind(s,882935)),Rs=[{path:"/my/post-labels",component:Ds,meta:{requiresPerformer:!0},children:[{path:"",name:"PostLabels",component:Es},{path:":id(\\d+|archived|private_archived)/:postType(photos|videos|audios)?",name:"PostLabel",component:Us}]}];var Os=Rs;const Zs=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(48050),s.e(79411),s.e(97146),s.e(67333),s.e(72701),s.e(14377)]).then(s.bind(s,657163)),Bs=()=>Promise.all([s.e(38491),s.e(88102),s.e(83268),s.e(47705),s.e(39895),s.e(79411),s.e(97146),s.e(76115),s.e(53536),s.e(15776),s.e(14068),s.e(5640),s.e(2457),s.e(85454)]).then(s.bind(s,713504)),js=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(48050),s.e(79411),s.e(97146),s.e(67333),s.e(72701),s.e(14377)]).then(s.bind(s,365513)),Ws=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(48050),s.e(79411),s.e(97146),s.e(67333),s.e(72701),s.e(14377)]).then(s.bind(s,901518));var Vs=[{path:"/my/release-forms/search",name:"ReleaseFormsSearch",component:js,meta:{requiresPerformer:!0}},{path:"/my/release-forms/:id",name:"ReleaseFormPage",component:Bs,meta:{noRedirectOnLogOut:!0}},{path:"/my/release-forms",name:"ReleaseFormsStorage",component:Zs,meta:{requiresPerformer:!0}},{path:"/my/release-form/add",name:"AddReleaseForm",component:Ws,meta:{requiresPerformer:!0}}],qs=s(738129),Ns=s(285088);const Hs=()=>s.e(58359).then(s.t.bind(s,572007,23)),zs=()=>{Ns.isMobile&&Hs().then((e=>{window.eruda=e.default,window.eruda.init()}))},Xs=()=>Promise.all([s.e(88102),s.e(97146),s.e(56930),s.e(2457),s.e(20536),s.e(7544)]).then(s.bind(s,559990)),Gs=()=>s.e(20041).then(s.bind(s,637822));Gs.isErrorPage=!0;const Ys=n.ZP.prototype.push,Ks=n.ZP.prototype.replace;n.ZP.prototype.push=function(e,t,s){if(t||s)return Ys.call(this,e,t,s);try{return Ys.call(this,e).catch((e=>e))}catch(r){console.log(r)}},n.ZP.prototype.replace=function(e,t,s){if(t||s)return Ks.call(this,e,t,s);try{return Ks.call(this,e).catch((e=>e))}catch(r){console.log(r)}},i["default"].use(n.ZP);const Js=[...te,...Nt,...p.Hh,...p.H,...Ye,...v,...p.ph,...p.Ii,...at,...ts,...Ts,...yt,...xs,...Os,...I,...L,...F,...Vs,...H],Qs=new n.ZP({mode:"history",base:"/",scrollBehavior(e,t,s){return[/^Profile/,/^faq$/,/^MyQueue$/,/^StatisticsStatementsEarnings/].some((s=>[e,t].every((({name:e})=>s.test(e)))))?s:{x:0,y:0}},routes:[{path:"/",component:Xs,children:Js}]});Qs.beforeEach((async(e,t,s)=>{if(document.documentMode)return void s();if(u.Z.state.init.neededReload&&e.fullPath&&e.query&&!e.query._&&(!e.params||!e.params.isLogout&&!e.params.noReload))return void(window.location.href=e.fullPath);null===u.Z.getters["init/getInit"].isAuth&&await u.Z.dispatch("init/fetchInit");let r=u.Z.getters["init/getInit"];if(!window.TEXTS){const e=Object.keys(r.languages||{});if(e.length){const t=o.ZP.$cookie.get("lang",{domain:".onlyfans.com"});if(t&&!e.includes(t)&&(o.ZP.$cookie["delete"]("lang",{domain:".onlyfans.com"}),o.ag.locale="en"),!o.ZP.$cookie.get("lang",{domain:".onlyfans.com"})){const t=window.navigator.languages||[window.navigator.language||window.navigator.browserLanguage];if(Array.isArray(t)&&t.length){const s=t.filter((e=>e)).map((e=>e.slice(0,2))).find((t=>e.find((e=>t===e))));s&&"en"!==s&&(o.ag.locale=s)}}}await(0,o.gE)(o.ag.locale)}if(!window.TEXTS)return void s();if("Error"===e.name)return void s();f(e);let i=null;const n=e.matched.some((e=>e.meta.requiresGuest)),c=e.matched.some((e=>e.meta.requiresCanCreatePromotion)),d=e.matched.some((e=>e.meta.requiresConnectedAccount)),h=e.matched.some((e=>e.meta.requiresCanAddHelper)),p=e.matched.some((e=>e.meta.requiresCanAddStory)),g=e.matched.some((e=>e.meta.requiresCanAddCard)),y=e.matched.some((e=>e.meta.requiresCanMakeProfileLinks)),v=e.matched.some((e=>e.meta.requiresCanShopify)),P=e.matched.some((e=>e.meta.requiresPaidFeed)),S=e.matched.some((e=>e.meta.requiresPurchased)),w=e.matched.some((e=>e.meta.requiresCanStreaming)),b=c||e.matched.some((e=>e.meta.requiresPerformer)),I=e.matched.some((e=>e.meta.requiresCustomer)),k=e.matched.some((e=>e.meta.requiresCanSearchUsers)),C=e.matched.some((e=>e.meta.requiresReferrerAllowed)),T=e.matched.some((e=>e.meta.requiresEmailNotChecked)),$=e.matched.some((e=>e.meta.requiresHasStripe)),L=e.matched.some((e=>e.meta.requiresCountryVatRefundable)),M=e.matched.some((e=>e.meta.isCountryVatNumberCollect)),_=e.matched.some((e=>e.meta.isVatRequired)),A=w||p||d||T||h||k||I||C||P||S||b||e.matched.some((e=>e.meta.requiresUser)),F=A||e.matched.some((e=>e.meta.requiresAuth)),x=e.matched.some((e=>e.meta.allowFraudRepayment)),D=e.matched.some((e=>e.meta.allowNeedLoginIV)),E=e.matched.some((e=>e.meta.ageVerificationRequired)),U=e.matched.some((e=>e.meta.requiresCanChat)),R=new URLSearchParams(window.location.search);let O=R.get("rfguesttoken");if(O&&!u.Z.getters["auth/isAuth"]&&(o.ZP.$cookie.set("rfguesttoken",O),u.Z.commit("auth/setIsLogin",!1)),n&&r.isAuth)return void s("/");if(F&&(e.meta.requiresAuth=!0,!r.isAuth&&!u.Z.state.init.apiError))return e&&e.fullPath?void s(`/?return_to=${window.encodeURIComponent(e.fullPath)}`):void s("/");if((F||r.isAuth)&&(u.Z.getters["auth/isAuth"]||await u.Z.dispatch("auth/fetchUserMe",{root:!0}),!u.Z.getters["auth/isAuth"]))return void s();const Z=u.Z.getters["auth/authUser"];r=u.Z.getters["init/getInit"];const B=(0,m.O)();if(B.length&&B.every((t=>e.fullPath.indexOf(t)<0)))return document.querySelectorAll(`a[href="${e.fullPath}"]`).forEach((e=>{e.classList.add("m-forbidden")})),void s(B[0]);if(x||!r.isFraudRepayment||"Profile"===t.name)if(D||!r.isNeedIV||"Profile"===t.name){if(h){if(!Z.id)return void s("/my/chats");Z.canAddHelper||Z.helperAccess&&Z.helperAccess.length||(i={name:"Error"})}if(p&&!Z.canAddStory&&(i={name:"Error"}),g&&!Z.canAddCard&&(i={name:"Error"}),w&&!Z.canStreaming&&(i={name:"Error"}),y&&!Z.canMakeProfileLinks&&(i={name:"Error"}),v&&!Z.canShopify&&(i={name:"Error"}),d&&!(Z.canConnectOfAccount||Z.connectedOfAccounts&&Z.connectedOfAccounts.length)&&(i={name:"Error"}),I&&Z.isPerformer&&(i={name:"Error"}),U&&!Z.canChat&&(i={name:"Error"}),(k&&!Z.isMakePayment&&!Z.isPerformer||C&&!Z.isReferrerAllowed||b&&!Z.isPerformer||c&&!Z.canCreatePromotion)&&(i={name:"Error"}),(P&&!Z.paidFeed||S&&!Z.hasPurchasedPosts)&&(i={name:"Feed"}),!T||Z.email&&!Z.isEmailChecked||(i={name:"SettingsAdvanced"}),$&&!Z.hasStripe&&(i={name:"Banking"}),M&&!Z.isCountryVatNumberCollect&&(i={name:"Banking"}),L&&!Z.isCountryVatRefundable&&(i={name:"Statements"}),_&&Z.isVatRequired&&(i={name:"BankingVatChange"}),E)if(Z.ageVerificationRequired&&!Z.isAgeVerified){o.ZP.$root.$emit("ageVerificationRequired");try{(0,l.Jz)(Z.id,{type:"add_card",source:"banking",isAllowed:!1})}catch(j){}if(null!==t.name)return;i={name:"Payments"}}else"failed"===a()(Z,"ageVerificationSession.status")&&Z.canCheckDocsOnAddCard&&"approved"!==Z.ivStatus&&Z.needIVApprove&&(i={name:"VerifyPage"});if((0,qs.vq)(e),(0,qs.yK)(e)&&(i=(0,qs.OW)(e)),i)s(i);else if(t&&t.name&&"TicketsPage"===e.name&&!Z.email){const e={message:o.ZP.$t("message.tickets_need_valid_email"),html:!0,buttons:[{title:o.ZP.$t("message.go_to_settings"),onclick:()=>{s({name:"SettingsChangeEmail"})},closeOnClick:!0}]};"faq"!==t.name&&(e.onclose=s({name:"faq"})),alert(e)}else u.Z.commit("init/setGoBackRouteFrom",t),s()}else s({name:"Profile",params:{userId:Z.username}});else s({name:"Profile",params:{userId:Z.username}})})),Qs.afterEach(((e,t)=>{u.Z.commit("router/setRoute",{from:t,to:e}),t&&null===t.name&&window.history.state&&u.Z.commit("init/setGoBackInitHistoryState",window.history.state.key)})),Qs.onError((e=>{/loading(?: css)* chunk .* failed./i.test(e.message)&&window.location.reload()})),Qs.pushAsync=e=>new Promise(((t,s)=>{Qs.push(e,t,s)})),["beta","beta2","dev"].includes("live")&&!d().get("disableEruda",{domain:".onlyfans.com"})&&zs();var er=Qs},437035:function(e,t,s){"use strict";s.d(t,{H:function(){return h},Hh:function(){return m},Ii:function(){return p},ph:function(){return f}});s(333948);const r=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(76115),s.e(53536),s.e(87557),s.e(13912),s.e(51474),s.e(9980),s.e(39638),s.e(5508),s.e(34195),s.e(80042),s.e(93134),s.e(95435),s.e(14100),s.e(31152),s.e(19875),s.e(91405),s.e(75019),s.e(75059)]).then(s.bind(s,359565)),a=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(76115),s.e(53536),s.e(87557),s.e(13912),s.e(51474),s.e(9980),s.e(39638),s.e(5508),s.e(34195),s.e(80042),s.e(93134),s.e(95435),s.e(14100),s.e(31152),s.e(19875),s.e(91405),s.e(75019),s.e(75059)]).then(s.bind(s,390030)),i=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(79411),s.e(76115),s.e(53536),s.e(87557),s.e(69125),s.e(36460),s.e(27126)]).then(s.bind(s,947711)),n=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(76115),s.e(53536),s.e(87557),s.e(13912),s.e(51474),s.e(9980),s.e(39638),s.e(5508),s.e(34195),s.e(80042),s.e(93134),s.e(95435),s.e(14100),s.e(31152),s.e(19875),s.e(91405),s.e(75019),s.e(75059)]).then(s.bind(s,228758)),o=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(76115),s.e(53536),s.e(87557),s.e(13912),s.e(51474),s.e(9980),s.e(39638),s.e(5508),s.e(34195),s.e(80042),s.e(93134),s.e(95435),s.e(14100),s.e(31152),s.e(19875),s.e(91405),s.e(75019),s.e(75059)]).then(s.bind(s,993992)),c=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(76115),s.e(53536),s.e(87557),s.e(13912),s.e(51474),s.e(9980),s.e(39638),s.e(5508),s.e(34195),s.e(80042),s.e(93134),s.e(95435),s.e(14100),s.e(31152),s.e(19875),s.e(91405),s.e(75019),s.e(75059)]).then(s.bind(s,299588)),d=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(57570),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(26082),s.e(76115),s.e(53536),s.e(87557),s.e(15776),s.e(23108),s.e(13912),s.e(68337),s.e(61816),s.e(42063),s.e(89160),s.e(45964),s.e(85562),s.e(95485),s.e(48765),s.e(4136),s.e(78646),s.e(61696),s.e(39638),s.e(66775),s.e(69147),s.e(39285),s.e(5508),s.e(62201),s.e(34195),s.e(66787),s.e(68305),s.e(25500),s.e(26492),s.e(51039),s.e(32642),s.e(97537),s.e(9966),s.e(47125),s.e(35395),s.e(46483),s.e(81262),s.e(43249),s.e(62822),s.e(52308),s.e(21293),s.e(9446),s.e(18917),s.e(72387),s.e(44998),s.e(51412),s.e(64015),s.e(59066),s.e(23407),s.e(84413),s.e(4156),s.e(4112),s.e(23234),s.e(96308),s.e(39265)]).then(s.bind(s,372385)),u=()=>Promise.all([s.e(38491),s.e(30306),s.e(83268),s.e(47705),s.e(48050),s.e(51474),s.e(9980),s.e(78646),s.e(69125),s.e(80729)]).then(s.bind(s,225371)),l=()=>Promise.all([s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(39895),s.e(48050),s.e(33783),s.e(57398),s.e(76973),s.e(5846),s.e(43167),s.e(67311),s.e(90116),s.e(89365),s.e(79411),s.e(42152),s.e(97146),s.e(76115),s.e(53536),s.e(87557),s.e(13912),s.e(51474),s.e(9980),s.e(39638),s.e(5508),s.e(34195),s.e(80042),s.e(93134),s.e(95435),s.e(14100),s.e(31152),s.e(19875),s.e(91405),s.e(75019),s.e(75059)]).then(s.bind(s,136907)),m=[{path:"/my/subscriptions",name:"Subscribes",component:r,meta:{requiresAuth:!0},children:[{path:":type(active|expired|attention)",name:"SubscribesByType"}]}],h=[{path:"/my/subscribers/top/:year?/:month?",name:"SubscribersAwards",component:i,meta:{requiresPerformer:!0}},{path:"/my/subscribers",name:"Subscribers",component:a,meta:{requiresAuth:!0},children:[{path:":type(active|expired|activity)",name:"SubscribersByType"},{path:"restricted",redirect:{name:"RestrictedUsers"}}]},{path:"/my/promotions",name:"Promotions",component:n,meta:{requiresCanCreatePromotion:!0}},{path:"/my/blocked",name:"BlockedUsers",component:o,meta:{requiresAuth:!0}},{path:"/my/restricted",name:"RestrictedUsers",component:c,meta:{requiresAuth:!0}}],f=[{path:"/bookmarks",name:"BookmarkPosts",component:d,meta:{requiresAuth:!0,type:"all"},children:[{path:"photos",name:"BookmarkPosts_photos",component:d,meta:{type:"photos"}},{path:"videos",name:"BookmarkPosts_videos",component:d,meta:{type:"videos"}},{path:"audio",name:"BookmarkPosts_audio",component:d,meta:{type:"audios"}},{path:"other",name:"BookmarkPosts_other",component:d,meta:{type:"other"}},{path:"locked",name:"BookmarkPosts_locked",component:d,meta:{type:"locked"}}]}],p=[{path:"/my/lists",name:"UsersLists",component:u,meta:{requiresAuth:!0}},{path:"/my/lists/:list",name:"CustomList",component:l,meta:{requiresAuth:!0}},{path:"/my/friends",name:"MyFriends",component:l,meta:{requiresPerformer:!0}},{path:"/my/bookmarks",name:"Bookmarks",component:l,meta:{requiresAuth:!0}},{path:"/my/favorites",name:"Favorites",component:l,meta:{requiresAuth:!0}}]},619849:function(e,t,s){"use strict";s.d(t,{$M:function(){return Ut},$c:function(){return St},$q:function(){return Oe},A7:function(){return Ee},AI:function(){return G},AO:function(){return D},BK:function(){return at},Bd:function(){return p},C:function(){return _e},CD:function(){return L},Cm:function(){return n},Cr:function(){return gt},D:function(){return Be},Dh:function(){return F},Dw:function(){return Ge},EF:function(){return Fe},F1:function(){return dt},Ff:function(){return _t},Fr:function(){return et},Gb:function(){return V},Gw:function(){return fe},Hi:function(){return mt},Je:function(){return Rt},Ko:function(){return R},Lk:function(){return ze},M6:function(){return Le},MV:function(){return At},Mh:function(){return $t},Mx:function(){return ve},Ng:function(){return wt},Nl:function(){return N},Ns:function(){return Qe},Nt:function(){return De},OI:function(){return Ft},ON:function(){return he},Of:function(){return vt},Oj:function(){return Ae},P1:function(){return f},Pd:function(){return He},Pz:function(){return _},Q$:function(){return C},QF:function(){return X},QI:function(){return Ye},QR:function(){return S},R:function(){return Ke},R5:function(){return it},Ro:function(){return ye},SK:function(){return ue},Si:function(){return O},Tj:function(){return We},UG:function(){return qe},UR:function(){return we},UU:function(){return Ze},Um:function(){return a},Ux:function(){return E},VP:function(){return I},Vb:function(){return rt},Vo:function(){return h},Vv:function(){return Q},Wb:function(){return g},XH:function(){return ut},Xh:function(){return x},Xn:function(){return Y},Xz:function(){return ke},YB:function(){return Mt},YR:function(){return $},YV:function(){return w},Ym:function(){return It},Zp:function(){return ft},_B:function(){return o},_Q:function(){return $e},_e:function(){return Ce},_p:function(){return xt},aY:function(){return z},b$:function(){return le},be:function(){return ge},c0:function(){return nt},cP:function(){return ct},cZ:function(){return U},ds:function(){return Ie},eD:function(){return pt},fC:function(){return je},fD:function(){return v},fS:function(){return ee},ff:function(){return B},gu:function(){return st},h2:function(){return xe},hF:function(){return M},hM:function(){return bt},hS:function(){return me},i4:function(){return se},iN:function(){return J},i_:function(){return Lt},if:function(){return be},ip:function(){return ht},j8:function(){return q},je:function(){return k},jk:function(){return c},kH:function(){return m},km:function(){return ie},l$:function(){return A},lI:function(){return Te},ld:function(){return W},m9:function(){return i},mH:function(){return Je},mb:function(){return Re},nO:function(){return ne},of:function(){return Me},or:function(){return yt},ow:function(){return j},p9:function(){return Z},pC:function(){return Tt},pt:function(){return Ve},qP:function(){return Pe},qW:function(){return y},rL:function(){return ce},ri:function(){return P},rn:function(){return l},s3:function(){return Xe},sA:function(){return te},sE:function(){return de},sH:function(){return re},si:function(){return T},sq:function(){return Et},st:function(){return pe},sy:function(){return K},tF:function(){return H},tc:function(){return Dt},tj:function(){return Se},tn:function(){return Ue},tw:function(){return ot},ui:function(){return oe},uq:function(){return ae},us:function(){return b},vk:function(){return kt},wR:function(){return tt},x6:function(){return Ne},xk:function(){return u},xq:function(){return d},zH:function(){return Pt},zc:function(){return lt},zz:function(){return Ct}});s(333948);var r=s(420629);const a=e=>({...(0,r.rn)("users",[...e])}),i=e=>({...(0,r.Se)("users",[...e])}),n=e=>({...(0,r.OI)("users",[...e])}),o=e=>({...(0,r.nv)("users",[...e])}),c=e=>({...(0,r.rn)("posts",[...e])}),d=e=>({...(0,r.Se)("posts",[...e])}),u=e=>({...(0,r.OI)("posts",[...e])}),l=e=>({...(0,r.nv)("posts",[...e])}),m=e=>({...(0,r.rn)("comments",[...e])}),h=e=>({...(0,r.Se)("comments",[...e])}),f=e=>({...(0,r.nv)("comments",[...e])}),p=e=>({...(0,r.rn)("modals",[...e])}),g=e=>({...(0,r.Se)("modals",[...e])}),y=e=>({...(0,r.OI)("modals",[...e])}),v=e=>({...(0,r.rn)("auth",[...e])}),P=e=>({...(0,r.Se)("auth",[...e])}),S=e=>({...(0,r.OI)("auth",[...e])}),w=e=>({...(0,r.nv)("auth",[...e])}),b=e=>({...(0,r.Se)("socket",[...e])}),I=e=>({...(0,r.OI)("socket",[...e])}),k=e=>Array.isArray(e)?{...(0,r.rn)("chats",[...e])}:{...(0,r.rn)("chats",e)},C=e=>({...(0,r.Se)("chats",[...e])}),T=e=>({...(0,r.OI)("chats",[...e])}),$=e=>({...(0,r.nv)("chats",[...e])}),L=e=>({...(0,r.Se)("streams",[...e])}),M=e=>({...(0,r.nv)("streams",[...e])}),_=e=>({...(0,r.rn)("streamsPast",[...e])}),A=e=>({...(0,r.Se)("streamsPast",[...e])}),F=e=>({...(0,r.nv)("streamsPast",[...e])}),x=e=>({...(0,r.Se)("streamsScheduled",[...e])}),D=e=>({...(0,r.nv)("streamsScheduled",[...e])}),E=e=>({...(0,r.rn)("shopify",[...e])}),U=e=>({...(0,r.nv)("shopify",[...e])}),R=e=>({...(0,r.rn)("settings",[...e])}),O=e=>({...(0,r.Se)("settings",[...e])}),Z=e=>({...(0,r.OI)("settings",[...e])}),B=e=>({...(0,r.nv)("settings",[...e])}),j=e=>({...(0,r.rn)("init",[...e])}),W=e=>({...(0,r.Se)("init",[...e])}),V=e=>({...(0,r.OI)("init",[...e])}),q=e=>({...(0,r.nv)("init",[...e])}),N=e=>({...(0,r.rn)("subscribes",[...e])}),H=e=>({...(0,r.Se)("subscribes",[...e])}),z=e=>({...(0,r.OI)("subscribes",[...e])}),X=e=>({...(0,r.nv)("subscribes",[...e])}),G=e=>({...(0,r.rn)("subscribers",[...e])}),Y=e=>({...(0,r.Se)("subscribers",[...e])}),K=e=>({...(0,r.OI)("subscribers",[...e])}),J=e=>({...(0,r.nv)("subscribers",[...e])}),Q=e=>({...(0,r.rn)("offers",[...e])}),ee=e=>({...(0,r.Se)("offers",[...e])}),te=e=>({...(0,r.OI)("offers",[...e])}),se=e=>({...(0,r.nv)("offers",[...e])}),re=e=>({...(0,r.rn)("static",[...e])}),ae=e=>({...(0,r.Se)("static",[...e])}),ie=e=>({...(0,r.OI)("static",[...e])}),ne=e=>({...(0,r.nv)("static",[...e])}),oe=e=>({...(0,r.nv)("postStatCollector",[...e])}),ce=e=>({...(0,r.rn)("referrals",[...e])}),de=e=>({...(0,r.OI)("referrals",[...e])}),ue=e=>({...(0,r.nv)("referrals",[...e])}),le=e=>({...(0,r.rn)("creditTransactions",[...e])}),me=e=>({...(0,r.OI)("creditTransactions",[...e])}),he=e=>({...(0,r.nv)("creditTransactions",[...e])}),fe=e=>({...(0,r.rn)("payments",[...e])}),pe=e=>({...(0,r.Se)("payments",[...e])}),ge=e=>({...(0,r.OI)("payments",[...e])}),ye=e=>({...(0,r.nv)("payments",[...e])}),ve=e=>({...(0,r.rn)("statements",[...e])}),Pe=e=>({...(0,r.OI)("statements",[...e])}),Se=e=>({...(0,r.nv)("statements",[...e])}),we=e=>({...(0,r.rn)("banking",[...e])}),be=e=>({...(0,r.Se)("banking",[...e])}),Ie=e=>({...(0,r.OI)("banking",[...e])}),ke=e=>({...(0,r.nv)("banking",[...e])}),Ce=e=>({...(0,r.rn)("stories",[...e])}),Te=e=>({...(0,r.Se)("stories",[...e])}),$e=e=>({...(0,r.nv)("stories",[...e])}),Le=e=>({...(0,r.OI)("stories",[...e])}),Me=e=>({...(0,r.Se)("bundles",[...e])}),_e=e=>({...(0,r.nv)("bundles",[...e])}),Ae=e=>({...(0,r.rn)("streaming",[...e])}),Fe=e=>({...(0,r.Se)("streaming",[...e])}),xe=e=>({...(0,r.OI)("streaming",[...e])}),De=e=>({...(0,r.nv)("streaming",[...e])}),Ee=e=>({...(0,r.rn)("live",[...e])}),Ue=e=>({...(0,r.Se)("live",[...e])}),Re=e=>({...(0,r.OI)("live",[...e])}),Oe=e=>({...(0,r.nv)("live",[...e])}),Ze=e=>({...(0,r.Se)("massMessagesStat",[...e])}),Be=e=>({...(0,r.OI)("massMessagesStat",[...e])}),je=e=>({...(0,r.nv)("massMessagesStat",[...e])}),We=e=>({...(0,r.rn)("router",[...e])}),Ve=e=>({...(0,r.rn)("usersLists",[...e])}),qe=e=>({...(0,r.Se)("usersLists",[...e])}),Ne=e=>({...(0,r.OI)("usersLists",[...e])}),He=e=>({...(0,r.nv)("usersLists",[...e])}),ze=e=>({...(0,r.rn)("lastPosts",[...e])}),Xe=e=>({...(0,r.OI)("lastPosts",[...e])}),Ge=e=>({...(0,r.nv)("lastPosts",[...e])}),Ye=e=>({...(0,r.rn)("photoSwipe",e)}),Ke=e=>({...(0,r.OI)("photoSwipe",e)}),Je=e=>({...(0,r.rn)("performerHelpers",[...e])}),Qe=e=>({...(0,r.Se)("performerHelpers",[...e])}),et=e=>({...(0,r.OI)("performerHelpers",[...e])}),tt=e=>({...(0,r.nv)("performerHelpers",[...e])}),st=e=>({...(0,r.rn)("mediaVault",[...e])}),rt=e=>({...(0,r.Se)("mediaVault",[...e])}),at=e=>({...(0,r.OI)("mediaVault",[...e])}),it=e=>({...(0,r.nv)("mediaVault",[...e])}),nt=e=>({...(0,r.Se)("translations",[...e])}),ot=e=>({...(0,r.rn)("currentPlayMedia",[...e])}),ct=e=>({...(0,r.OI)("currentPlayMedia",[...e])}),dt=e=>({...(0,r.OI)("formApiErrors",[...e])}),ut=e=>({...(0,r.rn)("draft",[...e])}),lt=e=>({...(0,r.Se)("draft",[...e])}),mt=e=>({...(0,r.OI)("draft",[...e])}),ht=e=>({...(0,r.rn)("schedule",[...e])}),ft=e=>({...(0,r.Se)("schedule",[...e])}),pt=e=>({...(0,r.OI)("schedule",[...e])}),gt=e=>({...(0,r.nv)("schedule",[...e])}),yt=e=>({...(0,r.rn)("postLabels",[...e])}),vt=e=>({...(0,r.Se)("postLabels",[...e])}),Pt=e=>({...(0,r.OI)("postLabels",[...e])}),St=e=>({...(0,r.nv)("postLabels",[...e])}),wt=e=>({...(0,r.rn)("statistic",[...e])}),bt=e=>({...(0,r.Se)("statistic",[...e])}),It=e=>({...(0,r.OI)("statistic",[...e])}),kt=e=>({...(0,r.nv)("statistic",[...e])}),Ct=e=>({...(0,r.Se)("hints",[...e])}),Tt=e=>({...(0,r.OI)("hints",[...e])}),$t=e=>({...(0,r.rn)("savedForLater",[...e])}),Lt=e=>({...(0,r.Se)("savedForLater",[...e])}),Mt=e=>({...(0,r.OI)("savedForLater",[...e])}),_t=e=>({...(0,r.nv)("savedForLater",[...e])}),At=e=>({...(0,r.rn)("campaigns",[...e])}),Ft=e=>({...(0,r.nv)("campaigns",[...e])}),xt=e=>({...(0,r.rn)("releaseForms",[...e])}),Dt=e=>({...(0,r.Se)("releaseForms",[...e])}),Et=e=>({...(0,r.OI)("releaseForms",[...e])}),Ut=e=>({...(0,r.nv)("releaseForms",[...e])}),Rt=e=>({...(0,r.OI)("misc",[...e])})},550615:function(e,t,s){"use strict";var r=s(730236),a=s.n(r),i=s(328583),n=s.n(i),o=s(682492),c=s.n(o),d=(s(333948),s(720144)),u=s(420629),l=s(614278),m=s.n(l),h=s(211988),f=s(84702);d["default"].use(u.ZP);const p=[(0,f.Z)({paths:["draft"],key:"draft",filter:e=>["draft/setPostDraft","draft/removePostDraft","draft/setChatDraft","draft/removeChatDraft","draft/logout"].includes(e.type)}),(0,f.Z)({storage:window.sessionStorage,paths:["hints"],key:"vuexSession"})];navigator.cookieEnabled&&p.push(m()({predicate:["users/setUserHiddenPosts"]})),t["Z"]=new u.ZP.Store({strict:!1,modules:h["default"],plugins:p,actions:{logout(){return new Promise((e=>{Object.keys(this.state).forEach((e=>{this.commit(`${e}/logout`)})),e()}))}},mutations:{set(e,t){if(t.entities){if(t.entities.posts||t.entities.linkedPosts){const s={...t.entities.linkedPosts,...t.entities.posts};e.posts.items=a()({},e.posts.items,s,((e,t)=>{if(Array.isArray(t))return t}))}if(t.entities.users){const s={...t.entities.users},r=Object.keys(s).map(Number);if(e.users.needResetCheckOnlines){e.users.needResetCheckOnlines=!1;const t=e.auth.user;e.users.checkOnlines=[...new Set([...r,t])]}else e.users.checkOnlines=[...new Set([...e.users.checkOnlines,...r])];e.users.items=a()({},e.users.items,s,((e,t,s)=>"view"===s?n()(e||{},t):Array.isArray(t)?t:void 0))}if(t.entities.usersLists&&(e.usersLists.items=a()({},e.usersLists.items,t.entities.usersLists,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.comments&&(e.comments.items=c()({},e.comments.items,t.entities.comments)),t.entities.chats){const s={...t.entities.chats};e.chats.items=c()({},e.chats.items,s)}if(t.entities.chatUser){const s={...t.entities.chatUser};Object.keys(s).forEach((e=>{s[e].messages=[],s[e].typing=!1})),e.chats.items=c()({},e.chats.items,s)}if(t.entities.messages){const s={...t.entities.messages};t.chatId&&Object.keys(s).forEach((e=>{s[e].chatId=+t.chatId})),e.chats.messages=c()({},e.chats.messages,s)}t.entities.streams&&(e.streams.items=a()({},e.streams.items,t.entities.streams,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.subscribes&&(e.subscribes.items=c()({},e.subscribes.items,t.entities.subscribes)),t.entities.subscribers&&(e.subscribers.items=c()({},e.subscribers.items,t.entities.subscribers)),t.entities.offers&&(e.offers.items=c()({},e.offers.items,t.entities.offers)),t.entities.spotifyArtists&&(e.settings.spotifyArtistsItems=c()({},e.settings.spotifyArtistsItems,t.entities.spotifyArtists)),t.entities.spotifyTracks&&(e.settings.spotifyTracksItems=c()({},e.settings.spotifyTracksItems,t.entities.spotifyTracks)),t.entities.cards&&(e.payments.cards=c()({},e.payments.cards,t.entities.cards)),t.entities.bundles&&(e.bundles.items=c()({},e.bundles.items,t.entities.bundles)),t.entities.commentIds&&(e.comments.itemsIds=a()({},e.comments.itemsIds,t.entities.commentIds,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.repliesIds&&(e.static.repliesIds=a()({},e.static.repliesIds,t.entities.repliesIds,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.ticketReplies&&(e.static.ticketReplies=c()({},e.static.ticketReplies,t.entities.ticketReplies)),t.entities.votersList&&(e.posts.votersList=a()({},e.posts.votersList,t.entities.votersList,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.supportTickets&&(e.static.supportTickets=c()({},e.static.supportTickets,t.entities.supportTickets)),t.entities.performerHelpers&&(e.performerHelpers.items=c()({},e.performerHelpers.items,t.entities.performerHelpers)),t.entities.helperAccess&&(e.performerHelpers.helperAccess=c()({},e.performerHelpers.helperAccess,t.entities.helperAccess)),t.entities.postLabels&&(e.postLabels.items=a()({},e.postLabels.items,t.entities.postLabels,((e,t)=>{if(Array.isArray(t))return t}))),t.entities.vaultLists&&(e.mediaVault.vaultLists=c()({},e.mediaVault.vaultLists,t.entities.vaultLists)),t.entities.stories&&(e.stories.items=a()({},e.stories.items,t.entities.stories,((e,t,s)=>{if("src"===s&&e&&t&&e.split("?")[0]===t.split("?")[0])return e}))),t.entities.highlights&&(e.stories.highlightsItems={...e.stories.highlightsItems,...t.entities.highlights}),t.entities.massMessagesStat&&(e.massMessagesStat.items=c()({},e.massMessagesStat.items,t.entities.massMessagesStat)),t.entities.releaseForms&&(e.releaseForms.items=c()({},e.releaseForms.items,t.entities.releaseForms)),t.entities.releaseFormsGuests&&(e.releaseForms.guests=c()({},e.releaseForms.guests,t.entities.releaseFormsGuests))}}}})},397235:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});var r=s(227361),a=s.n(r),i=(s(21703),s(782677)),n=s(243168),o=s(97386),c=s(999023),d=s(172462),u=s(925832),l=s(198225);const m=()=>({user:null,logoutInProgress:!1,subscriptionInitiated:!1,isLogin:!0,QRCode:"",QRCodeSize:{width:246,height:246},accessToken:void 0,visitorId:void 0}),h=m(),f={authUser(e,t,s){const r=a()(e,"user",!1);let i={};return r&&(i=a()(s,`users.items[${r}]`,{})),i},authUserNotificationsCount(e,t,s){const r=e.user;return r?s.users.items[r].notificationsCount:0},authUserId:e=>e.user,isAuth:e=>!!e.user},p={setAuthUser(e,t){e.user=t},setLogoutInProgress(e,t){e.logoutInProgress=t},setSubscriptionInitiated(e,t){e.subscriptionInitiated=t},setIsLogin(e,t){e.isLogin=t},setQRCode(e,t=""){e.QRCode=t},setQRCodeSize(e,t={}){e.QRCodeSize={...e.QRCodeSize,...t}},setVisitorId(e,t){e.visitorId=t},setAccessToken(e,t){e.accessToken=t},logout(e){Object.assign(e,m(),{visitorId:e.visitorId})}},g={async login(e,t){return await(0,o.x4)(t)},async loginAsReferral(e,t){return await(0,o.pP)(t)},async logoutFromReferral(){return await(0,o.jK)()},async reqLogout({commit:e}){e("setLogoutInProgress",!0);const t=await(0,o.uf)();return l.ZP.$store.dispatch("logout"),t},async register(e,t){return await(0,o.z2)(t)},async fetchUserMe({commit:e,dispatch:t}){try{const s=await(0,c.ui)();if(s&&"object"===typeof s){s.hasScheduledStream&&t("schedule/fetchClosestScheduledStream",{},{root:!0});const r=(0,i.Fv)(s,n.IK);e("set",r,{root:!0}),e("setAuthUser",s.id),s.hasScenario&&await(0,u.Z)(),"Profile"!==l.ZP.$route.name&&"Post"!==l.ZP.$route.name||l.ZP.$route.params.userId!==s.username||e("users/setCurrentUser",s.id,{root:!0})}else(0,d.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}});e("init/mainRequestsLoaded",!0,{root:!0})}catch(s){e("init/mainRequestsLoaded",!0,{root:!0}),s&&(401===s.status||s.data&&s.data.error&&101===s.data.error.code)||(0,d.oj)({error:s})}},async fetchUserAuthToken({commit:e,state:t}){try{const s=await(0,c.Nh)();s&&"object"===typeof s&&e("users/setUserField",{userId:t.user,field:"wsAuthToken",status:s.wsAuthToken},{root:!0})}catch(s){}},async fetchAccessToken({commit:e}){try{const t=await(0,o.To)();t&&"object"===typeof t&&e("setAccessToken",t.accessToken)}catch(t){}}}},906189:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});var r=s(150361),a=s.n(r),i=s(227361),n=s.n(i),o=(s(333948),s(398563)),c=s(865273),d=s(218684),u=s(617875),l=s(172462);const m=()=>({payoutsBank:{},payoutsBankPreview:{},payoutsStripe:{stripe_legal:{}},payoutsLegal:{},disableSubmit:!1,paymentErrors:"",payoutsAccount:{},loading:!1,bankingLoading:!1,isEditBanking:!1,W9Address:null,autocompleteAddresses:{}}),h=m(),f={getBankingState:e=>t=>void 0!==e[t]?e[t]:"",getAutocompleteAddress:e=>t=>e.autocompleteAddresses[Object.values(t).join(", ")]},p={setBankingState(e,{field:t,value:s}){void 0!==e[t]&&(e[t]=s)},setPayoutsBank(e,t){const{payoutCode:s}=t,r=t.payouts.find((e=>e.code===s));r&&r.fields&&Object.keys(r.fields).forEach((e=>{const{value:t,type:s}=r.fields[e];t||(r.fields[e].value=""),"checkbox"===s&&(r.fields[e].value=!!r.fields[e].value)})),e.payoutsBank=t},setPayoutsBankPreview(e,t){e.payoutsBankPreview=a()(t)},setPayoutsStripe(e,t){e.payoutsStripe={...e.payoutsStripe,...t}},setPayoutsStripeSections(e,t){e.payoutsStripe={...e.payoutsStripe,...t}},setPayoutsLegal(e,t){e.payoutsLegal=t},clearPayoutsStripe(e){e.payoutsStripe={stripe_legal:{}}},clearPayoutsStripeLegal(e){e.payoutsStripe.stripe_legal={}},setPayoutsAccount(e,t){e.payoutsAccount=t},changePayoutFieldValue(e,{code:t,field:s,value:r,stripe:a=!1}){(t||s)&&(a?e.payoutsStripe[t].fields[s].value=r:e.payoutsBank.payouts.find((e=>e.code===t)).fields[s].value=r)},setStripeStates(e,t){n()(e,"payoutsStripe.stripe_legal.fields.legal_address_state.values")&&(e.payoutsStripe.stripe_legal.fields.legal_address_state.values=t)},setLoading(e,t){e.loading=t},setBankingLoading(e,t){e.bankingLoading=t},setIsEditBanking(e,t){e.isEditBanking=t},setW9Address(e,t){e.W9Address=t},setAutocompleteAddress(e,t){e.autocompleteAddresses={...e.autocompleteAddresses,...t}},resetPaymentsAlternativeMethodsForm(){const{payoutsBankPreview:e,payoutsBank:t}=m();h.payoutsBankPreview=e,h.payoutsBank=t},logout(e){Object.assign(e,m())}},g={async fetchPayoutsBank({commit:e},{other:t=!1,...s}={}){let r;r=t?await(0,o.mt)():await(0,o.iO)(s),r&&(e("setPayoutsBankPreview",r),e("setPayoutsBank",r),e("setIsEditBanking","edit"===s.context))},async fetchPayoutsLegal({commit:e}){const t=await(0,o.Jd)();return t&&e("setPayoutsLegal",t),t},async sendPayoutsBank({commit:e},t){const s=await(0,o.KD)(t);s&&(e("setPayoutsBankPreview",s),e("setPayoutsBank",s))},async removePayoutsBank({dispatch:e}){try{const t=await(0,o.uI)();null!==t&&void 0!==t&&t.success&&e("fetchPayoutsBank")}catch(t){(0,l.Po)(t)}},async fetchPayoutsAccount({commit:e}){try{const t=await(0,o.cD)();t&&e("setPayoutsAccount",t)}catch(t){}},async fetchPayoutsStripe({commit:e}){e("setLoading",!0);const t=await(0,o.GG)();t&&(e("setPayoutsStripe",t),e("setLoading",!1))},async fetchStripeStates({commit:e,state:t}){try{const s=await(0,u.Yx)(t.payoutsAccount.id);e("setStripeStates",s)}catch(s){}},async fetchPayoutsStripeLegal({commit:e,dispatch:t}){try{const s=await(0,o.SH)();s&&(n()(s,"stripe_legal.fields.legal_address_state")&&t("fetchStripeStates"),e("setPayoutsStripeSections",s))}catch(s){}},async sendPayoutsStripeLegal({commit:e,dispatch:t},s){const r=await(0,o.t1)(s);return r&&(n()(r,"stripe_legal.fields.legal_address_state")&&t("fetchStripeStates"),e("setPayoutsStripeSections",r)),r},async fetchPayoutsStripeAccount({commit:e},{edit:t=!1}={}){try{const s=await(0,o.VN)(t);s&&e("setPayoutsStripeSections",s)}catch(s){}},async sendPayoutsStripeAccount({commit:e},t){const s=await(0,o.oY)(t);s&&e("setPayoutsStripeSections",s)},async fetchPaymentsAlternativeMethodsForm({commit:e},t){const s=await(0,d.u6)(t);if(s){s.code="alternative";const t={payouts:[],payoutCode:"alternative"};t.payouts.push(s),e("setPayoutsBankPreview",t),e("setPayoutsBank",t)}},async fetchW9Address({commit:e},t={}){try{const s=await(0,c.k7)(t);if("object"!==typeof s||!s.country)return alert("Something went wrong. Please try again later."),!1;if(t.trust)return s;e("setW9Address",s)}catch(s){return 403!==n()(s,"status")&&105!==n()(s,"data.error.code")&&(0,l.Po)(s),!1}return!0},async saveW9Address(e,t){try{const e=await(0,c.Rp)(t);return e&&e.success}catch(s){(0,l.Po)(s)}return!1},async fetchAutocompleteAddress({commit:e},{payload:t,cancelToken:s}){const r=await(0,o.id)(t,s);Array.isArray(r)&&e("setAutocompleteAddress",{[Object.values(t).join(", ")]:r})}}},497965:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var r=s(782677),a=s(243168),i=s(172462),n=s(532622);const o=e=>n.ZP.post(`${n.tW}/subscriptions/bundles`,e).then((e=>e.data)),c=()=>n.ZP.get(`${n.tW}/subscriptions/bundles`).then((e=>e.data)),d=e=>n.ZP.put(`${n.tW}/subscriptions/bundles/${e.id}`,e).then((e=>e.data)),u=e=>n.ZP["delete"](`${n.tW}/subscriptions/bundles/${e}`).then((e=>e.data)),l=()=>({items:{},loading:!1}),m=l(),h={getBundles:e=>t=>t.map((t=>e.items[t]))},f={deleteBundle(e,t){const s={...e.items};delete s[t],e.items=s},logout(e){Object.assign(e,l())}},p={async fetchBundles({commit:e}){try{const t=await c();if(null!==t&&void 0!==t&&t.length){const s=(0,r.Fv)(t,a.H3);e("set",s,{root:!0}),e("setBundles",s.result)}}catch(t){}},async saveBundle({commit:e,rootGetters:t},s){try{var n;let i;if(i=null!==s&&void 0!==s&&s.id?await d(s):await o(s),null!==(n=i)&&void 0!==n&&n.id){const s=(0,r.Fv)(i,a.Vz);e("set",s,{root:!0});const n=t["auth/authUserId"];e("users/setBundle",{userId:n,bundleId:i.id},{root:!0})}}catch(c){(0,i.Po)(c)}},async deleteBundle({commit:e,rootGetters:t},s){try{const r=await u(s);if(r){const r=t["auth/authUserId"];e("users/deleteBundle",{userId:r,bundleId:s},{root:!0}),e("deleteBundle",s)}}catch(r){(0,i.Po)(r)}}}},807394:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return m},mutations:function(){return l},state:function(){return u}});var r=s(545578),a=s.n(r),i=(s(333948),s(21703),s(782677)),n=s(243168),o=s(76816),c=s(172462);const d=()=>({isLoading:!1,campaigns:{list:[],hasMore:!1},chartData:{loading:!1,data:null},claimersList:[]}),u=d(),l={setIsLoading(e,t){e.isLoading=t},setCampaigns(e,{campaigns:{list:t,hasMore:s},more:r=!1}){e.campaigns={list:r?a()([...e.campaigns.list,...t],"id"):t,hasMore:s}},setChartData(e,t){e.chartData.data=t},setChartDataLoading(e,t){e.chartData.loading=t},setCampaign(e,t){e.campaigns.list.unshift(t)},deleteCampaignMutation(e,t){e.campaigns.list=e.campaigns.list.filter((e=>e.id!==t))},setCampaignClaimers(e,{list:t,more:s}){e.claimersList=s?[...new Set([...e.claimersList,...t])]:t},resetCampaignClaimers(e){e.claimersList=d().claimersList},logout(e){Object.assign(e,d())}},m={async createCampaign({commit:e},t={}){let s;try{if(s=await(0,o.jP)(t),Array.isArray(s)){const[t]=s;e("setCampaign",t)}else(0,c.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(r){(0,c.Po)(r)}return s},async deleteCampaignAction({commit:e},t){let s;try{s=await(0,o.bO)(t),s&&e("deleteCampaignMutation",t)}catch(r){(0,c.Po)(r)}return s},async fetchCampaigns({commit:e},{limit:t,offset:s,sort:r,field:a,more:i,startDate:n,endDate:u,withDeleted:l}={}){e("setIsLoading",!0);const m=d();i||e("setCampaigns",{campaigns:m.campaigns});try{const d=await(0,o._z)({limit:t,offset:s,sort:r,field:a,startDate:n,endDate:u,withDeleted:l});return e("setIsLoading",!1),d&&"object"===typeof d?e("setCampaigns",{campaigns:d,more:i}):(0,c.oj)({error:new Error("typeof response is incorrect"),extra:{response:d}}),d}catch(h){return e("setIsLoading",!1),m.campaigns}},async fetchCampaignsChart({commit:e},{startDate:t,endDate:s}={}){let r;e("setChartDataLoading",!0);try{if(r=await(0,o.IK)({startDate:t,endDate:s}),r){const{claims:t,...s}=r,a={subscribers:t,...s};e("setChartData",a)}else(0,c.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(a){}finally{e("setChartDataLoading",!1)}return r},async fetchCampaignClaimers({commit:e},{id:t,more:s=!1,...r}){let a;try{var c;if(a=await(0,o.et)({id:t,more:s,...r}),Array.isArray(null===(c=a)||void 0===c?void 0:c.list)){const r=(0,i.Fv)(a.list,n.Xd);e("set",r,{root:!0}),e("setCampaignClaimers",{campaignId:t,list:r.result,more:s})}}catch(d){}return a}}},835401:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return P},getters:function(){return y},mutations:function(){return v},state:function(){return g}});var r=s(957557),a=s.n(r),i=s(227361),n=s.n(i),o=(s(333948),s(365069),s(21703),s(115306),s(720144)),c=s(782677),d=s(198225),u=s(243168),l=s(410697),m=s(172462),h=s(532622),f=s(914786);const p=()=>({chats:[],items:{},currentChat:null,messages:{},chatsLoading:!1,chatsListLoading:!1,sendMessageLoading:!1,searchIds:[],currentSearchIndex:null,searchQuery:"",chatsSort:null,chatsFilter:null,mobileVersion:!1,chatsListHasMore:!1,emptyMessagesList:!1,firstLoadingChatsList:!1,firstLoadingMessagesList:!1,usersTotal:0,selectedUsersIds:0,queueIds:[],queueItems:{},media:[],queueBuyersMarker:0,queueBuyersIds:[],queueBuyersError:!1,selectedUsers:[],galleryListNextLastId:void 0,showViewAllInclude:!1,selectViewAllInclude:[],showViewAllExclude:!1,selectViewAllExclude:[],nextOffset:0,scheduleQueueMessage:null,hasMoreUsers:!1,messagesHasMore:{},messageIdToCentered:null}),g=p(),y={chatsByType:e=>e.chats.map((t=>e.items[t])).filter((e=>e)),getChat:e=>t=>e.items[t],getMessages:e=>(t=[])=>t.map((t=>e.messages[t])),getMessage:e=>t=>e.messages[t],chatMessages:e=>t=>e.items[t].messages,getLikePrevent:e=>t=>e.messages[t].likePrevent,getIsMediaPlayed:e=>t=>e.messages[t].isMediaPlayed,getQueueItem:e=>t=>e.queueItems[t],getMessageReleaseForms:(e,t,s)=>t=>{const r=n()(s,"releaseForms.items",{});return e.messages[t]&&e.messages[t].releaseForms?e.messages[t].releaseForms.filter((e=>!!r[e])).map((e=>r[e])):[]}},v={setLoading(e,t){e.chatsLoading=t},setChatsListLoading(e,t){e.chatsListLoading=t},setCurrentChat(e,t){e.currentChat=t},setSendMessageLoading(e,t){e.sendMessageLoading=t},setHasMoreUsers(e,t){e.hasMoreUsers=t},setMobileVersion(e,t){e.mobileVersion=t},setChats(e,{ids:t=[]}){e.chats=t},resetChats(e){e.chats=[]},addChats(e,{ids:t}){e.chats=[...new Set([...e.chats,...t])]},setChatMessages(e,t){const{id:s,messageIds:r,add:a=!1,before:i=!0,ownMsg:n,isSocket:c=!1}=t,d=Array.isArray(r)?r:[r];!1!==n||e.items[s]||o["default"].set(e.items,t.id,{withUser:t.id,unreadMessagesCount:1,messages:[],hasUnreadTips:!1,countPinnedMessages:0}),a?e.items[s]&&Object.keys(e.items[s].messages).length?e.items[s].messages=i?[...new Set([...d,...e.items[s].messages])]:[...new Set([...e.items[s].messages,...d.reverse()])]:(e.items[s]&&(e.items[s].messages=[...new Set([...e.items[s].messages,...d])]),c&&"newest"===e.chatsSort&&(e.chats=e.chats.reduce(((e,t)=>t!==s?[...e,t]:e),[s]))):e.items[s]&&(e.items[s].messages=d)},setLastMessage(e,{chatId:t,messageId:s,ownMsg:r=!1,isNew:a}){e.items[t]&&(e.items[t].prevMessage=e.items[t].lastMessage,e.items[t].lastMessage=s,!r&&void 0!==e.items[t].unreadMessagesCount&&null!==e.items[t].unreadMessagesCount&&a&&(e.items[t].unreadMessagesCount+=1))},deleteChat(e,t){const s=Array.isArray(t)?t:[t];e.chats=e.chats.filter((e=>!s.includes(e))),e.items=a()(e.items,s)},deleteSomeChat(e,t){t.forEach((t=>{e.chats=e.chats.filter((e=>e!==t))}))},setMessageIdToCentered(e,t){e.messageIdToCentered=t},setSearchIds(e,t){e.searchIds=t},setCurrentSearchIndex(e,t){e.currentSearchIndex=t},setSearchQuery(e,t){e.searchQuery=t},deleteMessage(e,{chatId:t,messageId:s}){const r=e.items[t];if(!r)return;r.messages=r.messages.filter((e=>e!==s));const a=r.messages.length,i=a?r.messages[a-1]:null;r.prevMessage=i,r.lastMessage=i},deleteMessageById(e,t){const s=e.messages[t];if(s){if(s.chatId&&e.items[s.chatId]){const r=e.items[s.chatId].messages.filter((e=>e!==+t)),a=r[r.length-1];e.items[s.chatId].messages=r,e.items[s.chatId].lastMessage=a}s.isCanceled=!0,e.messages={...e.messages,message:s}}},decrMessageCancelSeconds(e,t){e.messages[t].cancelSeconds<=0?e.messages[t].cancelSeconds=0:e.messages[t].cancelSeconds-=1},setChatTyping(e,{chatId:t,status:s}){e.items[t]&&(e.items[t].typing=s)},setMessage(e,t={}){e.messages[t.id]&&(e.messages[t.id]={...e.messages[t.id],...t})},setMessageIsNew(e,{messageId:t,status:s}){e.messages[t]&&(e.messages[t].isNew=s)},setMuted(e,{id:t,status:s}){e.items[t]&&(e.items[t].isMuted=s)},setChatsSort(e,t){if(void 0===t){let e="newest";try{["newest","oldest"].includes(f.Z.getItem("sort_chats"))&&(e=f.Z.getItem("sort_chats"))}catch(s){}t=e}e.chatsSort=t;try{f.Z.setItem("sort_chats",t)}catch(s){}},setChatsFilter(e,t){e.chatsFilter=t},setAddedNewItemChats(e,{id:t}){e.chats.unshift(t)},setNewUserChats(e,t){e.chats.includes(t)||(e.chats.unshift(t),e.chats.splice(-1,1))},setChatAsRead(e,t){e.items[t]&&(e.items[t].unreadMessagesCount=!1)},setLastReadMessageId(e,t){e.items[t]&&(e.items[t].lastReadMessageId=e.items[t].lastMessage)},setChatAsUnRead(e,t){e.items[t]&&(e.items[t].unreadMessagesCount=1)},setAllChatAsRead(e,t){Object.keys(e.items).forEach((s=>{t.includes(+s)&&(e.items[s].unreadMessagesCount=!1)}))},setNewMessageIds(e,t=[]){Array.isArray(t)||(t=[t]),t.forEach((t=>{+e.currentChat!==+t&&e.items[t]&&e.items[t].unreadMessagesCount&&!e.items[t].newMessageId&&(e.items[t].newMessageId=e.items[t].lastReadMessageId)}))},clearNewMessageId(e,t){e.items[t]&&(e.items[t].newMessageId=null)},setMessageReleaseForms(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].releaseForms=s)},setMessageIsLiked(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].isLiked=s)},setMessageIsPinned(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].isPinned=s)},setChatMessagesPinnedCount(e,{chatId:t,value:s}){const r=e.items[t];r&&(r.countPinnedMessages||(r.countPinnedMessages=0),s?r.countPinnedMessages+=1:r.countPinnedMessages>0&&(r.countPinnedMessages-=1))},setChatUnpinned(e,{withUserId:t}){e.items[t]&&(e.items[t].countPinnedMessages=0)},setChatMessagesUnpinned(e,{withUserId:t}){e.items[t]&&e.items[t].messages.forEach((t=>{e.messages[t]&&(e.messages[t].isPinned=!1)}))},setLikePrevent(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].likePrevent=s)},setMessageCancelSeconds(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].cancelSeconds=s)},setIsMediaPlayed(e,{messageId:t,value:s}){e.messages[t]&&(e.messages[t].isMediaPlayed=s)},setChatsHasMore(e,{userId:t,hasMoreTop:s,hasMoreBottom:r}){let a={};a=e.messagesHasMore[t]?{...e.messagesHasMore[t],...void 0!==s&&{top:s},...void 0!==r&&{bottom:r}}:{top:!(!1===s),bottom:!(!1===r)},e.messagesHasMore={...e.messagesHasMore,[t]:a}},setChatsListHasMore(e,t){e.chatsListHasMore=t},setEmptyMessagesList(e,t){e.emptyMessagesList=t},setMuteNotifications(e,t){e.items[t]&&(e.items[t].isMutedNotifications=!e.items[t].isMutedNotifications)},setFirstLoadingChatsList(e,t){e.firstLoadingChatsList=t},setFirstLoadingMessagesList(e,t){!e.firstLoadingMessagesList&&t&&(e.firstLoadingMessagesList=!0),t||(e.firstLoadingMessagesList=!1)},setUsersTotal(e,t){e.usersTotal=t>0?t:0},setSelectedUsersIds(e,t){e.selectedUsersIds=t},setChatUserMedia(e,t){e.media=[...new Set(t)]},addChatUserMedia(e,t){e.media=[...new Set([...e.media,...t])]},setQueueBuyersMarker(e,t=0){e.queueBuyersMarker=t},setQueueBuyersIds(e,{more:t=!1,ids:s=[]}={}){e.queueBuyersIds=t?[...new Set([...e.queueBuyersIds,...s])]:s},setQueueBuyersError(e,t){e.queueBuyersError=t},setSelectedUsers(e,t){e.selectedUsers.includes(t)?e.selectedUsers=e.selectedUsers.filter((e=>e!==t)):e.selectedUsers.push(t)},setAllSelectedUsers(e){e.selectedUsers=e.chats},resetSelectedUsers(e){e.selectedUsers=[]},removeSelectedUserById(e,t){const s=Array.isArray(t)?t:[t];e.selectedUsers=e.selectedUsers.filter((e=>!s.includes(e)))},setGalleryNextLastId(e,t=null){e.galleryListNextLastId=t},setShowViewAllInclude(e,t){e.showViewAllInclude=t},setSelectViewAllInclude(e,t){e.selectViewAllInclude=t},setShowViewAllExclude(e,t){e.showViewAllExclude=t},setSelectViewAllExclude(e,t){e.selectViewAllExclude=t},setNextOffset(e,t){e.nextOffset=t},setMessagesQueue(e,{items:t}){const s=(0,c.Fv)(t,u.GD);e.queueItems=s.entities.queues||{},e.queueIds=s.result},setMessageScheduledQueue(e,t){e.scheduleQueueMessage=t},setMessageIsReportedByMeTemp(e,t=0){e.messages[t]&&(e.messages[t]={...e.messages[t],isReportedByMeTemp:!0})},setHasPurchesesFeed(e,{id:t,status:s}){e.items[t]&&e.items[t].hasPurchasedFeed!==s&&(e.items[t]={...e.items[t],hasPurchasedFeed:s})},setEmptyMessages(e,t){e.messagesHasMore={},e.firstLoadingMessagesList=!1,e.items[t]&&(e.items[t].messages=[])},logout(e){Object.assign(e,p())}},P={async fetchChats({commit:e,dispatch:t,state:s},{limit:r=h.P9,more:a=!1,...i}={}){const{cancelToken:n,Cancel:o}=(0,h.Yz)("fetchChats");e("setLoading",!0),e("setChatsListLoading",!0),a||(e("setChatsListHasMore",!1),e("setNextOffset",0),e("resetChats"));try{const o=await(0,l.zG)({limit:r,offset:s.nextOffset,...i},n);if(Array.isArray(null===o||void 0===o?void 0:o.list))if(o.list.length){const s=(0,c.Fv)(o.list,u.rL),r=s.result,i={entities:{users:{}}};r.forEach((e=>{i.entities.users[e]={_views:["cl"]}})),await t("users/getUsersIfNeeded",i,{root:!0}),e("set",s,{root:!0}),e(a?"addChats":"setChats",{ids:r}),e("setNewMessageIds",r)}else a||o.hasMore||e("resetChats");return e("setChatsListHasMore",o&&o.hasMore),e("setNextOffset",o&&o.nextOffset||s.nextOffset+r),e("setLoading",!1),e("setChatsListLoading",!1),e("setFirstLoadingChatsList",!0),o}catch(d){return d instanceof o?{list:[],hasMore:!1}:(e("setChatsListHasMore",!1),e("setNextOffset",0),e("setLoading",!1),e("setChatsListLoading",!1),e("setFirstLoadingChatsList",!0),{list:[],hasMore:!1,error:!0})}},async fetchChat({commit:e,dispatch:t},s){try{const r=await(0,l.mb)(s);if(!r||"object"!==typeof r)throw(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}}),new Error("Network Error");{const s=(0,c.Fv)(r,u.dO);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0})}}catch(r){throw d.ZP.$router.replace({name:"Chats"}),d.ZP.$nextTick((()=>{(0,m.Po)(r)})),r}},async fetchChatsMessages({commit:e,dispatch:t},{userId:s,lastId:r,firstId:a,id:i,more:n=!1,before:o=!0,limit:f=h.P9,filter:p,order:g="desc"}={}){e("setEmptyMessagesList",!1),n||e("setEmptyMessages",s);try{const m=await(0,l.DP)(s,{lastId:r,firstId:a,id:i,skipUsers:"all",limit:f,filter:p,order:g});if(null!==m&&void 0!==m&&m.list){let d;if(1===f&&1===m.list.length)d=(0,c.Fv)(m.list[0],u.w1),e("set",d,{root:!0});else{if(m.list.length){d=(0,c.Fv)(m.list,u.VR),await t("users/getUsersIfNeeded",d,{root:!0}),e("releaseForms/setReleaseFormsNormalized",d,{root:!0}),d.chatId=s,d.messageId=d.id,e("set",d,{root:!0});const r=d.result.reverse();e("setChatMessages",n?{id:s,messageIds:r,add:!0,before:o}:{id:s,messageIds:r})}else n||e("setEmptyMessagesList",!0);if(void 0===r&&void 0===a&&void 0===i)e("setChatsHasMore",{userId:s,hasMoreTop:!!m.hasMore,hasMoreBottom:!1});else{const t={userId:s,[o?"hasMoreTop":"hasMoreBottom"]:!!m.hasMore};m.list.length&&a&&!d.result.includes(+a)&&(t[o?"hasMoreBottom":"hasMoreTop"]=!1),e("setChatsHasMore",t)}e("setFirstLoadingMessagesList",!0)}}else e("setChatsHasMore",{userId:s,[o?"hasMoreTop":"hasMoreBottom"]:!1}),e("setFirstLoadingMessagesList",!0),alert(d.ZP.$t("message.debug_alert_message"))}catch(y){d.ZP.$router.replace({name:"Chats"}),d.ZP.$nextTick((()=>{(0,m.Po)(y)}))}},async fetchChatsUsers({commit:e,rootGetters:t,dispatch:s},{query:r,offset:a,limit:i=h.P9,...n}={}){const{cancelToken:o,Cancel:d}=(0,h.Yz)("fetchChatsUsers");try{const d=t["users/needSkipUsersOnShort"]?"all":void 0,h=await(0,l.o8)({query:r,offset:a,limit:i,total:r||a?0:1,skipUsers:d,...n},o);if(h&&"object"===typeof h){const{hasMore:t,list:r,total:a}=h;if(e("setHasMoreUsers",!!t),"number"===typeof a&&e("setUsersTotal",a),Array.isArray(r)&&r.length){const t=(0,c.Fv)(r,u.Xd);return d&&await s("users/getUsersIfNeeded",t,{root:!0}),e("set",t,{root:!0}),t.result}return[]}(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:h}})}catch(f){if(f instanceof d)throw f}return e("setUsersTotal",0),e("setHasMoreUsers",!1),[]},async fetchMessagesQueue({commit:e}){try{const t=await(0,l.tx)();Array.isArray(t)&&e("setMessagesQueue",{items:t})}catch(t){(0,m.Po)(t)}},async clearQueueState({commit:e,state:t},{id:s}){const r=Object.values(t.queueItems),a=Object.values(t.messages).filter((e=>e.isFromQueue&&e.queueId===s)).map((e=>e.id));a.forEach((t=>e("deleteMessageById",t))),e("setMessagesQueue",{items:r.filter((e=>e.id!==s))})},async delMessagesQueue({state:e,dispatch:t},{id:s,withRequest:r}){if(r){if(e.queueIds.includes(s))try{const e=await(0,l.SL)(s);null!==e&&void 0!==e&&e.success&&t("clearQueueState",{id:s})}catch(a){(0,m.Po)(a)}}else t("clearQueueState",{id:s})},async getMessageScheduledQueue({commit:e},{id:t}){const{cancelToken:s,Cancel:r}=(0,h.Yz)("getMessageScheduledQueue");try{const r=await(0,l.ae)(t,"scheduled",s);return e("setMessageScheduledQueue",r),!0}catch(a){a instanceof r||(0,m.Po)(a)}return!1},async sendMessage({commit:e,state:t},{id:s,data:r}){e("clearNewMessageId",s),e("setSendMessageLoading",!0);try{const a=await(0,l.bG)(s,r);if(e("setSendMessageLoading",!1),null!==a&&void 0!==a&&a.id){a.chatId=s;const r=(0,c.Fv)(a,u.w1);e("set",r,{root:!0});const i=r.result;e("setChatMessages",{id:s,messageIds:i,add:!0,before:!1});const n=+s;return t.chats.includes(n)||e("setAddedNewItemChats",{id:n}),a}}catch(a){if(e("setSendMessageLoading",!1),n()(a,"data.errors.textHighLight[0]"))return(0,m.Po)(a),a;(0,m.Po)(a)}return!1},async deleteChat({commit:e,dispatch:t,state:s},r){const a=Array.isArray(r)?r:[r];try{const r=await(0,l.GO)(a.join());if(null!==r&&void 0!==r&&r.success){const r=a.filter((e=>{var t;return null===(t=s.items[e])||void 0===t?void 0:t.countPinnedMessages})).length;r>0&&t("users/updateChatPinnedCount",{status:-r},{root:!0}),e("deleteChat",a),e("removeSelectedUserById",a)}}catch(i){(0,m.Po)(i)}},async searchMessages({commit:e},{id:t,query:s,filter:r}){let a;try{a=await(0,l.sl)(t,{query:s,filter:r})}catch(i){return[]}return e("setSearchIds",a),e("setSearchQuery",s),a},async deleteMessages({commit:e,dispatch:t},{chatId:s,messageId:r}){try{const i=await(0,l.qP)(r,s);if(null!==i&&void 0!==i&&i.success){var a;if(null!==(a=g.messages[r])&&void 0!==a&&a.isPinned){e("setChatMessagesPinnedCount",{chatId:s,value:!1});const r=g.items[s];r&&0===r.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0})}e("deleteMessage",{chatId:s,messageId:r})}}catch(i){(0,m.Po)(i)}},async markChatAsRead({commit:e},t){try{const s=await(0,l.JK)(t);null!==s&&void 0!==s&&s.success&&e("setChatAsRead",t)}catch(s){(0,m.Po)(s)}},async markChatAsUnRead({commit:e},t){try{const s=await(0,l.kd)(t);null!==s&&void 0!==s&&s.success&&(e("setChatAsUnRead",t),e("setNewMessageIds",t))}catch(s){(0,m.Po)(s)}},async markAllChatAsRead({commit:e,rootState:t},{filteredChatsIds:s,unreadMessagesCount:r,currentFiltersIds:a}){try{const i=await(0,l.Re)(a);null!==i&&void 0!==i&&i.success&&(e("users/resetChatMessagesCount",{userId:t.auth.user,unreadMessagesCount:r},{root:!0}),e("setAllChatAsRead",s))}catch(i){(0,m.Po)(i)}},async setLikeMessage({commit:e},{messageId:t,withUserId:s}){try{e("setLoading",!0);const r=await(0,l.d9)(t,s);null!==r&&void 0!==r&&r.success&&e("setMessageIsLiked",{messageId:t,value:!0})}catch(r){(0,m.Po)(r)}e("setLoading",!1)},async setUnlikeMessage({commit:e},{messageId:t,withUserId:s}){try{e("setLoading",!0);const r=await(0,l.tY)(t,s);null!==r&&void 0!==r&&r.success&&e("setMessageIsLiked",{messageId:t,value:!1})}catch(r){(0,m.Po)(r)}e("setLoading",!1)},async hideChats({commit:e,dispatch:t,state:s},r){let a;try{var i,n;if(a=await(0,l.ad)(r),null!==(i=a)&&void 0!==i&&i.success)null!==(n=s.items[r])&&void 0!==n&&n.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0}),e("deleteChat",r)}catch(o){(0,m.Po)(o)}return a},async toggleMuteNotifications({commit:e,state:t,rootState:s},r){const{isMutedNotifications:a}=t.items[r];let i;try{var n;if(i=a?await(0,l.cJ)(r):await(0,l.XC)(r),null!==(n=i)&&void 0!==n&&n.success){var o;e("setMuteNotifications",r);const t=s.users.items[r];if(null!==t&&void 0!==t&&null!==(o=t.listsStates)&&void 0!==o&&o.length){const s=t.listsStates.map((e=>"muted"===e.type?{...e,hasUser:!e.hasUser}:e));e("users/setUserField",{userId:r,field:"listsStates",status:s},{root:!0})}}}catch(c){(0,m.Po)(c)}return i},async fetchChatsUsersMedia({commit:e,state:t},{lastId:s=t.galleryListNextLastId,signal:r,...a}={}){try{const t=await(0,l.yq)({lastId:s,signal:r,...a});if(t){if(Array.isArray(t.list)&&t.list.length){const r=(0,c.Fv)(t.list,u.VR);e("set",r,{root:!0}),e(s?"addChatUserMedia":"setChatUserMedia",r.result)}return e("setGalleryNextLastId",t.nextLastId),!(null===t||void 0===t||!t.hasMore)}}catch(i){}return!1},async fetchQueueBuyersList({commit:e,rootGetters:t,dispatch:s,state:r},{more:a=!1,...i}){e("setQueueBuyersError",!1);try{a||(e("setQueueBuyersMarker"),e("setQueueBuyersIds"));const n=t["users/needSkipUsersOnShort"]?"all":void 0,o=await(0,l.j2)({skipUsers:n,marker:r.queueBuyersMarker,...i});if(null!==o&&void 0!==o&&o.list&&(o.marker&&e("setQueueBuyersMarker",o.marker),Array.isArray(o.list)&&o.list.length)){const t=(0,c.Fv)(o.list,u.Xd);n&&await s("users/getUsersIfNeeded",t,{root:!0}),e("set",t,{root:!0}),e("setQueueBuyersIds",{more:a,ids:t.result})}return o}catch(n){e("setQueueBuyersError",!0)}return!1},newMessageFromSocket({commit:e},t){const{bottom:s}=g.messagesHasMore[t.id]||{};s||e("setChatMessages",t)},async togglePinMessage({commit:e,state:t,dispatch:s},{messageId:r,withUserId:a}){try{e("setLoading",!0);const i=t.messages[r],n=!(!i||!i.isPinned),o=i&&i.chatId;let c;if(c=n?await(0,l.lg)(r,a):await(0,l.rY)(r,a),c&&c.success){e("setMessageIsPinned",{messageId:r,value:!n}),e("setChatMessagesPinnedCount",{chatId:o,value:!n});const a=o&&t.items[o];if(a){const{countPinnedMessages:e}=a;(!n&&1===e||n&&0===e)&&s("users/updateChatPinnedCount",{status:n?-1:1},{root:!0})}}}catch(i){(0,m.Po)(i)}e("setLoading",!1)},async unpinAllChatMessages({commit:e,dispatch:t},{withUserId:s}){try{e("setLoading",!0);const r=await(0,l.dU)(s);null!==r&&void 0!==r&&r.success&&(e("setChatUnpinned",{withUserId:s}),e("setChatMessagesUnpinned",{withUserId:s}),e("setEmptyMessagesList",!0),t("users/updateChatPinnedCount",{status:-1},{root:!0}))}catch(r){(0,m.Po)(r)}e("setLoading",!1)},async hideMessage({commit:e,dispatch:t,state:s},r){try{const a=await(0,l.SR)(r);if(null!==a&&void 0!==a&&a.success){const a=s.messages[r],i=!(!a||!a.isPinned),n=a&&a.chatId,o=n&&s.items[n];n&&i&&e("setChatMessagesPinnedCount",{chatId:n,value:!1}),o&&0===o.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0}),e("deleteMessageById",r),o&&"PinnedMessages"===d.ZP.$route.name&&e("setEmptyMessagesList",!0)}return a}catch(a){(0,m.Po)(a)}return!1},async fetchMessageToPost({commit:e,dispatch:t},{limit:s,userId:r,groupId:a}={}){let i;e("posts/setError",!1,{root:!0}),e("posts/setLoading",!0,{root:!0});try{if(r){const{list:e}=await(0,l.DP)(r,{groupId:a,limit:s});if(e.length){const[t]=e;i={...t,chatId:r,messageId:t.id}}}else i=await(0,l.AT)(a);i.isDeleted=!0}catch(o){return e("posts/setLoading",!1,{root:!0}),e("posts/setError",!0,{root:!0}),[]}if(!i||"object"!==typeof i)return(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{post:i}}),[];a&&(i.id=i.queueId),e("posts/setActivePost",+i.id,{root:!0});const n=(0,c.Fv)(i,u.Rj);return await t("users/getUsersIfNeeded",n,{root:!0}),t("posts/setPost",i,{root:!0}),e("posts/setLoading",!1,{root:!0}),i}}},206060:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return m},getters:function(){return u},mutations:function(){return l},state:function(){return d}});s(333948),s(21703);var r=s(782677),a=s(243168),i=s(849344),n=s(329732),o=s(172462);const c=()=>({items:{},itemsIds:{},loading:!1}),d=c(),u={getComment:e=>t=>e.items[t],getCommentsByPostId:e=>t=>e.itemsIds[t]?e.itemsIds[t].map((t=>e.items[t])):[]},l={setLoading(e,t){e.loading=t},toggleCommentLike(e,{id:t,isLiked:s,likesCount:r,byAuthor:a}){e.items[t].isLiked=s,e.items[t].likesCount=r,a&&(e.items[t].isLikedByAuthor=s)},deleteComment(e,t){const s={...e.items};delete s[t],e.items=s},logout(e){Object.assign(e,c())}},m={async fetchPostComments({commit:e,state:t,dispatch:s},{id:n,limit:c,offset:d=0,more:u=!1}){e("setLoading",!0);let l=[];try{const m=await(0,i.w8)({id:n,limit:c,offset:d});if(m&&Array.isArray(m)){if(m.length){const i=(0,r.Fv)(m,a.Nq);await s("users/getUsersIfNeeded",i,{root:!0}),e("set",i,{root:!0}),l=i.result,e("set",{entities:{commentIds:{[n]:u?[...new Set([...t.itemsIds[n]||[],...l])].sort(((e,t)=>t-e)):l}}},{root:!0})}}else(0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:m}})}catch(m){}return e("setLoading",!1),l},async sendComment({commit:e,state:t},{id:s,...n}){const o=await(0,i.Cs)({id:s,...n});if(null!==o&&void 0!==o&&o.id){const i=(0,r.Fv)(o,a.kN);e("set",i,{root:!0});const n=i.result;e("set",{entities:{commentIds:{[s]:[n,...t.itemsIds[s]||[]]}}},{root:!0}),e("posts/incrementPostCommentsCount",s,{root:!0})}return o},async likeComment({commit:e},{id:t,like:s,byAuthor:r}){try{const a=s?await(0,n.ar)(t):await(0,n.vO)(t);if(null!==a&&void 0!==a&&a.success){const{isLiked:s,likesCount:i}=a;e("toggleCommentLike",{id:t,isLiked:s,likesCount:i,byAuthor:r})}}catch(a){}},async deleteComment({commit:e,state:t},{postId:s,commentId:r}){try{const a=await(0,n.Ru)(r);null!==a&&void 0!==a&&a.success&&(e("posts/decrementPostComment",s,{root:!0}),e("set",{entities:{commentIds:{[s]:[...t.itemsIds[s]||[]].filter((e=>e!==r))}}},{root:!0}),e("deleteComment",r))}catch(a){}}}},474878:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return h},mutations:function(){return m},state:function(){return l}});s(333948);var r=s(727484),a=s.n(r),i=s(201646),n=s.n(i),o=s(218684),c=s(532622),d=s(927598);a().extend(n());const u=()=>({allTransactions:[],latestTransactions:[],marker:void 0,timePeriod:{startDate:a()(),endDate:a()(),type:"all"},isHasTransactions:!1,isHasTransactionsLoading:!1,startDateModel:null}),l=u(),m={setAllTransactions(e,{items:t=[],more:s=!1}={}){e.allTransactions=(0,d.Z)(s?[...e.allTransactions,...t]:[...t])},setLatestTransactions(e,t=[]){e.latestTransactions=t},setMarker(e,t){e.marker=t},setTimePeriod(e,{startDate:t,endDate:s,type:r="custom"}){let i=t,n=s||a()();const{startDateModel:o}=e;o&&(i=t.isAfter(o)?t:o,n=o.isBefore(n)?n:a()()),e.timePeriod={startDate:i,endDate:n,startDateFormatted:i.format(),endDateFormatted:n.format(),type:r}},setStartDateModel(e,t){e.startDateModel=a()(t)},setIsHasTransactions(e,t){e.isHasTransactions=t},setIsHasTransactionsLoading(e,t){e.isHasTransactionsLoading=t},logout(e){Object.assign(e,u())}},h={async fetchIsHasTransactions({commit:e}){e("setIsHasTransactionsLoading",!0);try{const{hasTransactions:t}=await(0,o.j1)();e("setIsHasTransactions",t)}catch(t){}e("setIsHasTransactionsLoading",!1)},async fetchAllTransactions({commit:e,state:t},{limit:s=c.P9,more:r=!1,type:a="all",dateFrom:i=t.timePeriod.startDateFormatted,dateTo:n=t.timePeriod.endDateFormatted}={}){r||(e("setAllTransactions"),e("setMarker"));try{const{list:c,nextMarker:d,hasMore:u}=await(0,o._v)({limit:s,type:a,dateFrom:i,dateTo:n,marker:t.marker});if(Array.isArray(c))return c.length&&e("setAllTransactions",{items:c,more:r}),e("setMarker",d),u}catch(d){}},async fetchLatestTransactions({commit:e},{limit:t=5,type:s="all"}={}){try{const{list:r}=await(0,o._v)({limit:t,type:s});Array.isArray(r)&&r.length&&e("setLatestTransactions",r)}catch(r){}}}},928658:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return i},state:function(){return a}});const r=()=>({currentPlayVideo:null}),a=r(),i={setCurrentPlayVideo(e,t){e.currentPlayVideo=t},resetCurrentPlayVideo(e){e.currentPlayVideo=null},logout(e){Object.assign(e,r())}}},849156:function(e,t,s){"use strict";s.r(t),s.d(t,{getters:function(){return l},mutations:function(){return m},state:function(){return u}});var r=s(150361),a=s.n(r),i=s(227361),n=s.n(i),o=s(720144),c=s(914786);const d=()=>({chatDraft:{},postDraft:{}}),u=d(),l={draftMessageById:e=>t=>{const s=JSON.parse(c.Z.getItem("draft")||"{}"),r=n()(s,`draft.chatDraft.${t}`,null);return e.chatDraft[t]&&r?e.chatDraft[t]:null},userPostDraft:(e,t,s,r)=>n()(e.postDraft,r["auth/authUserId"],{})},m={setChatDraft(e,t){o["default"].set(e.chatDraft,String(t.chatId),t)},removeChatDraft(e,t){o["default"]["delete"](e.chatDraft,t)},setPostDraft(e,{draft:t,userId:s}){const r=a()(e.postDraft);r[s]=t,e.postDraft=r},removePostDraft(e,t){o["default"]["delete"](e.postDraft,t)},logout(e){Object.assign(e,d())}}},979155:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return i},state:function(){return a}});const r=()=>({hasError:!1}),a=r(),i={setErrorCondition(e,t){e.hasError=t},logout(e){Object.assign(e,r())}}},229551:function(e,t,s){"use strict";s.r(t),s.d(t,{getters:function(){return i},mutations:function(){return n},state:function(){return a}});s(333948);const r=()=>({hiddenHints:[]}),a=r(),i={isHintHiddenById:e=>t=>e.hiddenHints.includes(t)},n={setHiddenHint(e,t){e.hiddenHints=[...e.hiddenHints,t]},logout(e){Object.assign(e,r())}}},211988:function(e,t,s){"use strict";s.r(t);var r=s(968929),a=s.n(r);s(333948),s(115306);const i=s(501078),n={};i.keys().forEach((e=>{if("./index.js"===e)return;const t=a()(e.replace(/(\.\/|\.js)/g,""));n[t]={namespaced:!0,...i(e)}})),t["default"]=n},901371:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});s(21703);var r=s(532622);const a=()=>r.ZP.get(`${r.tW}/init`,{"axios-retry":{retries:1}}).then((e=>e.data)),i=()=>r.ZP.get(`${r.tW}/ip`).then((e=>e.data));var n=s(481274),o=s(834253),c=s.n(o),d=s(172462),u=s(315223),l=s(914786);const m=()=>({apiError:!1,canTranslate:!1,csrf:"",cardVerification:{minAmount:null,maxAmount:null},currentRev:null,currentDate:Date.now(),geoInfoCached:!1,geoInfo:{geo:{countryCode:null}},goBack:{initHistoryState:null,routeFrom:null},isAuth:null,isLoadRecaptcha:!1,isLoggedFromReferrer:!1,languages:{},neededReload:!1,settings:{},showBetaSwitcher:!1,showBeta2Switcher:!1,obsStreamingServer:null,usersLinksMaxLimit:0,reportAbuseOptions:{},mainRequestsLoaded:!1,cookiesAccepted:c().get("cookiesAccepted",{domain:".onlyfans.com"})||l.Z.getItem("cookiesAccepted"),showReturnAdmin:!1,isLoginFromAdmin:!1,isFraudRepayment:!1,fraudRepaymentData:{},isNeedIV:!1,loginIV:{},repaymentAgree:!1,geetestCaptcha:!1,hCaptchaSiteKey:"",hCaptchaPassiveSiteKey:"",isRecaptchaMain:!0,recaptchaV3Public:"",recaptchaV2Public:"",recaptchaEPublic:"",recaptchaECPublic:"",socialMediaProviders:null,socialButtonsMaxLimit:0}),h=m(),f={getInit:e=>e,goBackState:e=>e.goBack,shouldSendStat:e=>!!e.isPostsViewsEnabled},p={setInit(e,t){Object.assign(e,{showBetaSwitcher:!1,showBeta2Switcher:!1,geetestCaptcha:!1,hCaptchaSiteKey:"",hCaptchaPassiveSiteKey:"",showReturnAdmin:!1,isLoginFromAdmin:!1},t)},setInitAuth(e,t){e.isAuth=t},setNeededReload(e,t){e.neededReload=t},setCurrentRev(e,t){e.currentRev=t},setApiError(e,t){e.apiError=t},setGoBackRouteFrom(e,t){e.goBack.routeFrom=t},setGoBackInitHistoryState(e,t){e.goBack.initHistoryState=t},setGeoInfo(e,t){e.geoInfo=t},setGeoInfoCached(e,t){e.geoInfoCached=t},setCurrentDate(e,t){e.currentDate=t},setReportAbuseOptions(e,t){e.reportAbuseOptions=t},setIsLoadRecaptcha(e,t){e.isLoadRecaptcha=t},mainRequestsLoaded(e,t){e.mainRequestsLoaded=t},acceptCookies(e,t=!0){const s=t?"all":"essential";c().set("cookiesAccepted",s,{domain:".onlyfans.com",expires:"3Y"}),l.Z.setItem("cookiesAccepted",s),e.cookiesAccepted=s},setIsFraudRepayment(e,t){e.isFraudRepayment=t},setFraudRepaymentData(e,t){e.fraudRepaymentData=t},setRepaymentAgree(e,t){e.repaymentAgree=t},setIsNeedIV(e,t){e.isNeedIV=t},setlLoginRequiresIv(e,t={}){e.loginIV=t},logout(e){const{languages:t,neededReload:s,currentRev:r,csrf:a,mainRequestsLoaded:i,cookiesAccepted:n,recaptchaV3Public:o,recaptchaV2Public:c,recaptchaEPublic:d,recaptchaECPublic:u,geetestCaptcha:l,hCaptchaSiteKey:h,hCaptchaPassiveSiteKey:f}=e;Object.assign(e,m(),{isAuth:!1,languages:t,neededReload:s,currentRev:r,csrf:a,mainRequestsLoaded:i,cookiesAccepted:n,recaptchaV3Public:o,recaptchaV2Public:c,recaptchaEPublic:d,recaptchaECPublic:u,geetestCaptcha:l,hCaptchaSiteKey:h,hCaptchaPassiveSiteKey:f})}},g={async fetchInit({commit:e}){try{const t=await a();t&&"object"===typeof t?(t.isLoggedFromReferrer=!!t.isLoggedFromReferrer,e("setInit",t),t.isAuth||e("init/mainRequestsLoaded",!0,{root:!0})):((0,d.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}}),(0,u.D)())}catch(t){}},async fetchGeoInfo({state:e,commit:t},s=!1){if(!e.geoInfoCached||s)try{const e=await i();t("setGeoInfo",e),t("setGeoInfoCached",!0)}catch(r){t("setGeoInfoCached",!1)}},async fetchReportAbuseOptions({commit:e}){try{const t=await(0,n.Is)();t&&"object"===typeof t&&e("setReportAbuseOptions",t)}catch(t){}}}},732700:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return d},mutations:function(){return c},state:function(){return o}});var r=s(782677),a=s(243168),i=s(999023);const n=()=>({itemIds:[]}),o=n(),c={setItemIds(e,t=[]){e.itemIds=t},logout(e){Object.assign(e,n())}},d={async fetchLastPosts({commit:e},{id:t}){e("setItemIds",[]);try{const s=await(0,i.C8)({id:t,limit:4,type:"photos",onlyCanView:1,pinned_sort:0,counters:0});if(Array.isArray(null===s||void 0===s?void 0:s.list)&&s.list.length){const t=(0,r.Fv)(s.list,a.eI);e("set",t,{root:!0}),e("setItemIds",t.result)}}catch(s){}}}},954075:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return C},getters:function(){return I},mutations:function(){return k},state:function(){return b}});var r=s(82569),a=s.n(r),i=s(170735),n=s.n(i),o=s(441609),c=s.n(o),d=s(227361),u=s.n(d),l=(s(333948),s(141817),s(21703),s(115306),s(782677)),m=s(243168),h=s(172462),f=s(285088),p=s(849491),g=s(198225),y=s(872308),v=s(181528);const P=(e,t)=>{e.users={...e.users,[t.id]:{...e.users[t.id],...t}}},S=()=>({type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isOpened:!0,canJoin:!1,canEdit:!1,isShowTips:!1,tipsSumm:0,showCoStreamingRequest:!1,commentsCount:0,canComment:!1,likesCount:0,canLike:!1,canReport:!1,roomName:"",serverList:{}},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null,openseaInfo:{}},streamState:"beforeStart",videoPlaying:!1,tcpVideoOnPause:!1,volume:1,muted:!1,stretchVideo:!1,videoElementRenderKey:+new Date,tipGoal:{isShowTipGoal:!1,sum:0,progress:0,description:"",showTipGoalProgress:!1},showTapToPlay:!1,showUnmuteBtn:!1,videoLoaded:!1,lookApproved:void 0,endReason:"",sentryLog:{getApiUrlRequest:{},getApiUrlResponse:{},roomName:null,streamId:null,user:null,detailedSpeedResult:null}}),w=()=>({mode:"",maxStreams:2,streams:{},streamsOrder:[],primaryInstance:null,timer:"0:00",comments:{ids:[],items:{}},hasMoreComments:!1,loadedCommentsCount:0,likes:[],users:{},viewers:{ids:[],hasMore:!1,loading:!1},totalViewers:0,privateCommentUser:null,switchToDualStreaming:!1,primaryMovedToPartner:!1,streamTypes:{},streamType:"",failoverStreamTypes:[],UI:{showStreamDescription:!1,showStreamingActions:!1,showStreamingComments:!1,showJoinStreamBtn:!0,disabledJoinStreamBtn:!0,showCommentForm:!1,showEndScreen:!1,endReason:"",greetingVisible:!0,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingViewers:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,viewMode:"grid",commentInputFocused:!1,streamHasFatalError:!1,showStreamInformationModal:!1,showTipGoalModal:!1,showServerMaintenance:!1},serverMaintenanceAt:null}),b=w(),I={primary(e){return e.streams[e.primaryInstance]},partners(e){return Object.values(e.streams).filter((t=>t.user.id!=e.primaryInstance))},partner(e,t){return t.partners[0]},partner2(e,t){return t.partners[1]},partner3(e,t){return t.partners[2]},canJoinCoStream(e){return Object.keys(e.streams).length<e.maxStreams},likesCount(e){return Object.values(e.streams).reduce(((e,t)=>e+t.stream.likesCount),0)},commentsCount(e){return e.streams[e.primaryInstance].stream.commentsCount},streamDescription(e,t){return u()(t,"primary.stream.description")||""},rawStreamDescription(e,t){return u()(t,"primary.stream.rawDescription")||""},canComment(e){return!e.streamsOrder.map((t=>e.streams[t])).some((e=>!1===e.stream.canComment))},canLike(e){return!e.streamsOrder.map((t=>e.streams[t])).some((e=>!1===e.stream.canLike))},mustStartMuted(e){return(f.isMobile||f.isSafari)&&["hls","nano","llhls","tcp"].includes(e.streamType)},isOwnStream(e,t,s,r){return u()(t,"primary.user.id")==r["auth/authUserId"]}},k={setMode(e,t){e.mode=t},setPrimaryInstance(e,t){e.primaryInstance=t},setStream(e,{stream:t,instance:s}){s=s||e.primaryInstance,e.streams[s]||(g.ZP.$set(e.streams,s,S()),e.streamsOrder=[...e.streamsOrder,s]),e.streams[s]={...e.streams[s],...t}},setStreamStream(e,{stream:t,instance:s}){s=s||e.primaryInstance,e.streams[s]||(g.ZP.$set(e.streams,s,S()),e.streamsOrder=[...e.streamsOrder,s]),e.streams[s].stream={...e.streams[s].stream,...t}},setStreamUser(e,{user:t,instance:s}){s=s||e.primaryInstance,e.streams[s]||(g.ZP.$set(e.streams,s,S()),e.streamsOrder=[...e.streamsOrder,s]),e.streams[s].user={...e.streams[s].user,...t}},removeStream(e,t){e.streams[t]&&(e.streams[t]=null,delete e.streams[t],e.streams={...e.streams},e.streamsOrder=e.streamsOrder.filter((e=>e!=t)))},setStreamsOrder(e,t){e.streamsOrder=[...t]},updateStreamHelpers(e,t){e.users=Object.keys(e.users).map((s=>({...e.users[s],isStreamHelper:t.includes(+s)}))).reduce(((e,t)=>({...e,[t.id]:t})),{})},incrementCommentsCount(e,t){e.streams[e.primaryInstance].stream.commentsCount+=t},addComments(e,t){t.forEach((t=>{e.comments.items[t.comment_id]={id:t.comment_id,text:t.comment,userId:t.user.id,isPrivate:t.isPrivate},e.users[t.user.id]||P(e,t.user),e.comments.ids=[t.comment_id,...e.comments.ids]}))},addComment(e,t){P(e,t.user),e.comments.items={...e.comments.items,[t.id]:{id:t.id,text:t.text,userId:t.user.id,isPrivate:t.isPrivate}},e.comments.ids=[...e.comments.ids,t.id]},updateCommentUser(e,t){P(e,t)},removeComment(e,t){t&&(e.comments.ids=e.comments.ids.filter((e=>e!=t)),delete e.comments.items[t])},setHasMoreComments(e,t){e.hasMoreComments=t},setLoadedCommentsCount(e,t){e.loadedCommentsCount=t},addLike(e,t){e.streams[t.streamUserId]&&(t.id=e.likes.length,e.likes=[...e.likes,t],e.streams[t.streamUserId].stream.likesCount+=1)},removeLike(e,t){e.likes=e.likes.filter((e=>e.id!=t.id))},setTimer(e,t){e.timer=t},addViewer(e,t){P(e,t),e.viewers.ids=[...e.viewers.ids,t.id]},addViewers(e,t){const s=[];e.users={...e.users,...t.reduce(((e,t)=>(s.push(t.id),{...e,[t.id]:t})),{})},e.viewers.ids=[...e.viewers.ids,...s]},removeViewer(e,t){e.viewers.ids=e.viewers.ids.filter((e=>e!=t.id))},setViewers(e,t){e.viewers={...e.viewers,...t}},clearViewers(e){e.viewers.ids=[],e.viewers.hasMore=!1},setTotalViewers(e,t){e.totalViewers=t||0},setStreamState(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].streamState=t)},setStreamDescription(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s].stream.description=t},setStreamVideoPlaying(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].videoPlaying=t)},setStreamTCPVideoPause(e,{value:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].tcpVideoOnPause=t)},setStreamVolume(e,{volume:t,instance:s}){s=s||e.primaryInstance,e.streams[s].volume=t},setStreamMuted(e,{muted:t,instance:s}){s=s||e.primaryInstance,e.streams[s]&&(e.streams[s].muted=t)},setStreamStretchVideo(e,{stretchVideo:t,instance:s}){s=s||e.primaryInstance,e.streams[s].stretchVideo=t},setTipGoal(e,{data:t,instance:s}){s=s||e.primaryInstance,e.streams[s].tipGoal={...e.streams[s].tipGoal,...t}},setStreamShowTapToPlay(e,{show:t,instance:s}){s=s||e.primaryInstance,e.streams[s].showTapToPlay=t},setShowUnmuteBtn(e,{show:t,instance:s}){s=s||e.primaryInstance,e.streams[s].showUnmuteBtn=t},setPrivateCommentUser(e,t){e.privateCommentUser=t?{...t}:null},setStreamType(e,t){e.streamType=t},setStreamTypes(e,t){e.streamTypes=t.reduce(((e,t)=>{const s=t.toLowerCase();let r;switch(s){case"nano":r="Low latency";break;case"mux":r="HLS";break;case"muxllhls":r="LLHLS";break;case"agora":r="CloudBeta";break;default:r=t.toUpperCase();break}return{...e,[s]:r}}),{})},setFailoverStreamTypes(e,t){e.failoverStreamTypes=t},setUI(e,t){e.UI={...e.UI,...t}},setStreamUI(e,{UI:t,instance:s}){s=s||e.primaryInstance,e.streams[s].UI={...e.streams[s].UI,...t}},setSwitchToDualStreaming(e,t){e.switchToDualStreaming=t},setPrimaryMovedToPartner(e,t){e.primaryMovedToPartner=t},setDefaultState(e){Object.assign(e,w())},logout(e){Object.assign(e,w())},setStreamSentryLog(e,{key:t,value:s,instance:r}){t&&e.streams[r]&&(e.streams[r].sentryLog[t]=s)},setServerMaintenanceAt(e,t){e.serverMaintenanceAt=t}},C={async createViewModules({state:e,dispatch:t}){await Promise.all(Object.keys(e.streams).map((e=>t("createViewModule",e))))},async createViewModule({state:e},t){t=t||e.primaryInstance,await(0,y.k2)(t,e.streamType)},destroy({state:e,commit:t}){e.switchToDualStreaming||(Object.keys(e.streams).forEach((e=>{(0,y.D5)({instance:e}),t("removeStream",e)})),delete window.viewModule),t("setDefaultState")},stopAll({getters:e}){e.partners.forEach((e=>{(0,y.Pe)(e.user.id)})),b.switchToDualStreaming||(0,y.Pe)(b.primaryInstance)},async getUserStreamDataAndInit({getters:e,dispatch:t,commit:s},r){const a=await(0,p.UD)(r,!0);if(!a||0===+a.id)throw Error("Stream not found");t("setStreamData",a),e.primary.stream.commentsCount&&s("setHasMoreComments",!0)},setUserStreamData({state:e,commit:t},s){const r=s.user.id;let i=u()(s,"viewerAvailableStreamTypes",[]);!i.length&&c()(e.streamTypes)&&((0,h.Ri)({error:"invalid available viewer streamTypes",tags:{streamingMode:"live"},extra:s}),i=[s.streamType||"webrtc"]),c()(e.streamTypes)&&(t("setStreamTypes",i),i.includes("llhls")&&(i=[...a()(i,"llhls"),"llhls"]),t("setFailoverStreamTypes",i)),e.streamType||t("setStreamType",i[0]);const n={id:s.id,thumbUrl:s.thumbUrl,description:s.description,rawDescription:s.rawDescription,startedAt:s.startedAt,isOpened:s.isOpened,canJoin:s.canJoin,canEdit:s.canEdit,isShowTips:s.isShowTips,showCoStreamingRequest:s.showCoStreamingRequest,commentsCount:+s.commentsCount,canComment:s.canComment,likesCount:+s.likesCount,canLike:s.canLike,canReport:s.canReport,roomName:s.room};"undefined"!==typeof s.tipsSumm&&(n.tipsSumm=+parseFloat(s.tipsSumm).toFixed(2)),"undefined"!==typeof s.serverList&&(n.serverList=s.serverList),t("setStreamStream",{stream:n,instance:r});const o=(0,l.Fv)({...s.user},m.IK);t("set",o,{root:!0}),t("setStreamUser",{user:{id:s.user.id,name:(0,v.HZ)(s.user.name),username:s.user.username,displayName:s.user.displayName,isVerified:s.user.isVerified,tipsEnabled:s.user.tipsEnabled,subscribedBy:s.user.subscribedBy,canEarn:s.user.canEarn,isPerformer:s.user.isPerformer,avatar:s.user.avatar,avatarThumbs:s.user.avatarThumbs,openseaInfo:s.user.openseaInfo},instance:r});const d={isShowTipGoal:!!s.isShowTipsGoal,sum:+s.tipsGoalSum,progress:+s.tipsGoalProgress,description:s.tipsGoal};d.isShowTipGoal?e.streams[r].tipGoal.isShowTipGoal&&d.sum===e.streams[r].tipGoal.sum&&d.description===e.streams[r].tipGoal.description||(d.showTipGoalProgress=!0):d.showTipGoalProgress=!1,t("setTipGoal",{data:d,instance:r})},setStreamData({state:e,getters:t,commit:s,dispatch:r},a={}){let i="";t.primary&&(i=t.primary.stream.rawDescription),r("setUserStreamData",a);const o=n()(e.streamsOrder,[a.user.id,...a.partners.map((e=>e.user.id))],Number);o.forEach((e=>{(0,y.D5)({instance:e}),s("removeStream",e)})),a.partners&&a.partners.length?(a.partners.forEach((e=>{r("setUserStreamData",e)})),a.primaryPartnerUserId?(a.primaryPartnerUserId=+a.primaryPartnerUserId,e.primaryInstance&&e.primaryInstance!=a.primaryPartnerUserId&&s("setPrimaryMovedToPartner",!0),s("setPrimaryInstance",a.primaryPartnerUserId)):s("setPrimaryInstance",a.user.id),s("setMode","dual-live")):(s("setPrimaryInstance",a.user.id),s("setMode","live")),t.primary.stream.rawDescription?i!==t.primary.stream.rawDescription&&s("setUI",{showStreamDescription:!0}):s("setUI",{showStreamDescription:!1})},async loadMoreComments({state:e,getters:t,commit:s}){const r=await(0,p.W7)(t.primary.stream.id,{id:e.comments.ids.length?e.comments.ids[0]:void 0,limit:20}),a=r.list;s("addComments",a),s("setLoadedCommentsCount",e.loadedCommentsCount+a.length),s("setHasMoreComments",r.hasMore)},addComment({commit:e},t){e("addComment",t),e("incrementCommentsCount",1)},addTipsComment({state:e,commit:t,rootGetters:s},r){const a=Object.values(e.streams).find((e=>e.user.id==r.stream_user_id));if(a){const e=(0,y.b$)({vm:g.ZP,authUser:s["auth/authUser"],fromUser:r.from_user,toUser:a.user,amount:r.amount_human,message:r.message});e&&t("addComment",{id:r.id,text:e,user:r.from_user})}},async addLike({commit:e},t){e("addLike",t)},switchToDualStreaming({state:e,getters:t,commit:s,dispatch:r}){s("setSwitchToDualStreaming",!0),r("streaming/doSwitchFromLive",{livePrimary:t.primary,partners:t.partners,comments:e.comments,users:e.users,UI:{showCommentForm:e.UI.showCommentForm,commentsViewMode:e.UI.commentsViewMode,showStreamDescription:e.UI.showStreamDescription},streamType:e.streamType},{root:!0}),g.ZP.$router.replace({name:"Streaming",params:{switchFromLive:!0}})},toggleCommentsViewMode({state:e,commit:t}){const s="full"===e.UI.commentsViewMode?"compact":"full";t("setUI",{commentsViewMode:s})},setTipGoal({commit:e},{data:t,instance:s}){e("setTipGoal",{data:t,instance:s})},updateLiveUser({state:e,commit:t},s){const r=Object.keys(e.streams).find((e=>e==s.id));r&&t("setStreamUser",{user:{tipsEnabled:s.tipsEnabled,subscribedBy:s.subscribedBy},instance:r})},joinUser({commit:e},t){e("addViewer",t)},leaveUser({commit:e},t){e("removeViewer",t)},showStreamingViewersModal({commit:e}){e("setUI",{showStreamingViewers:!0})},setAllShowTipGoalProgress({state:e,commit:t},s){e.streamsOrder.forEach((e=>{t("setTipGoal",{data:{showTipGoalProgress:s},instance:e})}))},async updateStreamInformation({state:e,getters:t,commit:s},r){const a=await(0,p.jI)({streamId:t.primary.stream.id,data:r});s("setStreamStream",{stream:{description:a.description,rawDescription:a.rawDescription,isShowTips:a.isShowTips},instance:e.primaryInstance})},async fetchStreamViewers({state:e,getters:t,commit:s},{more:r=!1}){try{r||s("clearViewers");const a=e.viewers.ids.length;s("setViewers",{loading:!0});const i=await(0,p.ip)({streamId:t.primary.stream.id,offset:a});u()(i,"list.length",0)&&(s("addViewers",i.list),s("setViewers",{hasMore:i.hasMore}))}catch(a){}finally{s("setViewers",{loading:!1})}}}},478831:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return f},getters:function(){return m},mutations:function(){return h},state:function(){return l}});var r=s(682492),a=s.n(r),i=(s(333948),s(21703),s(243168)),n=s(782677),o=s(410697),c=s(532622),d=s(172462);const u=()=>({ids:[],items:{}}),l=u(),m={messages:e=>e.ids.map((t=>e.items[t])).filter((e=>!!e))},h={setMessages(e,{messages:t=[],more:s=!1}={}){e.ids=s?[...new Set([...e.ids,...t])]:[...t]},setMessage(e,t={}){if(t&&t.id){const s=(0,n.Fv)(t,i.V4);e.items=a()({},e.items,s.entities.massMessagesStat)}},logout(e){Object.assign(e,u())}},f={async fetchMessagesStat({commit:e},t={}){const{cancelToken:s,Cancel:r}=(0,c.Yz)("fetchMessagesStat");try{const r=await(0,o.Jn)(t,s);if("object"===typeof r){if(Array.isArray(r.list)){const s=(0,n.Fv)(r.list,i.P$);e("set",s,{root:!0}),e("setMessages",{messages:s.result,more:!!t.offset})}return r.hasMore}return void(0,d.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(a){if(!(a instanceof r))return}return!1}}},796053:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});var r=s(227361),a=s.n(r),i=(s(333948),s(21703),s(698424)),n=s(782677),o=s(243168),c=s(172462),d=s(532622),u=s(378945);function l({filled:e}){return e?"setVaultListsFilledIds":"setVaultListsIds"}const m=()=>({vault:{},items:[],isLoadingMedia:!1,fieldVault:"default",sortVault:"asc",vaultFilter:"recent",vaultOrder:"desc",isLoadingMediaListsFilled:!1,hasMoreListMain:!0,hasMoreListMainFilled:!1,modalCustomVaultListId:"",customOrderEnabledVault:!1,vaultListLimit:10,offset:0,vaultListsIds:[],vaultListsFilledIds:[],vaultLists:{},selectIdList:[],mediaCounts:{hasPhoto:!1,hasGif:!1,hasVideo:!1},mediaPosts:[]}),h=m(),f={posts:e=>e.items.reduce(((t,s)=>{const r=e.vault[s];return r&&!r.hidden&&t.push(r),t}),[]),hasPosts:e=>!!e.items.length,getMediaId:e=>t=>e.vault[t],getVaultListsByIds:e=>(0,u.w)(e.vaultListsIds,e.vaultLists),getVaultListById:e=>t=>e.vaultLists[t]||{},getVaultListsFilledByIds:e=>(0,u.w)(e.vaultListsFilledIds,e.vaultLists),currentVaultList:e=>{const[t]=e.selectIdList;return t&&e.vaultLists[t]||{}}},p={setLoadingMedia(e,t){e.isLoadingMedia=t},setMediaPosts(e,t=[]){e.mediaPosts=t},addItems(e,t){const s=[],r=t.reduce(((e,t)=>(s.push(t.id),e[t.id]=t,e)),{});e.vault={...e.vault,...r},e.items=[...e.items,...s]},hideMediaVaultByIds(e,t=[]){const s={};t.forEach((t=>{const r=e.vault[t];r&&(r.hidden=!0,s[t]=r)})),e.vault={...e.vault,...s}},setSortVault(e,t){e.sortVault=t},setFieldVault(e,t){e.fieldVault=t},setLoadingMediaListsFilled(e,t){e.isLoadingMediaListsFilled=t},setNewList(e,t){const s=t.id;s&&(e.vaultListsIds=[s,...e.vaultListsIds],e.vaultLists={...e.vaultLists,[s]:t})},deleteVaultList(e,t){e.vaultListsIds=e.vaultListsIds.filter((e=>e!==t)),e.vaultListsFilledIds=e.vaultListsFilledIds.filter((e=>e!==t)),delete e.vaultLists[t]},setModalCustomVaultListId(e,t){e.modalCustomVaultListId=t},setUpdateVaultListName(e,{id:t,name:s}){e.vaultLists[t]&&(e.vaultLists[t].name=s)},updateVaultMediaListStates(e,t){const{mediaIds:s=[],listId:r,hasMedia:a}=t,i=s.reduce(((t,s)=>{const i=e.vault[s];if(i){const e=i.listStates.findIndex((e=>+e.id===r));-1===e?i.listStates.push({hasMedia:a,id:r}):i.listStates[e].hasMedia=a,t[s]=i}return t}),{});e.vault={...e.vault,...i}},setCustomOrderEnabledVault(e,t){e.customOrderEnabledVault=t},setHasMoreListMain(e,t){e.hasMoreListMain=t},setHasMoreListMainFilled(e,t){e.hasMoreListMainFilled=t},setVaultFilter(e,t){e.vaultFilter=t},setVaultOrder(e,t){e.vaultOrder=t},toggleMediaVisibility(e,{mediaIds:t,hidden:s}){const r=t.reduce(((t,r)=>{const a=e.vault[r];return a&&(a.hidden=s,t[r]=a),t}),{});e.vault={...e.vault,...r}},updateVaultListMain(e,{list:t}={}){t&&t.id&&(e.vaultLists[t.id]=t)},setVaultListsIds(e,{ids:t=[],more:s=!1}={}){e.vaultListsIds=s?[...new Set([...e.vaultListsIds,...t])]:t},setVaultListsFilledIds(e,{ids:t=[],more:s=!1}={}){e.vaultListsFilledIds=s?[...new Set([...e.vaultListsFilledIds,...t])]:t},setMediaCounts(e,t){e.mediaCounts=t},setSelectIdList(e,t){e.selectIdList=t},resetItems(e){e.items=[]},resetPosts(){h.vault={},h.items=[]},setOffset(e,t=0){e.offset=t},logout(e){Object.assign(e,m())}},g={async fetchMediaVaultByType({commit:e,state:t},{limit:s=24,more:r=!1,...n}={}){e("setLoadingMedia",!0),r||(e("resetItems"),e("setOffset"));const{cancelToken:o,Cancel:c}=(0,d.Yz)("fetchMediaVaultByType");let u;try{u=await(0,i.l5)({limit:s,offset:t.offset,...n,cancelToken:o})}catch(m){return m instanceof c||e("setLoadingMedia",!1),{list:[],hasMore:!1}}const l=a()(u,"hasMore",!1);return u&&"object"===typeof u&&u.list.length?(l&&e("setOffset",t.offset+s),e("addItems",u.list),e("setLoadingMedia",!1),u):(e("setLoadingMedia",!1),{list:[],hasMore:l})},async fetchMediaPosts({commit:e,state:t},{offset:s,...r}={}){try{const{cancelToken:a}=(0,d.Yz)("fetchMediaPosts"),n=await(0,i.bU)({offset:s,...r,format:"infinite",sort:"desc",cancelToken:a});if("object"!==typeof n)throw new Error(`Incorrect data type. Expected 'object', received '${typeof n}' from server.`);return e("setMediaPosts",s?[...t.mediaPosts,...n.list]:n.list),n}catch(a){return e("setMediaPosts"),[]}},async hideMediaVaultByIds({commit:e},t){try{await(0,i.a9)({ids:t})}catch(s){}e("hideMediaVaultByIds",t)},async fetchVaultLists({commit:e},t){const s={...t,limit:h.vaultListLimit},{offset:r,filled:a}=s;a&&e("setLoadingMediaListsFilled",!0);try{const t=l({filled:a});r||e(t);const c=await(0,i.iX)(s);if(c){const{list:s=[],hasMore:i=!1}=c,d=(0,n.Fv)(s,o.Zi);e("set",d,{root:!0}),e(t,{ids:d.result,more:!!r});const u=a?"setHasMoreListMainFilled":"setHasMoreListMain";return e(u,i),a&&e("setLoadingMediaListsFilled",!1),i}}catch(c){return void(a&&e("setLoadingMediaListsFilled",!0))}return a&&e("setLoadingMediaListsFilled",!0),!1},async fetchVaultList({commit:e},t){try{const s=await(0,i.D2)(t);if(null!==s&&void 0!==s&&s.id){const t=(0,n.Fv)(s,o.zr);e("set",t,{root:!0})}}catch(s){}},async addVaultList({commit:e},t){try{const s=await(0,i.Y_)(t);s&&e("setNewList",s)}catch(s){(0,c.Po)(s)}},async deleteVaultList({commit:e},{id:t,withMedia:s}){try{const r=await(0,i.Zw)(t,s);if(null!==r&&void 0!==r&&r.success)return e("deleteVaultList",t),!0}catch(r){(0,c.Po)(r)}return!1},async updateVaultList({commit:e},{id:t,name:s}){try{const r=await(0,i.PZ)({id:t,name:s});null!==r&&void 0!==r&&r.id&&e("setUpdateVaultListName",r)}catch(r){(0,c.Po)(r)}},async toggleSomeMediaInList({commit:e},t){const{mediaIds:s,listId:r,remove:a}=t;try{const n=a?await(0,i.cN)(s,r):await(0,i.Ku)(s,r);if(null!==n&&void 0!==n&&n.id)return e("updateVaultMediaListStates",{mediaIds:s,listId:r,hasMedia:!a}),e("updateVaultListMain",{list:n}),!0;(0,c.oj)({error:new Error("Error: Add media to main list"),extra:{result:n,data:t}})}catch(n){(0,c.Po)(n)}return!1},async saveVaultListsOrder({commit:e,rootGetters:t},s){try{const r=await(0,i.iY)(s);if(null!==r&&void 0!==r&&r.success){const{sort:r,order:a}=s,i=t["auth/authUserId"];r&&(e("setFieldVault",r),e("users/setUserField",{userId:i,field:"vaultListsSort",status:r},{root:!0})),a&&(e("setSortVault",a),e("users/setUserField",{userId:i,field:"vaultListsSortOrder",status:a},{root:!0}))}}catch(r){(0,c.Po)(r)}},async fetchVaultMediaTypes({commit:e}){try{const t=await(0,i.L0)();t&&"object"===typeof t&&e("setMediaCounts",t)}catch(t){}},async fetchVaultMediaItem({commit:e},t){try{const s=await(0,i.cT)(t);if(null!==s&&void 0!==s&&s.id)return e("addItems",[s]),!0}catch(s){}return!1}}},193263:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return n},state:function(){return i}});var r=s(720144);const a=()=>({dropdowns:{}}),i=a(),n={addDropdown(e,t){t&&r["default"].set(e.dropdowns,t.uid,t)},hideAllDropdowns(e){Object.values(e.dropdowns).forEach((e=>{null===e||void 0===e||e.hide()}))},removeDropdown(e,t){t&&r["default"]["delete"](e.dropdowns,t.uid)},logout(e){Object.assign(e,a())}}},172441:function(e,t,s){"use strict";s.r(t),s.d(t,{getters:function(){return i},mutations:function(){return o},state:function(){return a}});const r=()=>({sidebar:{isShow:!1},otpModal:{isShow:!1,title:"",strong:!1,app:!1,phone:!1,phoneLast4:"",face:!1},otpCardModal:{isShow:!1,cardAuthState:{user:{},last4:""}},reportId:null,reportType:"",alert:{title:"",text:"",html:!1,onclose:null,buttons:[],hideCloseBtn:!1,headerIcon:null},preloader:{isShow:!1},trustModal:{email:!1,phoneOtp:!1,appOtp:!1,faceOtp:!1},purchaseModal:{payCallback:null,amount:null,modalTitle:null,paymentType:null,toUser:null,isRetry:!1,preMessage:""},addCardModal:{addCardCallback:null},tipsModal:{tipInitAmount:"",tipInitText:"",tipSource:"",tipStreamId:null,tipIsPrivate:!1,tipCallback:null}}),a=r(),i={isSidebarShow:e=>e.sidebar.isShow,isOtpModalShow:e=>e.otpModal.isShow,isPreloaderShow:e=>e.preloader.isShow},n=e=>{e?(document.documentElement.classList.add("m-sidebar-visible"),window.disableBodyScroll(!0)):(document.documentElement.classList.remove("m-sidebar-visible"),window.enableBodyScroll(!0))},o={sidebarShow(e,t){e.sidebar.isShow=t,n(t)},sidebarToggle(e){e.sidebar.isShow=!e.sidebar.isShow;const t=e.sidebar.isShow;n(t)},otpModalShow(e,t){e.otpModal.isShow=t,t?document.body.classList.add("m-prevent-scrolling","modal-open"):document.body.classList.remove("m-prevent-scrolling","modal-open")},setOtpModal(e,t={}){e.otpModal={...e.otpModal,...t}},setReportData(e,{type:t,id:s}){e.reportType=t,e.reportId=s},setAlert(e,{title:t,text:s,html:r=!1,onclose:a=null,buttons:i=[],hideCloseBtn:n=!1,headerIcon:o=null}){e.alert={title:t,text:s,html:r,onclose:a,buttons:i,hideCloseBtn:n,headerIcon:o}},preloaderShow(e,t){e.preloader.isShow=t},setTrustModal(e,t={}){t&&"object"===typeof t||(t={}),e.trustModal={...r().trustModal,...t}},setTipsModal(e,t={}){e.tipsModal={...r().tipsModal,...t}},resetTipsModal(e){e.tipsModal=r().tipsModal},setOtpCardModal(e,t={}){e.otpCardModal={...r().otpCardModal,...t}},setPurchaseModal(e,t={}){e.purchaseModal={...r().purchaseModal,...t}},resetPurchaseModal(e){e.purchaseModal=r().purchaseModal},setAddCardModal(e,t={}){e.addCardModal={...r().addCardModal,...t}},logout(e){Object.assign(e,r())}}},544956:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return h},getters:function(){return l},mutations:function(){return m},state:function(){return u}});s(333948),s(21703);var r=s(782677),a=s(198225),i=s(201505),n=s(243168),o=s(172462),c=s(532622);const d=()=>({items:{},offers:[],modalOffer:null,offset:0}),u=d(),l={getOffer:e=>t=>e.items[t]},m={setPromotionOffers(e,{itemIds:t=[],more:s=!1}={}){e.offers=s?[...new Set([...e.offers,...t])]:[...t]},clearUnclaimedOffers(e){e.offers=e.offers.filter((t=>e.items[t].finishedAt))},clearClaimedOffers(e){e.offers=e.offers.filter((t=>!e.items[t].finishedAt))},unsetOffer(e,t){e.offers=e.offers.filter((e=>e!==t))},setModalOffer(e,t){e.modalOffer=t},unshiftOffers(e,t=[]){e.offers=[...new Set([...t,...e.offers])]},setOffset(e,t=0){e.offset=t},logout(e){Object.assign(e,d())}},h={async fetchPromotionOffers({commit:e,dispatch:t,state:s},{more:a=!1,...d}={}){const{cancelToken:u,Cancel:l}=(0,c.Yz)("fetchPromotionOffers");try{a||(e("setOffset"),e("setPromotionOffers"));const l=await(0,i.pc)({limit:c.P9,offset:s.offset,cancelToken:u,...d});if(l&&"object"===typeof l){const{users:i,offers:o}=l;if(i&&Object.keys(i).length){const s=(0,r.Fv)(i,n.Xd);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0})}if(o){if(o.length){const t=(0,r.Fv)(o,n.lR),i=t.result;e("set",t,{root:!0}),e("setPromotionOffers",{itemIds:i,more:a}),e("setOffset",s.offset+c.P9)}return{hasMore:!!o.length}}}(0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:l}})}catch(m){if(m instanceof l)return{isCanceled:!0}}return{isError:!0}},async deleteUnclaimedOffers({commit:e,rootGetters:t}){try{const s=await(0,i.aC)();if(null!==s&&void 0!==s&&s.success){e("clearUnclaimedOffers");const s=t["auth/authUserId"];e("users/setUserField",{userId:s,field:"unclaimedOffersCount",status:0},{root:!0})}}catch(s){(0,o.Po)(s)}},async deleteUnclaimedOffer({commit:e,rootGetters:t},{offerId:s,userId:r}){try{const n=await(0,i.DE)(s);if(null!==n&&void 0!==n&&n.success){e("unsetOffer",s);const i=t["users/getUser"](r);e("users/unsetUserOffer",{offerId:s,userId:r},{root:!0}),a.ZP.$root.$emit("show::toast",{text:a.ZP.$t("message.offer_cancelled",{NAME:i.displayName||i.name})})}}catch(n){(0,o.Po)(n)}},async deleteClaimedOffers({commit:e,rootGetters:t}){try{const s=await(0,i.uH)();if(null!==s&&void 0!==s&&s.success){e("clearClaimedOffers");const s=t["auth/authUserId"];e("users/setUserField",{userId:s,field:"claimedOffersCount",status:0},{root:!0})}}catch(s){(0,o.Po)(s)}},unshiftOffers({commit:e},t=[]){const s=(0,r.Fv)(t,n.lR);e("set",s,{root:!0}),e("unshiftOffers",s.result)}}},702817:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var r=s(513218),a=s.n(r),i=s(252628),n=s.n(i),o=(s(21703),s(782677)),c=s(243168),d=s(218684),u=s(172462);const l=()=>({cards:{},cardsWithVat:{},cardIds:[],cardNeedVerify:{},alternativeMethods:[],cardsWithVatCache:{}}),m=l(),h={cards:e=>e.cardIds.map((t=>e.cards[t])),getCard:e=>t=>e.cards[t],cardsWithVat:e=>n()(e.cardsWithVat),cardWithVatById:e=>t=>e.cardsWithVat[t],getCardsWithVatCacheByPrice:e=>t=>e.cardsWithVatCache[t]},f={setCardIds(e,t){e.cardIds=t},setCardsWithVat(e,t){e.cardsWithVat=t},setCardDefault(e,t){Object.keys(e.cards).forEach((t=>{e.cards[t].isDefault=!1})),e.cards[t]&&(e.cards[t].isDefault=!0)},removeCard(e,t){e.cardIds=e.cardIds.filter((e=>e!==t));const s={...e.cards};delete s[t],e.cards=s},setCardNeedVerify(e,t){e.cardNeedVerify=t},setAlternativeMethods(e,t){e.alternativeMethods=t},removeAlternativeMethods(e,t){e.alternativeMethods=e.alternativeMethods.filter((e=>+e.id!==+t))},updateCard(e,{id:t,card:s={}}){t&&e.cards[t]&&(e.cards[t]={...e.cards[t],...s}),t&&e.cardsWithVat[t]&&(e.cardsWithVat[t]={...e.cardsWithVat[t],...s})},setCardsWithVatCache(e,t){e.cardsWithVatCache=t},updateCardsWithVatCache(e,t){e.cardsWithVatCache={...e.cardsWithVatCache,...t}},logout(e){Object.assign(e,l())}},p={async fetchCards({commit:e}){try{const t=await(0,d.vm)();if(Array.isArray(t)){const s=(0,o.Fv)(t,c.xp);e("set",s,{root:!0});const r=s.result;e("setCardIds",r)}else(0,u.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch(t){}},async fetchCardsVat({commit:e},t){try{const s=await(0,d.xR)(t);return s&&a()(s)?(e("setCardsWithVat",s),s):((0,u.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}}),{})}catch(s){}},async fetchCardsVatWithCache({commit:e,getters:t,dispatch:s},r){try{const{price:a}=r;if(t.getCardsWithVatCacheByPrice(a))return void e("setCardsWithVat",t.getCardsWithVatCacheByPrice(a));const i=await s("fetchCardsVat",r);e("updateCardsWithVatCache",{[a]:i})}catch(a){}},resetCardsVat({commit:e}){e("setCardsWithVat",l().cardsWithVat)},resetCardsWithVatCache({commit:e}){e("setCardsWithVatCache",l().cardsWithVatCache)},async setDefaultCard({commit:e,dispatch:t},{id:s,update:r=!1}={}){try{const a=await(0,d.t$)(s);null!==a&&void 0!==a&&a.success&&(e("setCardDefault",s),r&&t("fetchCards"))}catch(a){(0,u.Po)(a)}},async deleteCard({commit:e,dispatch:t,rootGetters:s},{id:r,isDefault:a=!1}={}){try{const i=await(0,d.f1)(r);if(null!==i&&void 0!==i&&i.success){if(e("removeCard",r),a&&t("fetchCards"),void 0!==i.isPaymentCardConnected){const t=s["auth/authUser"];e("users/setUserField",{userId:t.id,field:"isPaymentCardConnected",status:i.isPaymentCardConnected},{root:!0})}if(void 0!==i.canAddCard){const t=s["auth/authUser"];e("users/setUserField",{userId:t.id,field:"canAddCard",status:i.canAddCard},{root:!0})}}}catch(i){(0,u.Po)(i)}},async fetchPaymentsAlternativeMethods({commit:e}){try{const t=await(0,d.uX)();e("setAlternativeMethods",t)}catch(t){(0,u.Po)(t)}},async editCard({commit:e,state:t},{id:s,payload:r}){const a=await(0,d.B8)(s,r);if(null!==a&&void 0!==a&&a.success){const a={...t.cards[s],addressCountry:r.userinfo.country};e("updateCard",{id:s,card:a})}}}},260950:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return l},getters:function(){return d},mutations:function(){return u},state:function(){return c}});s(333948);var r=s(782677),a=s(243168),i=s(547732),n=s(172462);const o=()=>({items:{},helperAccess:[],heplersIds:[],permissions:{}}),c=o(),d={getHelper:e=>t=>e.items[t],helperAccess:e=>t=>e.helperAccess[t]},u={setHelpers(e,{itemIds:t=[],more:s=!1}={}){e.heplersIds=s?[...new Set([...e.heplersIds,...t])]:t},setPermissions(e,t){e.permissions=t},removeHelper(e,t){e.heplersIds=e.heplersIds.filter((e=>e!==t)),delete e.items[t]},logout(e){Object.assign(e,o())}},l={async getPerformerHelpers({commit:e},{more:t=!1}={}){try{t||e("setHelpers");const s=await(0,i.f9)();if(null!==s&&void 0!==s&&s.length){const i=(0,r.Fv)(s,a.iq);e("set",i,{root:!0}),e("setHelpers",{itemIds:i.result,more:t})}}catch(s){}},async getPerformerHelper({commit:e},t){try{const s=await(0,i.KZ)(t);if(null!==s&&void 0!==s&&s.isValid){const t=(0,r.Fv)(s,a.WH);e("set",t,{root:!0})}}catch(s){}},async getPerformerHelpersPermissions({commit:e}){try{const t=await(0,i.wq)();t&&e("setPermissions",t)}catch(t){}},async setPerformerHelper({commit:e},{userId:t,permissions:s=[]}){try{const n=await(0,i.HH)(t,s);if(null!==n&&void 0!==n&&n.isValid){const t=(0,r.Fv)(n,a.WH);e("set",t,{root:!0})}else e("removeHelper",t)}catch(o){(0,n.Po)(o)}}}},802333:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return i},state:function(){return a}});s(333948);const r=()=>({show:!0,items:[],options:{},isOpen:!1}),a=r(),i={setOpen(e,t){t||(e.items=[],e.options={}),e.isOpen=t},setItems(e,t){e.items=[...t]},setOptions(e,t){const s={};t.mainClass||(s.mainClass=void 0),e.options={...t,...s}},logout(e){Object.assign(e,r())}}},784819:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var r=s(227361),a=s.n(r),i=(s(333948),s(782677)),n=s(243168),o=s(605889),c=s(172462),d=s(532622),u=s(198225);const l=()=>({items:{},postLabelsIds:[],userLabelsIds:[],modalPostLabelId:null,customOrderEnabled:!1,isAddPostsMode:!1,loading:!1}),m=l(),h={getPostLabel:e=>t=>e.items[t]},f={setIds(e,t=[]){e.postLabelsIds=t},addIds(e,t=[]){e.postLabelsIds=[...new Set([...e.postLabelsIds,...t])]},setUserLabelsIds(e,t=[]){e.userLabelsIds=t},addUserLabelsIds(e,t=[]){e.userLabelsIds=[...new Set([...e.userLabelsIds,...t])]},setModalPostLabelId(e,t=null){e.modalPostLabelId=t},setCustomOrderEnabled(e,t){e.customOrderEnabled=t},setIsAddPostsMode(e,t=!1){e.isAddPostsMode=t},setPostLabel(e,{labelId:t,label:s={}}){e.items[t]={...e.items[t]||{},...s}},decrementPostLabelsCounters(e,t=[]){t.forEach((t=>{e.items[t.id]&&e.items[t.id].postsCount&&(e.items[t.id].postsCount-=1)}))},incrementPostLabelsCounters(e,t=[]){t.forEach((t=>{e.items[t.id]&&(e.items[t.id].postsCount+=1)}))},setCustomPostsCount(e,{labelId:t,value:s}){e.items[t]&&"archived"!==e.items[t].type&&(e.items[t].postsCount=s)},setPostLabelArchivedCounters(e,{archivedPostsCount:t=0,privateArchivedPostsCount:s=0}){const r=Object.values(e.items),a=r.find((e=>"archived"===e.type));a&&(a.postsCount=t);const i=r.find((e=>"private_archived"===e.type));i&&(i.postsCount=s)},setLoading(e,t){e.loading=t},logout(e){Object.assign(e,l())}},p={async fetchPostLabels({commit:e},{limit:t=d.P9,offset:s=0,needMore:r=!1,ids:a=!1}){try{s||r||e("setIds"),e("setLoading",!0);const c=await(0,o.Ni)({limit:t,offset:s,ids:a});if(e("setLoading",!1),Array.isArray(c.list)&&c.list.length){const t=(0,i.Fv)(c.list,n.Xt);e("set",t,{root:!0}),e("addIds",t.result)}return c&&c.hasMore}catch(c){return void e("setLoading",!1)}},async fetchUserPostLabels({commit:e},{limit:t=d.P9,offset:s=0,userId:r}){try{s||e("setUserLabelsIds"),e("setLoading",!0);const a=await(0,o.Pj)({limit:t,offset:s,userId:r});if(e("setLoading",!1),Array.isArray(a.list)&&a.list.length){const t=(0,i.Fv)(a.list,n.Xt);e("set",t,{root:!0}),e("addUserLabelsIds",t.result)}return a&&a.hasMore}catch(a){return}},async addPostLabel({commit:e},t){try{const s=await(0,o.iZ)(t);if(null!==s&&void 0!==s&&s.id){const t=(0,i.Fv)(s,n.ub);return e("set",t,{root:!0}),e("addIds",[+t.result]),s}}catch(s){(0,c.Po)(s)}return null},async updatePostLabel({commit:e,rootState:t},{id:s,name:r}){try{const c=await(0,o.GX)({id:s,name:r});if(null!==c&&void 0!==c&&c.id){var a;const s=(0,i.Fv)(c,n.ub);e("set",s,{root:!0}),null!==(a=c.posts)&&void 0!==a&&a.length&&Object.keys(t.posts.items).forEach((s=>{if(t.posts.items[s].labelStates){let r=!1;const a=[];t.posts.items[s].labelStates.forEach(((e,t)=>{a[t]={...e},+e.id===+c.id&&(a[t].name=c.name,r=!0)})),r&&e("posts/setPostField",{postId:s,field:"labelStates",status:a},{root:!0})}}))}}catch(d){(0,c.Po)(d)}},async fetchPostLabel({commit:e},t){try{const s=await(0,o.NN)(t);if(null!==s&&void 0!==s&&s.id){const t=(0,i.Fv)(s,n.ub);e("set",t,{root:!0})}}catch(s){}},async savePostLabelsOrder({commit:e,rootGetters:t},s){const{customOrder:r,sort:a,order:i}=s;try{const s=await(0,o.Lp)({customOrder:r,sort:a,order:i});if(null!==s&&void 0!==s&&s.success)if(r)e("setIds",r);else{const s=t["auth/authUserId"];e("users/setUserField",{userId:s,field:"labelsSort",status:a},{root:!0}),e("users/setUserField",{userId:s,field:"labelsSortOrder",status:i},{root:!0})}}catch(n){(0,c.Po)(n)}},async clearPostLabel({commit:e},t){try{const s=await(0,o.ZH)(t);null!==s&&void 0!==s&&s.success&&(e("setPostLabel",{labelId:t,label:{postsCount:0,posts:[]}}),e("posts/setItemIds",[],{root:!0}))}catch(s){(0,c.Po)(s)}},async updateLabels({commit:e},t){const s=(0,i.Fv)(t,n.Xt);e("set",s,{root:!0}),e("addIds",s.result)},async togglePostInPostsLabels({commit:e,dispatch:t,rootGetters:s,state:r},{labelId:i,postId:n}){try{const c=u.ZP.$route.name;let d,l;"MyQueue"===c?(d=s["schedule/getSchedulePostById"](n)||{},l=d.labelStates):(d=s["posts/getPost"](n),l=d[0].labelStates);const m=l.find((e=>+e.id===i)),h=m?await(0,o.c$)(i,n):await(0,o.AS)(i,[n]);if(null!==h&&void 0!==h&&h.success){e("addUserLabelsIds",[i]);const s=a()(h,"label.type","custom");await t("fetchPostLabel",i);const o="MyQueue"===c?"schedule":"posts";m?e(`${o}/deletePostLabel`,{postId:n,labelId:i},{root:!0}):e(`${o}/addPostLabel`,{postId:n,label:r.items[i]},{root:!0});const d=(t,r)=>{if(s===t){const s=!m;e("users/changeUsersPostsCount",{decrement:!m},{root:!0});const a=l.filter((e=>e.type!==t));e("posts/setPostField",{postId:n,field:r,status:s},{root:!0}),e(s?"decrementPostLabelsCounters":"incrementPostLabelsCounters",a)}};d("archived","isArchived"),d("private_archived","isPrivateArchived"),["PostLabel","ProfileLabel"].includes(u.ZP.$route.name)&&m&&+u.ZP.$route.params.id===+i&&e("posts/deletePostId",n,{root:!0})}}catch(d){(0,c.Po)(d)}}}},557910:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return c},mutations:function(){return o},state:function(){return n}});s(333948);var r=s(849344);const a=3e4,i=()=>({collection:[],timer:void 0}),n=i(),o={collect(e,t){e.collection=[...e.collection,t]},setTimer(e,t){e.timer=t},resetCollection(e){e.collection=[]},resetTimer(e){s.g.clearInterval(e.timer),e.timer=void 0},logout(e){Object.assign(e,i())}},c={setTimer({commit:e},t){e("setTimer",t)},collect({commit:e},t){e("collect",t)},sendCollection({commit:e,state:t,rootGetters:s}){const a=s["init/shouldSendStat"],i=s["auth/authUserId"];t.collection.length&&(a&&i&&(0,r.aF)(t.collection),e("resetCollection"))},startCollect({commit:e,state:t,dispatch:r}){if(t.timer)return;const i=s.g.setInterval((()=>{r("sendCollection")}),a);e("setTimer",i)},stopCollect({commit:e,dispatch:t}){t("sendCollection"),e("resetTimer")}}},274889:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return w},getFeedType:function(){return g},getters:function(){return P},mutations:function(){return S},state:function(){return v}});var r=s(227361),a=s.n(r),i=(s(333948),s(838862),s(21703),s(115306),s(365069),s(782677)),n=s(198225),o=s(849344),c=s(629857),d=s(999023),u=s(243168),l=s(861286),m=s(172462),h=s(532622),f=s(872308),p=s(914786);const g=e=>e&&!+e?e:"feed",y=()=>({items:{},itemIds:[],tempItemIds:{},feedItemIds:[],tempFeedItemIds:[],lastFeedItemIds:[],lastFeedType:null,lastProfileItemIds:{},hasPrevUserPostsToLoad:!1,currentPost:null,isPostsLoading:!1,error:!1,layout:p.Z.getItem("wallLayout")||"grid",postPublishedCounter:0,hasNewOwnPostPublished:!1,offset:0,needScrollToComments:!1,disabledPinsOrder:!1,hasPrevPostsToLoad:!1,votersList:{},postsLogin:[],votersMarker:void 0,pinnedIds:[],hasMore:{},currentFullscreenPostId:null,feedSettings:{isHideLockedFeedPosts:!1,isHidePromoFeedPosts:!1,isHideFeedPostsProfileBanners:!1,...JSON.parse(p.Z.getItem("feedSettings")||"{}")},userGetPostsError:!1,hasFeedBottomPostLoadError:!1,isProfileDataFetching:!1,postsFiltersCounter:{},beforePublishTime:void 0,afterPublishTime:void 0,headMarker:void 0,tailMarker:void 0,tweetSend:0}),v=y(),P={posts:e=>e.itemIds.map((t=>e.items[t])),postsPinned:e=>e.pinnedIds.map((t=>e.items[t])).filter((e=>e&&!e.isReportedByMe)),userPostItemIds:e=>e.itemIds,postsIdsList:e=>e.feedItemIds,feedPosts:e=>e.feedItemIds.map((t=>e.items[t])),filterExpiredposts(e){const t=+new Date;return e.itemIds.map((t=>e.items[t])).filter((e=>{if(!e)return!1;if(e.expiredAt){const s=+new Date(e.expiredAt);if(s<=t)return!1}return!0}))},filterReportedPosts:(e,t)=>t.filterExpiredposts.filter((e=>!e.isReportedByMe)),pinnedPostsIds:e=>e.pinnedIds,filterExpiredFeedposts(e){const t=+new Date;return e.feedItemIds.map((t=>e.items[t])).filter((e=>{if(!e)return!1;if(e.expiredAt){const s=+new Date(e.expiredAt);if(s<=t)return!1}return!0}))},filterReportedFeedPosts:(e,t)=>t.filterExpiredFeedposts.filter((e=>!e.isReportedByMe)),filterFeedPosts(e,t,s,r){let a=t.filterReportedFeedPosts;const i=r["auth/authUserId"];e.feedSettings.isHidePromoFeedPosts&&(a=a.filter((e=>e.author===i||!(e.linkedPosts||[]).length&&!(e.linkedUsers||[]).length&&!e.hasUrl))),e.feedSettings.isHideFeedPostsProfileBanners&&(a=a.map((e=>e.author===i?e:{...e,linkedUsers:[]})));const{feedFiltersIds:n}=s.usersLists;return n.length&&(a=a.filter((e=>{const t=r["users/getUser"](e.author);return!(t&&t.listsStates&&t.listsStates.length)||t.listsStates.some((e=>e.hasUser&&n.includes(e.id)))}))),a},totalPosts:e=>e.itemIds.length,hasPosts:e=>!!e.itemIds.length,getPost:e=>t=>e.items[t]?[{...e.items[t]}]:[],activePost:e=>[{...e.items[e.currentPost]}],getPostById:e=>t=>({...e.items[t]||{}}),activePostId:e=>e.currentPost,hasActivePost:e=>!!e.currentPost,isPostsError:e=>e.error,isGridLayout:e=>"grid"===e.layout,postVoters:e=>(t,s)=>{const r=t||"",a=s||"";return e.votersList[`${a}_${r}`]||[]},getPostVoter:e=>t=>e.votersList[t],getLastProfileItemIds:e=>(t,s="post")=>{const r=[];return e.lastProfileItemIds[t]&&e.lastProfileItemIds[t].length&&e.lastProfileItemIds[t].forEach((e=>{s===e.postType&&r.push(e.id)})),r},getTempItemIds:e=>t=>e.tempItemIds[t]?e.tempItemIds[t]:{pinnedPostsIds:[],userPostItemIds:[]},getPostReleaseForms:(e,t,s)=>t=>{const r=a()(s,"releaseForms.items",{});return e.items[t]&&e.items[t].releaseForms?e.items[t].releaseForms.filter((e=>!!r[e])).map((e=>r[e])):[]},hasMore:e=>t=>!!e.hasMore[t]},S={saveFeedItemIds(e){e.tempFeedItemIds=e.feedItemIds,e.feedItemIds=[]},setLoading(e,t){e.isPostsLoading=t},setError(e,t){e.error=t},incrementPostCommentsCount(e,t){e.items[t]&&(e.items[t].commentsCount+=1)},decrementPostComment(e,t){e.items[t]&&e.items[t].commentsCount&&e.items[t].commentsCount>0&&(e.items[t].commentsCount-=1)},setItemIds(e,t=[]){e.itemIds=[...new Set([...t])]},addItemIds(e,t=[]){e.itemIds=[...new Set([...e.itemIds,...t])]},addNewItemIds(e,t=[]){e.itemIds=[...new Set([...t,...e.itemIds])]},setFeedItemIds(e,t=[]){e.feedItemIds=[...new Set([...t])]},setPinnedIds(e,t=[]){e.pinnedIds=t},resetFeedItemIds(e){e.feedItemIds=[],e.tempFeedItemIds=[]},addFeedItemIds(e,t=[]){e.feedItemIds=[...new Set([...e.feedItemIds,...t])]},addNewFeedItemIds(e,t=[]){e.feedItemIds=[...new Set([...t,...e.feedItemIds])]},setLastFeedItemIds(e,t=[]){e.lastFeedItemIds=t},setLastFeedType(e,t){e.lastFeedType=t},addLastFeedItemId(e,t=[]){e.lastFeedItemIds=[...new Set([...e.lastFeedItemIds,...t])]},setPrevUserPostsToLoad(e,t){e.hasPrevUserPostsToLoad=t},setLastProfileItemId(e,{username:t,arr:s}){t&&(e.lastProfileItemIds[t]=s)},addLastProfileItemId(e,{username:t,id:s,postType:r="post"}){t&&(void 0===e.lastProfileItemIds[t]&&(e.lastProfileItemIds[t]=[]),e.lastProfileItemIds[t].push({username:t,id:s,postType:r}))},setTempItemIds(e,{username:t,value:s}){t&&(e.tempItemIds[t]=s)},setActivePost(e,t){e.currentPost=t},clearActivePost(e){e.currentPost=null},togglePostFavorite(e,t){if(e.items[t]&&e.items[t].id){const{isFavorite:s}=e.items[t];e.items[t].isFavorite=!s,s?e.items[t].favoritesCount-=1:e.items[t].favoritesCount+=1}},togglePostPin(e,t){if(e.items[t]){const{isPinned:s}=e.items[t];e.items[t].isPinned=!s}},toggleLayout(e){e.layout="grid"===e.layout?"list":"grid",p.Z.setItem("wallLayout",e.layout)},deletePost(e,t){if(void 0!==e.items[t]){const s={...e.items};delete s[t];const r=e.itemIds.filter((e=>+e!==+t));r.length!==e.itemIds.length&&(e.itemIds=r);const a=e.pinnedIds.filter((e=>+e!==+t));a.length!==e.pinnedIds.length&&(e.pinnedIds=a);const i=e.feedItemIds.filter((e=>+e!==+t));i.length!==e.feedItemIds.length&&(e.feedItemIds=i),e.items=s}},deletePostId(e,t){e.itemIds=e.itemIds.filter((e=>e!==t))},deletePinnedPostId(e,t){e.pinnedIds=e.pinnedIds.filter((e=>e!==t))},updatePost(e,t){const{id:s}=t;e.items[s]&&(e.items[s].fundRaising&&!t.fundRaising&&delete e.items[s].fundRaising,e.items[s]={...e.items[s],...t}),t&&t.fundRaising&&t.fundRaising.targetProgress&&e.items[s]&&e.items[s].tipsAmount&&(e.items[s].tipsAmountRaw=+t.fundRaising.targetProgress,e.items[s].tipsAmount=(0,l.Z9)(e.items[s].tipsAmountRaw))},incPostPublishedCounter(e){e.postPublishedCounter+=1},setPostPublishedCounter(e,t){e.postPublishedCounter=t},setHasNewOwnPostPublished(e,t){e.hasNewOwnPostPublished=t},resetPostPublishedCounter(e){e.postPublishedCounter=0},setPrevPostsToLoad(e,t){e.hasPrevPostsToLoad=t},setStreamEvents(e,{events:t,postId:s}){e.items[s].streamEvents=t},setPostFavorites(e,{postId:t,list:s,more:r}){e.items[t].favoritesList=r?[...new Set([...e.items[t].favoritesList,...s])]:s},setPostTips(e,{postId:t,list:s,more:r}){e.items[t].tipsList=r?[...new Set([...e.items[t].tipsList,...s])]:s},setPostBuyers(e,{postId:t,list:s,more:r}){e.items[t].buyersList=r?[...new Set([...e.items[t].buyersList,...s])]:s},resetPostBuyers(e,{postId:t}){e.items[t].buyersList=[]},resetPostFavorites(e,{postId:t}){e.items[t].favoritesList=[]},resetPostTips(e,{postId:t}){e.items[t].tipsList=[]},updatePostInBookmarks(e,{id:t,isAdded:s}){e.items[t].isAddedToBookmarks=s},setOffset(e,t){e.offset=+t},setScrollToComments(e,t){e.needScrollToComments=t},updatePostTips(e,{postId:t,amount:s}){if(t&&s&&e.items[t]){const r=e.items[t].tipsAmountRaw+ +s;e.items[t].tipsAmountRaw=r,e.items[t].tipsAmount=(0,l.Z9)(r)}},setDisabledPinsOrder(e,t){e.disabledPinsOrder=t},setHasMore(e,{type:t,value:s}){e.hasMore={...e.hasMore,[t]:s}},setUserGetPostsError(e,t){e.userGetPostsError=t},setVotersMarker(e,t){e.votersMarker=t},setPostsLogin(e,t){e.postsLogin=t},setCurrentFullscreenPostId(e,t){e.currentFullscreenPostId=t},toggleIsHideLockedFeedPosts(e){e.feedSettings.isHideLockedFeedPosts=!e.feedSettings.isHideLockedFeedPosts,p.Z.setItem("feedSettings",JSON.stringify(e.feedSettings))},toggleIsHidePromoFeedPosts(e){e.feedSettings.isHidePromoFeedPosts=!e.feedSettings.isHidePromoFeedPosts,p.Z.setItem("feedSettings",JSON.stringify(e.feedSettings))},toggleIsHideFeedPostsProfileBanners(e){e.feedSettings.isHideFeedPostsProfileBanners=!e.feedSettings.isHideFeedPostsProfileBanners,p.Z.setItem("feedSettings",JSON.stringify(e.feedSettings))},filterHiddenUserFeedPosts(e,t){e.feedItemIds=e.feedItemIds.filter((s=>e.items[s]&&e.items[s].author!==t))},setPostIsReportedByMe(e,t=0){e.items[t]&&(e.items[t]={...e.items[t],isReportedByMe:!0})},setPostsFiltersCounter(e,t){e.postsFiltersCounter=t},resetPostsFiltersCounter(e){e.postsFiltersCounter={}},resetPosts(e){e.items={},e.postsFiltersCounter={},e.itemIds=[]},setFeedBottomPostLoadError(e,t=!1){e.hasFeedBottomPostLoadError=t},setIsProfileDataFetching(e,t=!1){e.isProfileDataFetching=t},setPostIsReportedByMeTemp(e,t=0){e.items[t]&&(e.items[t]={...e.items[t],isReportedByMeTemp:!0})},addPostLabel(e,{postId:t,label:s}){"custom"===s.type&&e.items[t].labelStates.push(s)},deletePostLabel(e,{postId:t,labelId:s}){e.items[t].labelStates=e.items[t].labelStates.filter((e=>e.id!==s))},setPostField(e,{postId:t,field:s,status:r}){if(!e.items[t])return;const a={};a[s]=r,e.items[t]={...e.items[t],...a}},resetVotersList(e){e.votersList={}},setMarkers(e,{headMarker:t,tailMarker:s}={}){if(!t||!s)return e.headMarker=void 0,e.tailMarker=void 0,e.beforePublishTime=void 0,void(e.afterPublishTime=void 0);""+ +t===`${t}`?(e.headMarker=Math.min(...[e.headMarker,t,s].filter((e=>e))),e.tailMarker=Math.max(...[e.tailMarker,t,s].filter((e=>e)))):(e.beforePublishTime=Math.min(...[e.beforePublishTime,t,s].filter((e=>e))).toFixed(6),e.afterPublishTime=Math.max(...[e.afterPublishTime,t,s].filter((e=>e))).toFixed(6))},setTweetSend(e,t=0){e.tweetSend=t},logout(e){Object.assign(e,y())}},w={async fetchPosts({commit:e,state:t,dispatch:s},{limit:r=h.P9,more:c=!1,query:d,beforePublishTime:l,afterPublishTime:f,direction:p,listId:y,user:v,needFullResponse:P=!1}={}){let S=!1;const w=n.ZP.$watch("$route",(()=>{S=!0})),{cancelToken:b,isCancelled:I,Cancel:k}=(0,h.Yz)("fetchPosts");I&&e("setLoading",!1);const C=g(y);e("setLoading",!0),c||(e("setOffset",0),e("setMarkers")),c||"bottom"!==p||e("setHasMore",{value:!1,type:C}),"feed"===C||c||e("resetFeedItemIds");let T={};e("setFeedBottomPostLoadError",!1);const $={limit:r,offset:t.offset,query:d,cancelToken:b,listId:y,user:v};t.feedSettings.isHideLockedFeedPosts&&($.onlyCanView=1),"bottom"===p?t.tailMarker?$.tailMarker=t.tailMarker:$.beforePublishTime=t.beforePublishTime||l:t.headMarker?$.headMarker=t.headMarker:$.afterPublishTime=t.afterPublishTime||f;try{if(T=await(0,o.Jq)($),w(),S)return}catch(_){if(_ instanceof k)return;if(e("setLoading",!1),v&&404===_.status&&"User not found"===a()(_,"data.error.message"))return void e("setFeedItemIds",[]);throw"Feed"===n.ZP.$route.name&&"bottom"===p&&e("setFeedBottomPostLoadError",!0),_}if(!T||"object"!==typeof T)return(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:T}}),P?{}:[];const L=T.list;"need-tag"===y&&L.forEach((e=>{e.isNeedTag=!0}));const M=(0,i.Fv)(L,u.eI);e("releaseForms/setReleaseFormsNormalized",M,{root:!0});try{await s("users/getUsersIfNeeded",M,{root:!0}),e("set",M,{root:!0});const a=M.result;e("setMarkers",T),c?e("bottom"===p?"addFeedItemIds":"addNewFeedItemIds",a):(e("setFeedItemIds",a),e("resetPostPublishedCounter"));let i=t.offset+r;return"need-tag"===y&&(i=t.feedItemIds.length),e("setOffset",i),e("setLoading",!1),"bottom"===p&&e("setHasMore",{value:T.hasMore,type:C}),("top"===p&&!T.hasMore||!$.beforePublishTime&&!$.afterPublishTime)&&e("setHasNewOwnPostPublished",!1),P?T:L}catch(_){return e("setLoading",!1),P?{}:[]}},async fetchBookmarkPosts({commit:e,dispatch:t},{limit:s,offset:r=0,type:a="",filter:n,order:c}={}){const{cancelToken:d}=(0,h.Yz)("fetchPosts");let l;r||e("resetFeedItemIds");try{var f;if(l=await(0,o.Ls)({type:a,limit:s,offset:r,filter:n,order:c,cancelToken:d}),!Array.isArray(null===(f=l)||void 0===f?void 0:f.list))return(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:l}}),!1;if(l.list.length){const s=(0,i.Fv)(l.list,u.eI);await t("users/getUsersIfNeeded",s,{root:!0}),e("releaseForms/setReleaseFormsNormalized",s,{root:!0}),e("set",s,{root:!0});const a=s.result;e(r?"addFeedItemIds":"setFeedItemIds",a)}return l.hasMore}catch(p){}},async fetchUserPosts({commit:e,dispatch:t,state:s},{id:r,limit:a,more:n=!1,addNew:o=!1,type:c="posts",query:l,order:f,filter:p,beforePublishTime:g,afterPublishTime:y,direction:v="bottom",pinned:P,label:S,excludeLabel:w,needFullResponse:b=!1}={}){if("streams"===c)return void e("setItemIds");const{cancelToken:I,Cancel:k}=(0,h.Yz)("fetchPosts");let C;c&&"posts"!==c&&(0,h.Yz)("fetchPostsPinned"),e("setLoading",!0),n||o||(e("setMarkers"),e("setItemIds")),e("setUserGetPostsError",!1);const T=f&&"asc"===f.slice(f.length-3),$={id:r,limit:a,type:c,query:l,order:"top"===v&&T?f.replace(/asc$/,"desc"):f,filter:p,pinned:P,label:S,excludeLabel:w,cancelToken:I,counters:+!n};try{"top"===v&&!T||"top"!==v&&T?$.afterPublishTime=(s.afterPublishTime||y||g)&&Math.max(...[s.afterPublishTime,y,g].filter((e=>e))).toFixed(6):$.beforePublishTime=(s.beforePublishTime||g||y)&&Math.min(...[s.beforePublishTime,g,y].filter((e=>e))).toFixed(6),C=await(0,d.C8)($)}catch(F){if(!(F instanceof k))throw e("setLoading",!1),e("setUserGetPostsError",!0),F;return}if(!C||"object"!==typeof C)throw(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:C}}),e("setLoading",!1),new Error("Not object");const L=$.order!==f?C.list.reverse():C.list,M=C.counters;"top"!==v&&e("setHasMore",{value:C.hasMore,type:c}),M&&e("setPostsFiltersCounter",M);const _=(0,i.Fv)(L,u.eI);await t("users/getUsersIfNeeded",_,{root:!0}),e("set",_,{root:!0}),e("setMarkers",C);const A=_.result;return e(n?"addItemIds":o?"addNewItemIds":"setItemIds",A),e("setLoading",!1),b?C:L},async fetchUserPostsByType({commit:e,rootGetters:t,dispatch:s},{selectedPostDate:r=!1}={}){try{e("setPrevUserPostsToLoad",!1);const a=t["users/userId"],{order:i,filter:o,q:c}=n.ZP.$route.query,d=n.ZP.$route.params.postType,u=n.ZP.$route.params.labelId,l={id:a,type:d,query:c,order:i,filter:o,label:u};if(r){l.beforePublishTime=r,l.needFullResponse=!0,e("setPinnedIds");const t=await s("fetchUserPosts",l);return t}{const e="Profile"===n.ZP.$route.name&&!n.ZP.$route.query.filter&&(!n.ZP.$route.query.order||"publish_date_asc"===n.ZP.$route.query.order);e&&(l.pinned=0)}await s("fetchUserPosts",l)}catch(a){}},async fetchPostsPinned({commit:e,rootGetters:t,dispatch:s}){const{cancelToken:r}=(0,h.Yz)("fetchPostsPinned");try{const o=t["users/userId"];e("setPinnedIds");const c=n.ZP.$route.query.filter||n.ZP.$route.query.order;if(c&&"publish_date_asc"!==c)e("setPinnedIds");else{const t=await(0,d.U7)({id:o,cancelToken:r}),n=a()(t,"list",!1);if(n&&n.length){const t=(0,i.Fv)(n,u.eI);await s("users/getUsersIfNeeded",t,{root:!0}),e("set",t,{root:!0}),e("setPinnedIds",t.result)}}}catch(o){}},async fetchPost({commit:e,state:t,dispatch:s},{id:r,active:a=!1,onlyExisted:n=!1}={}){if(e("setError",!1),n&&!t.items[r])return[];let c;e("setLoading",!0);try{c=await(0,o.u_)(r)}catch(l){return e("setLoading",!1),e("setError",!0),[]}if(!c||"object"!==typeof c)return(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{post:c}}),[];a&&e("setActivePost",+c.id);const d=(0,i.Fv)(c,u.Rj);return e("releaseForms/setReleaseFormsNormalized",d,{root:!0}),await s("users/getUsersIfNeeded",d,{root:!0}),s("setPost",c),e("setLoading",!1),c},setPost({commit:e},t){const s=(0,i.Fv)(t,u.Rj);let r;r=a()(s,`entities.posts[${t.id}]`)?s.entities.posts[t.id]:t,e("updatePost",r),e("set",s,{root:!0})},postPublished({commit:e,rootGetters:t},{id:s,userId:r}){if(!s)return;const a=t["auth/authUserId"];+a!==+r&&e("incPostPublishedCounter"),e("setHasNewOwnPostPublished",!0)},async favoritePost({commit:e},{id:t,authorId:s}){e("togglePostFavorite",t);try{const r=await(0,o.xZ)({id:t,authorId:s});if(r&&"object"===typeof r){const t=(0,i.Fv)(r,u.Rj);e("set",t,{root:!0})}else(0,m.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(r){e("togglePostFavorite",t)}},async pinPostAction({commit:e,state:t,dispatch:s,rootGetters:r},{id:a,userId:i}){const c=await(0,o.wy)(a),d=n.ZP.$route.query.filter||n.ZP.$route.query.order&&"publish_date_asc"!==n.ZP.$route.query.order?void 0:0;if(c&&c.success){const o=t.items[a];if(e("togglePostPin",a),o){const c=r["auth/authUser"],u=o.isPinned?c.pinnedPostsCount+1:c.pinnedPostsCount-1;if(e("users/setUserField",{userId:c.id,field:"pinnedPostsCount",status:u},{root:!0}),e("users/setUserField",{userId:c.id,field:"hasPinnedPosts",status:u>0},{root:!0}),"Profile"===n.ZP.$route.name&&0===d)if(o.isPinned)e("deletePostId",a),e("setPinnedIds",[a,...t.pinnedIds]);else{e("deletePinnedPostId",a);const t=n.ZP.$route.params.postType,{q:r,order:o,filter:c}=n.ZP.$route.query;s("fetchUserPosts",{id:i,type:t,query:r,order:o,filter:c,pinned:d})}}}},async deletePost({commit:e,state:t},s){try{const r=a()(t.items[s],"labelStates",!1),i=await(0,o.fR)(s);if(i&&i.counters&&(e("users/updateUserCounters",i.counters,{root:!0}),e("setPostsFiltersCounter",i.counters)),i&&i.success)return r&&Array.isArray(r)&&e("postLabels/decrementPostLabelsCounters",r,{root:!0}),e("deletePost",s),!0}catch(r){return(0,m.Po)(r),!1}return!1},async hidePost({commit:e,state:t,dispatch:s},r){try{const a=t.items[r];let i;i=a&&"post"===a.responseType?await(0,o.jp)(r):await s("chats/hideMessage",r,{root:!0}),i&&i.success&&("Post"===n.ZP.$route.name?e("setPostIsReportedByMe",r):e("deletePost",r))}catch(a){(0,m.Po)(a)}},async fetchStreamEvents({commit:e,rootGetters:t},{streamId:s,postId:r}){try{let a=await(0,c.PC)(s);a&&a.length&&(a=a.reduce(((e,s)=>{switch(s.type){case"join":case"left":return e;case"tips":s.data.comment=(0,f.b$)({vm:n.ZP,authUser:t["auth/authUser"],fromUser:s.data.user,toUser:s.data.toUser,amount:`$${s.data.amount.toFixed(2).replace(".00","")}`,message:s.data.message}),s.type="comment";break;default:break}return s.time=parseFloat(s.time),e.push(s),e}),[]),e("setStreamEvents",{events:a,postId:r}))}catch(a){Sentry.captureException(a)}},async fetchFavoritesList({commit:e,state:t},{postId:s,offset:r=0,more:a=!1}){let n;e("setError",!1);try{if(n=await(0,o.F3)({postId:s,offset:r}),n&&n.list){const r=(0,i.Fv)(n.list,u.Xd);if(e("set",r,{root:!0}),!t.items[s]){const t=(0,i.Fv)({id:s},u.Rj);e("set",t,{root:!0})}e("setPostFavorites",{postId:s,list:r.result,more:a})}}catch(c){e("setError",!0)}return n},async fetchTipsList({commit:e,state:t},{postId:s,offset:r=0,more:a=!1}){let n;e("setError",!1);try{if(n=await(0,o.wr)({postId:s,offset:r}),n&&n.list){const r=(0,i.Fv)(n.list,u.Xd);if(e("set",r,{root:!0}),!t.items[s]){const t=(0,i.Fv)({id:s},u.Rj);e("set",t,{root:!0})}e("setPostTips",{postId:s,list:r.result,more:a})}}catch(c){e("setError",!0)}return n},async fetchBuyersList({commit:e,state:t},{postId:s,offset:r=0,more:a=!1}){try{e("setError",!1);const n=await(0,o._D)({postId:s,offset:r});if(n&&n.list){if(!t.items[s]){const t=(0,i.Fv)({id:s},u.Rj);e("set",t,{root:!0})}const r=(0,i.Fv)(n.list,u.Xd);e("set",r,{root:!0}),e("setPostBuyers",{postId:s,list:r.result,more:a})}return n}catch(n){return e("setError",!0),{}}},async fetchVotersList({commit:e,state:t},{postId:s,offset:r=0,optionId:a,more:n=!1}){e("setError",!1);try{n||e("setVotersMarker");const c=await(0,o.yI)({postId:s,optionId:a,offset:r,marker:t.votersMarker});if(c&&c.list){if(c.marker&&e("setVotersMarker",c.marker),!t.items[s]){const t=(0,i.Fv)({id:s},u.Rj);e("set",t,{root:!0})}const r=(0,i.Fv)(c.list,u.$7);e("set",r,{root:!0}),e("set",{entities:{votersList:{[`${s}_${a}`]:n?[...new Set([...t.votersList[`${s}_${a}`]||[],...r.result])]:r.result}}},{root:!0})}return c}catch(c){return e("setError",!0),{}}},async fetchPostsLogin({commit:e},t=9){e("setPostsLogin",[]),e("setError",!1);try{const s=await(0,o.j7)(t);return s&&s.items&&e("setPostsLogin",s.items),s}catch(s){return e("setError",!0),{}}},async addPostToBookmarks({commit:e},{id:t,authorId:s}){let r;try{r=await(0,o.GX)(t,s)}catch(a){}r&&r.success&&e("updatePostInBookmarks",{id:t,isAdded:!0})},async removePostFromBookmarks({commit:e},t){let s;try{s=await(0,o.Z1)(t)}catch(r){}s&&s.success&&e("updatePostInBookmarks",{id:t,isAdded:!1})},setPostLabelsCounters({commit:e},t){t.forEach((t=>{e("postLabels/setPostLabel",{labelId:t.id,label:t},{root:!0})}))},async toggleArchivePost({commit:e,state:t,dispatch:s},{postId:r,isPrivate:a=!1}){let c=t.items[r];if(c)try{const d=a?c.isPrivateArchived:c.isArchived,l=await(0,o.A$)({postId:r,add:!d,query:a&&{action:"private_archive"}});if(l&&(l.counters&&(e("users/updateUserCounters",l.counters,{root:!0}),e("setPostsFiltersCounter",l.counters),e("postLabels/setPostLabelArchivedCounters",l.counters,{root:!0})),l.post)){({post:c}=l);const o=n.ZP.$createElement("span",{domProps:{innerHTML:n.ZP.$t(`message.post_moved${d?"_from":"_to"}${a?"_private":""}_archive_toast`,{POST_URL:`/${c.id}/${c.author.username}`,ARCHIVE_URL:`/${c.author.username}/${a?"private_":""}archived`})},on:{click:h.gy}});n.ZP.$bvToast.toast([o],{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"});const m=(0,i.Fv)(c.labelStates,u.Xt);e("postLabels/addUserLabelsIds",m.result,{root:!0}),s("setPostLabelsCounters",c.labelStates),s("setPost",c),e("setFeedItemIds",t.feedItemIds.filter((e=>e!==r))),e("deletePostId",r),e("deletePinnedPostId",r),delete l.post,Object.keys(l).forEach((t=>{e("users/setUserField",{userId:c.author.id,field:t,status:l[t]},{root:!0})}))}}catch(d){(0,m.Po)(d)}},async savePinsOrder({commit:e},t){try{e("setDisabledPinsOrder",!0);const s=await(0,o.b0)(t);e("setDisabledPinsOrder",!1),s&&s.length&&e("setPinnedIds",s)}catch(s){e("setDisabledPinsOrder",!1),(0,m.Po)(s)}}}},818474:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return l},mutations:function(){return u},state:function(){return d}});s(333948),s(21703);var r=s(782677),a=s(527557),i=s(243168),n=s(532622),o=s(172462);const c=()=>({referralsIds:[],earnings:[],earningsLoading:!1,counts:{},smsTemplates:{},offset:0}),d=c(),u={setEarningsLoading(e,t){e.earningsLoading=t},setReferralsIds(e,{items:t=[],more:s=!1}={}){e.referralsIds=s?[...e.referralsIds,...t]:t},setOffset(e,t=0){e.offset=t},setEarnings(e,{items:t,more:s}){e.earnings=s?[...e.earnings,...t]:[...t]},setCounts(e,{count:t,data:s}){e.counts={...e.counts,[s.is_performer?"creators":"users"]:t}},setSmsTemplates(e,t){e.smsTemplates=t},logout(e){Object.assign(e,c())}},l={async fetchReferrals({commit:e,state:t},{query:s,more:c,isPerformer:d}={}){c||(e("setReferralsIds"),e("setOffset"));try{const u=await(0,a.$d)({limit:n.P9,offset:t.offset,query:s,is_performer:d});if(Array.isArray(u)){if(e("setOffset",t.offset+n.P9),u.length){const t=(0,r.Fv)(u,i.Xd);return e("set",t,{root:!0}),e("setReferralsIds",{items:t.result,more:c}),!0}return!1}(0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:u}})}catch(u){}},async fetchEarnings({commit:e},{limit:t,offset:s,more:r}={}){let i;e("setEarningsLoading",!0),r||e("setEarnings",{items:[],more:r});try{const e=await(0,a.dc)({limit:t,offset:s});i=e.list||[]}catch(n){i=[]}return e("setEarnings",{items:i,more:r}),e("setEarningsLoading",!1),i},async fetchCounts({commit:e},t){try{const s=await(0,a.eZ)(t);s&&void 0!==s.count&&e("setCounts",{count:s.count,data:t})}catch(s){}},async fetchSmsTemplates({commit:e}){try{const t=await(0,a.K$)();t&&"object"===typeof t&&e("setSmsTemplates",t)}catch(t){}}}},50473:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});var r=s(150361),a=s.n(r),i=(s(333948),s(21703),s(198225)),n=s(248556),o=s(532622),c=s(172462),d=s(782677),u=s(243168);const l=()=>({releaseFormsList:[],guests:{},items:{},releaseFormsPageIds:[],selectedItems:[],releaseFormsFilter:"date",releaseFormsOrder:"desc",type:"users",searchText:"",offsetForms:0,hasMoreForms:!1,isLoadingForms:!1,hints:[],modalGuest:null,modalLink:null,modalDocs:null,guestSaving:!1}),m=l(),h={releaseFormsList:e=>t=>e.items||t.length?t.map((t=>e.items[t])):[],releaseFormsPageList(e){return e.items||e.releaseFormsPageIds.length?e.releaseFormsPageIds.map((t=>e.items[t])):[]}},f={setType(e,t){e.type=t},setSearchText(e,t){e.searchText=t},setReleaseFormsList(e,t){e.releaseFormsList=t},setReleaseFormsFilter(e,t){e.releaseFormsFilter=t},setReleaseFormsOrder(e,t){e.releaseFormsOrder=t},setLoadingForms(e,t){e.isLoadingForms=t},setReleaseFormsNormalized(e,t){t.entities&&t.entities.releaseForms&&(e.items={...e.items,...t.entities.releaseForms})},setReleaseFormsPageIds(e,t){e.releaseFormsPageIds=t},setReleaseFormsId(e,t){e.releaseFormsPageIds=[...new Set([t,...e.releaseFormsPageIds])]},setReleaseForm(e,{formId:t,form:s}){e.items[t]={...e.items[t],...s}},setHiddenReleaseForm(e,{formId:t}){e.releaseFormsPageIds=e.releaseFormsPageIds.filter((e=>e!==t))},removeReleaseForm(e,{formId:t}){delete e.items[t]},setSelectedItems(e,t){if(!e.releaseFormsPageIds.length){const s="users"===e.type?["user","guest"]:["link","doc"],r=t.length?t.filter((({type:e})=>s.includes(e))).map((e=>Number(e.id))):[];e.releaseFormsPageIds=[...new Set([...r,...e.releaseFormsPageIds])]}e.selectedItems=t},resetSelectedItemsList(e){e.releaseFormsFilter="date",e.releaseFormsOrder="desc",e.selectedItems=[],e.type="users",e.searchText=""},resetForms(e){e.releaseFormsList=[],e.releaseFormsPageIds=[]},setOffsetForms(e,t){e.offsetForms=t},setHasMoreForms(e,t){e.hasMoreForms=t},setHints(e,t){e.hints=t},setModalGuest(e,t=null){e.modalGuest=t},setModalLink(e,t=null){e.modalLink=t},setModalDocs(e,t=null){e.modalDocs=t},setGuestSaving(e,t=!1){e.guestSaving=t},logout(e){Object.assign(e,l())}},p={async saveReleaseDocs({commit:e},t){try{const s=await(0,n.uj)(t);return e("setReleaseForm",{formId:s.id,form:{...s,type:"doc"}}),e("setReleaseFormsId",s.id),s}catch(s){return(0,c.Po)(s),!1}},async saveReleaseLink({commit:e},t){try{const s=await(0,n.ln)(t);return e("setReleaseForm",{formId:s.id,form:{...s,type:"link"}}),e("setReleaseFormsId",s.id),s}catch(s){return(0,c.Po)(s),!1}},async fetchReleaseForms({commit:e,state:t},{limit:s=o.P9,sort:r,more:a,name:i,type:l}){try{a||(e("setLoadingForms",!0),e("setReleaseFormsList",[]),e("setReleaseFormsPageIds",[]),e("setOffsetForms",0),e("setHasMoreForms",!1));const{cancelToken:c}=(0,o.Yz)("fetchMediaPosts"),m="forms"===l?n.e0:n.Qo,{hasMore:h,items:f}=await m({limit:s,offset:t.offsetForms,sort:r,name:i},c);let p=[...t.releaseFormsList,...f];if(!i&&t.selectedItems.length){const e="users"===t.type?["user","guest"]:["doc","link"],s=t.selectedItems.filter((t=>e.includes(t.type))),r=s.filter((({id:e,type:t})=>!p.some((({id:s,type:r})=>s===e&&t===r))));p=[...r,...p]}const g=p.filter(((e,t,s)=>s.findIndex((t=>t.id===e.id))===t)),y=(0,d.Fv)(g,u._8);e("setHasMoreForms",h),e("setReleaseFormsList",g),e("setReleaseFormsNormalized",y),e("setReleaseFormsPageIds",y.result),e("setOffsetForms",t.offsetForms+s),e("setLoadingForms",!1)}catch(m){if((0,o.jT)(m))return;(0,c.Po)(m)}},async renameReleaseForms({commit:e},t){try{const s=await(0,n.Xz)(t);e("setReleaseForm",{formId:s.id,form:s}),e("setReleaseFormsId",s.id)}catch(s){return(0,c.Po)(s),!1}},async hideReleaseForms({commit:e},{entityType:t,entityId:s,isViewToHidden:r,mention:o}={}){try{let c=await(0,n.yY)({entityId:s,entityType:t});const d=a()(o);return c.isHidden&&r&&e("setHiddenReleaseForm",{formId:c.entityId}),d&&"user"===d.type&&(d.user.hiddenForRf=c.isHidden),e("setReleaseForm",{formId:c.entityId,form:{...c,...d,hiddenForRf:c.isHidden}}),i.ZP.$bvToast.toast(i.ZP.$t(c.isHidden?"message.successfully_removed_from_list":"message.successfully_back_to_list"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}),c}catch(d){return(0,c.Po)(d),!1}},async attachReleaseForm({},{postId:e,releaseForms:t,messageId:s,userTo:r="",isEditForms:a,isForward:i}){if(!t.length&&!e&&!a)return!1;const o={rfLink:t.filter((e=>"link"===e.type)).map((e=>e.id)),rfDoc:t.filter((e=>"doc"===e.type)).map((e=>e.id)),rfTag:t.filter((e=>"user"===e.type)).map((e=>e.id)),rfGuest:t.filter((e=>"guest"===e.type)).map((e=>e.id)),userTo:r,isForward:i};e?o.postId=e:s&&(o.messageId=s);try{return await(0,n.lJ)(o)}catch(d){return(0,c.Po)(d),!1}},async getReleaseFormsHints({commit:e},t){let s;try{s=await(0,n.AE)(t),e("setHints",s.data)}catch(r){(0,c.Po)(r)}return s},async getReleaseFormsHintsByType({},e){let t;try{t=await(0,n.Dp)(e)}catch(s){(0,c.Po)(s)}return t},async saveGuest({commit:e},{id:t,data:s={}}){e("setGuestSaving",!0);try{const r=await(0,n.U9)(s,t);if(r&&r.id)return e("setGuestSaving"),e("setReleaseForm",{formId:r.id,form:{...r,type:"guest"}}),e("setReleaseFormsId",r.id),r}catch(r){(0,c.Po)(r),(0,c.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}return e("setGuestSaving"),!1},async deleteGuest({commit:e},t){e("setGuestSaving",!0);try{const s=await(0,n.tn)(t);if(s&&s.success)return e("setGuestSaving"),e("removeReleaseForm",{formId:t}),!0}catch(s){(0,c.Po)(s)}return e("setGuestSaving"),!1},async assignGuestByToken({},e){try{return await(0,n.HP)(e),!0}catch(t){(0,c.Po)(t)}return!1},setReleaseFormsWithNormalize({commit:e},t){if(t.length){const s=(0,d.Fv)(t,u._8);e("set",s,{root:!0}),e("setReleaseFormsNormalized",s)}}}},669479:function(e,t,s){"use strict";s.r(t),s.d(t,{mutations:function(){return n},state:function(){return i}});s(333948);const r=5,a=()=>({route:{from:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}},to:{name:"",path:"",fullPath:"",params:{},query:{},meta:{}}},history:[]}),i=a(),n={setRoute(e,t){const s="object"===typeof t&&"object"===typeof t.to?t.to:{},a=e.history&&e.history.length?e.history:[];e.route={...t},e.history=[s,...a].slice(0,r)},logout(){}}},258135:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return p},getters:function(){return h},mutations:function(){return f},state:function(){return m}});s(333948),s(21703);var r=s(596012),a=s(849344),i=s(727484),n=s.n(i),o=s(629387),c=s.n(o),d=s(993043),u=s(172462);n().extend(c());const l=()=>({itemsSFL:[],loading:!1,linkedPostsMap:{}}),m=l(),h={getSFLPostById:e=>t=>{const s=e.itemsSFL.find((e=>e.entity.id===t));return s?s.entity:null}},f={setItems(e,{addMore:t,list:s}){e.itemsSFL=t?[...e.itemsSFL||[],...s||[]]:s},setLoading:(e,t)=>{e.loading=t},deleteItem:(e,t)=>{e.itemsSFL=e.itemsSFL.filter((e=>e.id!==t))},postPublished:(e,t)=>{e.itemsSFL=e.itemsSFL.filter((({entity:e})=>e.id!==t))},setLinkedPostsMap:(e,t)=>{e.linkedPostsMap={...e.linkedPostsMap,...t}},resetPosts:e=>{e.loading=!1,e.itemsSFL=[]},updatePost:(e,{id:t,post:s})=>{e.itemsSFL=e.itemsSFL.map((e=>e.entity.id===t?{...e,entity:s}:e))},logout(e){Object.assign(e,l())}},p={async fetchSFLPosts({commit:e},{params:t,addMore:s}={}){let a;e("setLoading",!0);try{a=await(0,r.SM)({params:t});const{list:i}=a;i&&e("setItems",{list:i,addMore:s}),null!==i&&void 0!==i&&i.length&&await(0,d.Bw)({commit:e,list:i,commitName:"savedForLater/setLinkedPostsMap"})}finally{e("setLoading",!1)}return a},async updateSFLPost({commit:e,state:t},s){const r=t.itemsSFL.some((({entity:e})=>e.id===s));if(r)try{const t=await(0,a.u_)(s,[]);if(t&&"object"===typeof t)return void e("updatePost",{id:s,post:t});(0,u.oj)({error:new Error("typeof response is incorrect"),extra:{post:t}})}catch{}},async pinSFLPost({commit:e},t){try{const s=await(0,a.wy)(t);if(null!==s&&void 0!==s&&s.success){const s=m.itemsSFL.find((e=>e.entity.id===t));if(s){const r=!s.entity.isPinned,a={...s.entity,isPinned:r};e("updatePost",{id:t,post:a})}}}catch{}},publishScheduleEventRightNow({commit:e},t){return(0,d.$7)({commit:e,id:t})}}},453398:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return S},getters:function(){return v},mutations:function(){return P},state:function(){return y}});var r=s(227361),a=s.n(r),i=(s(333948),s(21703),s(198225)),n=s(596012),o=s(849344),c=s(727484),d=s.n(c),u=s(629387),l=s.n(u),m=s(993043),h=s(172462),f=s(532622);const p=()=>s.e(61972).then(s.bind(s,661972));d().extend(l());const g=()=>({items:[],dayItems:[],itemsByDate:null,calendarItems:[],userTimeZone:void 0,scheduledItemsLoading:!1,scheduledDayItemsLoading:!1,scheduledItemsCounterLoading:!1,hasMoreDayDetailedEvents:!1,linkedPostsMap:{},reminders:[],remindersLoading:!1,isSFLSyncInProcess:!1}),y=g(),v={getSchedulePostById:e=>t=>{const s=e.dayItems.find((e=>e.entity.id===t));return s?s.entity:null}},P={setItems(e,t){const s=e.items.map((e=>e.id)),r=t.filter((e=>!s.includes(e.id)));e.items=e.items.concat(r)},setDayItems(e,t){const s=e.dayItems.map((e=>e.id)),r=t.filter((e=>!s.includes(e.id)));e.dayItems=e.dayItems.concat(r)},deleteItem(e,t){e.items=e.items.filter((e=>e.id!==t)),e.dayItems=e.dayItems.filter((e=>e.id!==t))},setItemsByDate(e){e.itemsByDate=(0,m.Sf)(e.items)},setCalendarItems(e,t){e.calendarItems=t},setUserTimeZone:(e,t)=>{e.userTimeZone=t},clearCalendarItems:e=>{e.calendarItems=[]},clearAgendaItems:e=>{e.items=[],e.itemsByDate={}},clearDayItems:e=>{e.dayItems=[],e.hasMoreDayDetailedEvents=!1,e.scheduledDayItemsLoading=!1},clearItems:e=>{e.items=[],e.itemsByDate={},e.dayItems=[],e.calendarItems=[]},setScheduledItemsLoading:(e,t)=>{e.scheduledItemsLoading=t},setScheduledDayItemsLoading:(e,t)=>{e.scheduledDayItemsLoading=t},setScheduledItemsCounterLoading:(e,t)=>{e.scheduledItemsCounterLoading=t},updateScheduledEvent:(e,t)=>{e.items=e.items.map((e=>e.entity.id===t.id?{...e,entity:t}:e))},updateDayItemScheduledEvent:(e,t)=>{e.dayItems=e.dayItems.map((e=>e.entity.id===t.id?{...e,entity:t}:e))},setHasMoreDayDetailedEvents:(e,t)=>{e.hasMoreDayDetailedEvents=t},postPublished:(e,t)=>{e.items=e.items.filter((({type:e,entity:s})=>"post"!==e||s.id!==t)),e.dayItems=e.dayItems.filter((({type:e,entity:s})=>"post"!==e||s.id!==t))},messagePublished:(e,t)=>{e.items=e.items.filter((({type:e,entity:s})=>"chat"!==e||s.id!==t)),e.dayItems=e.dayItems.filter((({type:e,entity:s})=>"chat"!==e||s.id!==t))},setLinkedPostsMap:(e,t)=>{e.linkedPostsMap={...e.linkedPostsMap,...t}},setReminders:(e,t=[])=>{e.reminders=t},updateReminder:(e,{id:t,fields:s={}})=>{e.reminders=e.reminders.map((e=>e.id===t?{...e,...s}:e))},removeFromReminder:(e,t)=>{e.reminders=e.reminders.filter((e=>e.id!==t))},setRemindersLoading:(e,t)=>{e.remindersLoading=t},addPostLabel(e,{postId:t,label:s}){if("custom"===s.type){const r=e.dayItems.find((e=>e.entity.id===t));r.entity.labelStates.push(s)}},deletePostLabel(e,{postId:t,labelId:s}){const r=e.dayItems.find((e=>e.entity.id===t));r.entity.labelStates=r.entity.labelStates.filter((e=>e.id!==s))},setIsSFLSyncInProcess(e,t){e.isSFLSyncInProcess=t},setDefaultState(e){Object.assign(e,g())},logout(e){Object.assign(e,g())}},S={async fetchEventsCounters({commit:e},{params:t}={}){let s;const{cancelToken:r}=(0,f.Yz)("fetchEventsCounters");e("setScheduledItemsCounterLoading",!0);const a=Object.assign({},t,{"filter[timeZone]":y.userTimeZone});try{var i;if(s=await(0,n.HC)({params:a,cancelToken:r}),null!==(i=s)&&void 0!==i&&i.list){const t=(0,m.EC)(s);e("setCalendarItems",t),e("setIsSFLSyncInProcess",s.syncInProcess)}}catch(o){}finally{e("setScheduledItemsCounterLoading",!1)}return s},async fetchEventsDetailed({commit:e},{params:t}={}){let s;e("setScheduledItemsLoading",!0);const{cancelToken:r}=(0,f.Yz)("fetchEventsDetailed"),a=Object.assign({},t,{"filter[timeZone]":y.userTimeZone});try{s=await(0,n.o6)({params:a,cancelToken:r});const{list:t}=s;null!==t&&void 0!==t&&t.length&&(e("setItems",t),e("setItemsByDate")),e("setIsSFLSyncInProcess",s.syncInProcess)}finally{e("setScheduledItemsLoading",!1)}return s},async fetchDayEventsDetailed({commit:e},{params:t}={}){let s;e("setScheduledDayItemsLoading",!0);const{cancelToken:r}=(0,f.Yz)("fetchDayEventsDetailed"),a=Object.assign({},t,{"filter[timeZone]":y.userTimeZone});try{s=await(0,n.o6)({params:a,cancelToken:r});const{list:t}=s;null!==t&&void 0!==t&&t.length&&(e("setDayItems",t),e("setHasMoreDayDetailedEvents",s.hasMore),await(0,m.Bw)({commit:e,list:t,commitName:"schedule/setLinkedPostsMap"})),e("setIsSFLSyncInProcess",s.syncInProcess)}catch(i){}finally{e("setScheduledDayItemsLoading",!1)}return s},async fetchReminders({commit:e}){e("setRemindersLoading",!0);try{const t=await(0,n.vw)({limit:4,"filter[timeZone]":d()().format("Z")});if(null!==t&&void 0!==t&&t.list)return e("setReminders",t.list),e("setRemindersLoading",!1),t}catch(t){t.__CANCEL__||e("setRemindersLoading",!1)}},publishScheduleEventRightNow({commit:e},t){return(0,m.$7)({commit:e,id:t})},async updatePost({commit:e,state:t},s){const r=t.items.some((({entity:e})=>e.id===s)),a=t.dayItems.some((({entity:e})=>e.id===s));if(r||a)try{const t=await(0,o.u_)(s);if(!t||"object"!==typeof t)return void(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{post:t}});r&&(e("updateScheduledEvent",t),e("setItemsByDate")),a&&e("updateDayItemScheduledEvent",t)}catch{}},async pinSchedulePost({commit:e},t){try{const s=await(0,o.wy)(t);if(null!==s&&void 0!==s&&s.success){const s=y.items.find((e=>e.entity.id===t));if(s){const t=!s.entity.isPinned,r={...s.entity,isPinned:t};e("updateScheduledEvent",r),e("setItemsByDate")}const r=y.dayItems.find((e=>e.entity.id===t));if(r){const t=!r.entity.isPinned,s={...r.entity,isPinned:t};e("updateDayItemScheduledEvent",s)}}}catch{}},async fetchClosestScheduledStream(){try{var e;const t=await(0,n.F4)();if(null!==t&&void 0!==t&&null!==(e=t.list)&&void 0!==e&&e.length){const e=a()(t,"list[0].entity");if(!e)return;const s=d()(e.scheduledAt).diff(d()(),"minute",!0);if(s<0||s>30)return;const r=i.ZP.$createElement,n=`ScheduledStreamNotificationToast_${e.id}`;i.ZP.$bvToast.hide(n);const o=await p(),c=r(o.default,{props:{toast:e}});i.ZP.$bvToast.toast([c],{id:n,noAutoHide:!0,appendToast:!0,toaster:"b-toaster-bottom-left",toastClass:"m-without-timer"})}}catch{}}}},363345:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return P},getters:function(){return y},mutations:function(){return v},state:function(){return g}});var r=s(682492),a=s.n(r),i=(s(333948),s(782677)),n=s(617875),o=s(8056),c=s(999023),d=s(532622);const u=()=>d.ZP.post(`${d.tW}/emails/resend`).then((e=>e.data));var l=s(483190),m=s(243168),h=s(172462),f=s(914786);const p=()=>({activityHubAllowed:"",activityHubTokens:[],appOtp:!1,autoMessage:[],countries:[],countriesLoading:!1,darkMode:!!f.Z.getItem("dark_mode"),isDeleteInitiated:null,lastSubscriptionExpiredAt:null,spotifyArtistsItems:{},spotifyBio:{displayName:"",anthem:null,topArtists:[]},spotifyTop:{myTopArtists:[],myTopTracks:[]},isOpenseaConnected:void 0,openSea:{assets:[],isLoading:!1,hasMore:!1},spotifyTracksItems:{},states:{},streamingObsKey:"",streamingMuxServer:"",streamingMuxKey:"",streamingMuxKeyExpiredAt:null,paymentsLoaded:!1,unavailablePaymentGates:[],hideAfterMassMessages:!1,showFullTextInEmailNotify:!1,isEmailNotificationsEnabled:!1,recommenderReward:null,isAutoFollowBack:!1,isPrivate:void 0,blockedCountries:void 0,blockedStates:void 0,blockedIps:void 0,showPostsTips:void 0,showFriendsToSubscribers:void 0,disableSubscribesOffers:void 0,showSubscribesOffers:void 0,isOldLoginRedirect:void 0,canAcceptMessageOnlyFromFriends:!1,runningActions:[],existedUsernames:{},confirmEmailSentAt:null,sendAwardsTop1:!1,sendAwardsTop5:!1,coStreamingRequestFrom:void 0,isCoStreamingAllowed:!1,socialsConnects:[],phoneOtp:!1,faceOtp:!1,isLoading:!1,messageSettingsNotifications:null,notifyOnAllMentions:!1,commentsOnlyForPayers:!1}),g=p(),y={allSettings:e=>e,userLoginPrefix:(e,t,s)=>s.init.settings.userLoginPrefix,isImageWatermarkNeeded:(e,t,s)=>s.init.settings.isImageWatermarkNeeded,countriesList:e=>e.countries.filter((({id:e})=>![163,19].includes(e))),countriesListAll:e=>e.countries,statesByCounty:e=>t=>e.states[t]||[],spotifyTop:e=>e.spotifyTop,spotifyTopArtistsIds:e=>e.spotifyTop.myTopArtists,spotifyTopArtists:e=>e.spotifyTop.myTopArtists.map((t=>e.spotifyArtistsItems[t])),spotifyTopTracks:e=>e.spotifyTop.myTopTracks.map((t=>e.spotifyTracksItems[t])),spotifyBioTopArtistsIds:e=>e.spotifyBio.topArtists||[],spotifyBioTopArtists:e=>e.spotifyBio.topArtists?e.spotifyBio.topArtists.map((t=>e.spotifyArtistsItems[t])):[],spotifyBioAnthem:e=>e.spotifyBio.anthem,getAutoMessage:e=>e.autoMessage.filter((e=>"reply_on_subscribe"===e.template))[0],hasRunningActions:e=>t=>e.runningActions.includes(t),isNewTipsSettingEnabled:({messageSettingsNotifications:e})=>{if(!e)return null;const t=e.find((({code:e})=>"you_and_your_posts"===e));if(!t)return null;const s=t.items.find((({code:e})=>"new_tips"===e));return s?s.isEnabled:null}},v={switchTheme(e){e.darkMode=!e.darkMode,document.documentElement.classList.toggle("m-mode-dark",e.darkMode),e.darkMode?f.Z.setItem("dark_mode",e.darkMode):f.Z.removeItem("dark_mode")},setCountries(e,t){e.countries=t.map((e=>({...e,hasStatesIso:!0})))},setCountry(e,t){const s=e.countries.findIndex((e=>e.code===t.code));s>-1&&(e.countries[s]=t)},setCountriesLoading(e,t){e.countriesLoading=t},setConfirmEmail(e,t){e.confirmEmailSentAt=t},setStates(e,t){e.states=a()({},e.states,t)},setSettings(e,t){Object.assign(e,t)},setHubToken(e,t){Object.assign(e.activityHubTokens,t)},addHubToken(e,t){e.activityHubTokens.push(t)},deleteHubToken(e,t){e.activityHubTokens=e.activityHubTokens.filter((e=>e.id!==t))},deleteAutoMessage(e,t){e.autoMessage=e.autoMessage.filter((e=>e.template!==t))},setSpotifyTop(e,t){Object.assign(e.spotifyTop,t)},setSpotifyTopArtists(e,t){e.spotifyTop.myTopArtists=t},setSpotifyTopTracks(e,t){e.spotifyTop.myTopTracks=t},setSpotifyBioAnthem(e,t){e.spotifyBio.anthem=t},setSpotifyBioName(e,t){e.spotifyBio.displayName=t},setSpotifyBioTopArtists(e,t){e.spotifyBio.topArtists=t},resetSpotifyBio(){g.spotifyBio={displayName:"",anthem:null,topArtists:[]}},setPaymentsLoaded(e,t){e.paymentsLoaded=t},setUnavailablePaymentGates(e,t){e.unavailablePaymentGates=(t||[]).filter((({status:e})=>"fail"===e)).map((e=>e.name))},setAutoMessage(e,t){e.autoMessage.length?(e.autoMessage.splice(0,1),e.autoMessage.push(t)):e.autoMessage.push(t)},setAutoMessages(e,t){e.autoMessage=t},addRunningActions(e,t){e.runningActions.push(t)},removeRunningActions(e,t){e.runningActions=e.runningActions.filter((e=>e!==t))},setNewEmail(e,t){e.newEmail=t},setSettingField(e,{field:t,status:s}){e[t]=s},setExistedUsernames(e,t={}){e.existedUsernames=t},deleteGoogle(e){e.socialsConnects=e.socialsConnects.filter((e=>"google"!==e.provider))},setIsLoading(e,t){e.isLoading=t},addOpenSeaAssets(e,t){e.openSea.assets=[...e.openSea.assets,...t.assets],e.openSea.hasMore=t.hasMore},setOpenSeaIsLoading(e,t){e.openSea.isLoading=t},clearOpenSeaAssets(e){e.openSea.assets=[],e.openSea.hasMore=!1},setMessageSettingsNotifications(e,t){e.messageSettingsNotifications=t},logout(e){Object.assign(e,p())}},P={async fetchCountries({commit:e,state:t}){try{if(!t.countries.length&&!t.countriesLoading){e("setCountriesLoading",!0);const t=await(0,n.ox)();e("setCountries",t),e("setCountriesLoading",!1)}}catch(s){}},async createConfirmEmail({commit:e}){try{const t=await u();return t&&t.success&&e("setConfirmEmail",t.confirmEmailSentAt),t}catch(t){return(0,h.Po)(t),{}}},async fetchCountriesStates({commit:e},t){try{const s=await(0,n.Yx)(t),r={[t]:s};e("setStates",r)}catch(s){}},async fetchCountriesStatesIso({commit:e},t){try{const s=await(0,n.G)(t.code);if(null!==s&&void 0!==s&&s.length){const r={[t.id]:s};e("setStates",r)}e("setCountry",{...t,hasStatesIso:!1})}catch(s){}},async createHubToken({commit:e}){try{const t=await(0,n.Ei)();e("addHubToken",t)}catch(t){(0,h.Po)(t)}},async fetchUserSettings({commit:e,getters:t}){if(!t.hasRunningActions("fetchUserSettings")){e("addRunningActions","fetchUserSettings");try{const t=await(0,c.nS)();e("setSettings",t)}catch(s){}e("removeRunningActions","fetchUserSettings")}},async deleteHubTokenAction({commit:e},t){let s;try{var r;s=await(0,n.F2)(t),null!==(r=s)&&void 0!==r&&r.success&&e("deleteHubToken",t)}catch(a){}return s},async fetchSpotifyTop({commit:e}){try{const t=await(0,l.q6)();if(t){if(t.myTopArtists){const s=(0,i.Fv)(t.myTopArtists,m.W4);e("set",s,{root:!0}),e("setSpotifyTopArtists",s.result)}if(t.myTopTracks){const s=(0,i.Fv)(t.myTopTracks,m.zA);e("set",s,{root:!0}),e("setSpotifyTopTracks",s.result)}}}catch(t){}},async fetchSpotifyTopArtists({commit:e}){try{const t=await(0,l.$d)(),s=(0,i.Fv)(t,m.W4);e("set",s,{root:!0}),e("setSpotifyTopArtists",s.result)}catch(t){}},async fetchSpotifyTopTracks({commit:e}){try{const t=await(0,l.Zo)(),s=(0,i.Fv)(t,m.zA);e("set",s,{root:!0}),e("setSpotifyTopTracks",s.result)}catch(t){}},async fetchSpotifyBio({commit:e},t){try{const s=await(0,l.U1)(t);if(s.topArtists){const t=(0,i.Fv)(s.topArtists,m.W4);e("set",t,{root:!0}),e("setSpotifyBioTopArtists",t.result)}else e("setSpotifyBioTopArtists",null);e("setSpotifyBioAnthem",s.anthem),e("setSpotifyBioName",s.displayName)}catch(s){}},async fetchSpotifySearch({commit:e},t){if(t)try{const s=await(0,l.MO)(t),r=(0,i.Fv)(s,m.zA);e("set",r,{root:!0}),e("setSpotifyTopTracks",r.result)}catch(s){}},async sendSpotifyArtists({commit:e},t){let s;try{var r;s=await(0,l.tf)(t),null!==(r=s)&&void 0!==r&&r.success&&e("setSpotifyBioTopArtists",t)}catch(a){(0,h.Po)(a)}return s&&s.success},async sendSpotifyAnthem(e,t){try{const e=await(0,l.JT)(t);return e&&e.success}catch(s){(0,h.Po)(s)}return!1},async saveAutoMessage({commit:e},t){try{const s=await(0,n._p)(t);s&&e("setAutoMessage",s)}catch(s){(0,h.Po)(s)}},async fetchAutoMessageTemplate({commit:e}){const t=await(0,n.Zt)();return e("setAutoMessages",t),t},async deleteAutoMessageTemplate({commit:e},t){let s;try{var r;s=await(0,n.vY)(t),null!==(r=s)&&void 0!==r&&r.success&&e("deleteAutoMessage",t)}catch(a){}return s},async updateUserSettingsMessages({commit:e},t){try{const s=await(0,n.Hz)(t);return s&&e("setSettings",s),!0}catch(s){(0,h.Po)(s)}return!1},async disableGoogle({commit:e}){try{const t=await(0,c.z6)({network:"google"});t.success&&e("deleteGoogle")}catch(t){(0,h.Po)(t)}},async addOpenSeaWallet({dispatch:e},t){try{const{success:s}=await(0,o.$z)(t);s&&await e("fetchUserSettings")}catch(s){(0,h.Po)(s)}},async deleteOpenSeaWallet({commit:e,dispatch:t}){try{const{success:s}=await(0,o.m_)();s&&(e("clearOpenSeaAssets"),t("auth/fetchUserMe",null,{root:!0}),t("fetchUserSettings"))}catch(s){(0,h.Po)(s)}},async fetchOpenSeaAssets({commit:e,state:t},s=!1){try{e("setOpenSeaIsLoading",!0);const r=s?await(0,o.bm)({offset:t.openSea.assets.length,limit:9}):await(0,o.GK)({offset:t.openSea.assets.length,limit:9});e("addOpenSeaAssets",r)}catch(r){(0,h.Po)(r)}finally{e("setOpenSeaIsLoading",!1)}},async setOpenSeaAvatar({dispatch:e},t){try{const{success:s}=await e("users/patchUser",{avatar:{opensea:t}},{root:!0});if(s)return e("auth/fetchUserMe",null,{root:!0}),!0}catch(s){return(0,h.Po)(s),!1}},async setOpenSeaNfts({commit:e,dispatch:t,rootGetters:s},r){try{const a=await(0,o.Pt)({ids:r});if(a.success){const r=s["auth/authUser"];return e("users/setHasNft",{userId:r.id,hasNft:a.hasNft},{root:!0}),e("clearOpenSeaAssets"),await t("fetchOpenSeaAssets",!0),!0}}catch(a){return(0,h.Po)(a),!1}},async resetObsKey({commit:e}){try{const t=await(0,n.ar)();t.streamingObsKey&&e("setSettings",t)}catch(t){(0,h.Po)(t)}},async generateStreamingToken({commit:e},t){try{const s=await(0,n.ar)(t);e("setSettings",s)}catch(s){(0,h.Po)(s)}},async fetchMessageSettingsNotifications({commit:e}){try{const t=await(0,n.Xg)("message");e("setMessageSettingsNotifications",t)}catch(t){}}}},556208:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return u},mutations:function(){return d},state:function(){return c}});var r=s(532622);const a=({userId:e})=>r.ZP.get(`${r.tW}/users/${e}/shopify/stores`).then((({data:e})=>e)),i=e=>r.ZP["delete"](`${r.tW}/shopify/stores/${e}`).then((e=>e.data)),n=e=>r.ZP.get(`${r.tW}/users/${e}/shopify/products`).then((e=>e.data)),o=()=>({loading:!1,stores:[],shopifyProducts:[]}),c=o(),d={setShopifyStores(e,t=[]){e.stores=t},setLoading(e,t){e.loading=t},addShopifyStore(e,t){e.stores.push(t)},removeShopifyStore(e,t){e.stores=e.stores.filter((e=>e.id!==t))},setShopifyProducts(e,t=[]){e.shopifyProducts=t},logout(e){Object.assign(e,o())}},u={fetchShopifyStores:async({commit:e,rootState:t},{userId:s}={})=>{e("setLoading",!0),e("setShopifyStores");try{s=s||t.auth.user;const r=await a({userId:s});Array.isArray(r)&&r.length&&e("setShopifyStores",r)}catch(r){}e("setLoading",!1)},deleteShopifyStore:async({commit:e},t)=>{try{await i(t)&&e("removeShopifyStore",t)}catch(s){}},async fetchShopifyProducts({commit:e,rootState:t},s){e("setShopifyProducts");try{const r=await n(s||t.auth.user);Array.isArray(r)&&r.length&&e("setShopifyProducts",r)}catch(r){Sentry.captureException(r)}}}},325928:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return b},getters:function(){return P},mutations:function(){return w},state:function(){return v}});var r=s(845220),a=s.n(r),i=s(227361),n=s.n(i),o=(s(333948),s(141817),s(727484)),c=s.n(o),d=s(782677),u=s(198225),l=s(999023),m=s(243168),h=s(427166),f=s(310569);const p=()=>Promise.all([s.e(30306),s.e(83268),s.e(47705),s.e(49342)]).then(s.bind(s,181159)),g=()=>s.e(61972).then(s.bind(s,661972)),y=()=>({isOpened:!1,isConnected:!1,reconnectError:!1,countOnlineRequests:0,toastsThrottle:0,openedWithErrorState:!1}),v=y(),P={socketOpened:e=>e.isOpened,socketConnected:e=>e.isConnected,socketReconnectError:e=>e.reconnectError,countOnlineRequests:e=>e.countOnlineRequests,socketOpenedWithErrorState:e=>e.openedWithErrorState};let S;const w={SOCKET_ONOPEN(e,t){const{readyState:s,OPEN:r,CONNECTING:a}=t.currentTarget;[r,a].includes(s)?(e.isOpened=!0,e.openedWithErrorState=!1):(e.isOpened=!1,e.openedWithErrorState=s)},SOCKET_ONCLOSE(e){e.isOpened=!1,e.isConnected=!1,e.openedWithErrorState=!1},SOCKET_ONERROR(){},SOCKET_RECONNECT(){},SOCKET_RECONNECT_ERROR(e){e.reconnectError=!0},incCountOnlineRequests(e){e.countOnlineRequests+=1},decrCountOnlineRequests(e){e.countOnlineRequests-=1},socketSetConnected(e){e.countOnlineRequests=0,e.isConnected=!0,e.openedWithErrorState=!1},setToastsThrottle(e,t){e.toastsThrottle=t},socketResetReconnectError(){v.reconnectError=!1},logout(e){Object.assign(e,y())}},b={async SOCKET_ONMESSAGE({commit:e,dispatch:t,rootState:s,rootGetters:r,state:i},o){if(o&&o.data){const{data:b}=o,I=u.ZP.$route.name;let k;try{k=JSON.parse(b)}catch(w){Sentry.captureException(w)}const C=document.activeElement&&document.activeElement.tagName&&("INPUT"===document.activeElement.tagName&&"text"===document.activeElement.type||"TEXTAREA"===document.activeElement.tagName);if(k){if(7===k.error)return t("auth/fetchUserAuthToken",{},{root:!0}),void u.ZP.$socket.close();"function"===typeof doPong&&doPong(k);const o=r["auth/authUserId"],b=r["auth/authUser"];if(k.connected&&e("socketSetConnected"),void 0!==k.online&&(e("users/setOnline",k.online,{root:!0}),e("decrCountOnlineRequests")),k.account_connect&&t("users/addConnectedAccount",{userData:{connectedUser:k.account_connect.user,canConnectOfAccount:k.account_connect.canConnect}},{root:!0}),k.account_disconnect&&e("users/removeConnectedAccount",{userId:o,accountId:k.account_disconnect.userId,userData:{canConnectOfAccount:k.account_disconnect.canConnect,success:!0}},{root:!0}),k.account_switch)try{const e=await(0,l.MD)(),{id:t}=e;null!==t&&t===k.account_switch.user_id||(window.showPreloader(),u.ZP.$emit("removeAllBeforeUnloadListeners"),u.ZP.$nextTick((()=>{window.location.reload()})))}catch(w){}if(k.api2_chat_message){const r=k.api2_chat_message,i=+r.id,c={...r,id:i},l=c.fromUser||c.toUser;l&&(c.chatId=l.id),l.id=+l.id;const h=!!c.toUser;delete c.toUser,c.fromUser||(c.fromUser={id:o}),"Chat"===I&&+n()(u.ZP,"$route.params.chatId",0)===+l.id&&(c.needMarkChatAsRead=!0);const f=(0,d.Fv)(c,m.w1);e("set",f,{root:!0}),await t("users/getUsersIfNeeded",{entities:{users:{[l.id]:{_views:["m"]}}}},{root:!0});const p=f.result,{currentFiltersIds:g}=s.usersLists,y=n()(l,"listsStates",!1),v=!y||y.some((e=>g[0]===e.id&&e.hasUser)),P=!(!r.isTip&&g.includes("who_tipped"))||!(r.isFromQueue&&g.includes("priority"));!s.chats.chats.includes(l.id)&&P&&v&&e("chats/addChats",{ids:[l.id]},{root:!0}),(!c.isFromQueue||c.isFromQueue&&"Chat"===I&&+n()(u.ZP,"$route.params.chatId",0)===+c.fromUser.id)&&t("chats/newMessageFromSocket",{id:l.id,messageIds:p,add:!0,before:!1,ownMsg:h,isSocket:!0,listsStates:l.listsStates||[]},{root:!0}),e("chats/setChatTyping",{chatId:l.id,status:!1},{root:!0}),e("chats/setLastMessage",{chatId:l.id,messageId:p,ownMsg:h,isNew:c.isNew},{root:!0});const S=n()(r,"fromUser.id",null);!r.isFromQueue||a()(S)||a()(o)||S!==o||u.ZP.$root.$emit("updateScheduledMessage",r),e("chats/setNewMessageIds",l.id,{root:!0});const w=s.schedule.items.find((({entity:e})=>e.id===i)),b=s.schedule.dayItems.find((({entity:e})=>e.id===i)),C=(w&&!w.entity.isMediaReady||b&&!b.entity.isMediaReady)&&r.isMediaReady;"MyQueue"!==I&&"Feed"!==I||!C||(e("schedule/updateScheduledEvent",r,{root:!0}),e("schedule/setItemsByDate",{},{root:!0}),e("schedule/updateDayItemScheduledEvent",r,{root:!0}))}if(k.chat_queue_finish){const s=+k.chat_queue_finish.id;k.chat_queue_finish.isCanceled?t("chats/delMessagesQueue",{id:s},{root:!0}):k.chat_queue_finish.isDone&&t("chats/fetchMessagesQueue",{},{root:!0}),t("schedule/fetchEventsCounters",{params:{"filter[publishDate]":c()().format("YYYY-MM-DD")}},{root:!0}),e("schedule/messagePublished",s,{root:!0}),e("schedule/setItemsByDate",{},{root:!0}),u.ZP.$root.$emit("updateChatsList")}if(void 0!==k.sflSyncInProcess&&"MyQueue"===I&&u.ZP.$root.$emit("sflSyncProcessFinished"),void 0!==k.chat_messages&&e("users/setChatMessagesCount",{userId:s.auth.user,chatMessagesCount:k.chat_messages},{root:!0}),void 0!==k.count_priority_chat&&e("users/setChatPriorityCount",{userId:s.auth.user,countPriorityChat:k.count_priority_chat},{root:!0}),void 0!==k.unread_tips&&e("users/setUnreadTips",{userId:s.auth.user,value:k.unread_tips},{root:!0}),k.chat_queue_update&&u.ZP.$root.$emit("update_queue"),void 0!==k.chat_message_delete){const s=r["chats/getMessage"](k.chat_message_delete),a=s&&s.chatId,i=!!s&&s.isPinned;if(e("chats/deleteMessageById",k.chat_message_delete,{root:!0}),a&&i){e("chats/setChatMessagesPinnedCount",{chatId:a,value:!1},{root:!0});const s=r["chats/getChat"](a);s&&0===s.countPinnedMessages&&t("users/updateChatPinnedCount",{status:-1},{root:!0})}}if(void 0!==k.chat_message_like&&e("chats/setMessageIsLiked",{messageId:k.chat_message_like,value:!0},{root:!0}),void 0!==k.chat_message_unlike&&e("chats/setMessageIsLiked",{messageId:k.chat_message_unlike,value:!1},{root:!0}),void 0!==k.addShopifyStore&&e("shopify/addShopifyStore",k.addShopifyStore,{root:!0}),void 0!==k.dropShopifyStore&&e("shopify/removeShopifyStore",k.dropShopifyStore.id,{root:!0}),void 0!==k.messages&&e("users/setUserNotificationsCount",{userId:s.auth.user,notificationsCount:k.messages,hasSystemNotifications:k.hasSystemNotifications},{root:!0}),k.new_message&&(s.users.notificationsType&&(e("users/setNotifications",{notifications:[k.new_message],more:!1,unread:!0},{root:!0}),e("users/setNotificationsCountsByType",k.new_message.type,{root:!0})),s.users.notificationsType!==k.new_message.type&&s.users.notificationsType!==f.C6||(e("users/setUserNotificationsCount",{userId:s.auth.user,notificationsCount:s.users.notificationsCounts.all},{root:!0}),t("users/setNotificationsReadByType",s.users.notificationsType,{root:!0}))),void 0!==k.typing&&(S&&clearInterval(S),e("chats/setChatTyping",{chatId:k.typing.id,status:!0},{root:!0}),S=setTimeout((()=>{e("chats/setChatTyping",{chatId:k.typing.id,status:!1},{root:!0})}),5e3)),void 0!==k.stream){const{stream:t}=k,s=+t.id;return void("Feed"===I&&e("schedule/updateReminder",{id:s,fields:{price:t.price,description:t.description,scheduledAt:t.scheduledAt,startedAt:t.startedAt}},{root:!0}))}if(void 0!==k.stream_remove){const{stream_remove:t}=k,s=+t.id;return e("schedule/removeFromReminder",s,{root:!0}),void e("streams/removeItem",s,{root:!0})}if(void 0!==k.stream_start){const a=k.stream_start,i=+a.userId,n=+a.stream_id;if(e("users/setUserField",{userId:i,field:"hasStream",status:!0},{root:!0}),("Profile"===I||"ProfileInner"===I)&&r["users/userId"]===i||"Feed"===I||"Purchased"===I||"Blurred"===I||"StreamingChat"===I&&i===o){if(await t("streams/fetchUserStream",i,{root:!0}),e("streamsScheduled/removeIds",[n],{root:!0}),"StreamingChat"===I){const{local:e,streamingChatEnabled:a}=s.streaming;if(!e.stream.id&&!a){const e=r["streams/streamsByUserId"],s=e[i];s&&s.isActive&&(s.user=r["users/getUser"](s.user),await t("streaming/enableStreamingChat",s,{root:!0}))}}"Feed"===I&&e("schedule/updateReminder",{id:n,fields:{isActive:!0}},{root:!0})}return}if(void 0!==k.stream_update){const{stream_update:r}=k,a=s.live.streams;"Feed"===I&&e("schedule/updateReminder",{id:r.id,fields:{price:r.price,description:r.description,scheduledAt:r.scheduledAt,startedAt:r.startedAt}},{root:!0}),e("streams/updateItem",r,{root:!0}),"Live"===I&&a[r.user.id]&&(+r.primaryPartnerUserId===+r.user.id?t("live/setStreamData",r,{root:!0}):t("live/setUserStreamData",r,{root:!0}));const{local:i,partners:n}=s.streaming;if(+r.id===+i.stream.id)t("streaming/setStreamData",r,{root:!0});else if(n[r.user.id]){const e=+r.primaryPartnerUserId===+r.user.id?"primary":"partner";t("streaming/setPartnerUserStreamData",{instance:r.user.id,streamData:r,partnerType:e,applyTips:!0},{root:!0})}return}if(void 0!==k.stream_stop){var y;const r=k.stream_stop,a=+r.stream_user_id,i=+r.stream_id;t("streams/removeStreamFromFeed",{userId:a},{root:!0}),e("users/setUserField",{userId:a,field:"hasStream",status:!1},{root:!0});const n=s.live.streams;n[a]&&"beforeStart"===n[a].streamState&&e("live/setStreamState",{value:"stopped",instance:a},{root:!0});const{streamingChatEnabled:c,local:d}=s.streaming;c&&a===o&&i===(null===(y=d.stream)||void 0===y?void 0:y.id)&&t("streaming/disableStreamingChat",{},{root:!0}),a===o&&i&&u.ZP.$bvToast.hide(`ScheduledStreamNotificationToast_${i}`);const l=s.schedule.reminders.find((e=>e.id===i));return void(l&&t("schedule/fetchReminders",{},{root:!0}))}if(void 0!==k.stream_comment){const e=k.stream_comment,{local:a}=s.streaming,i=r["live/primary"],n=r["streaming/primary"],o=s.streaming.mode||s.live.mode,c={id:e.comment_id,text:e.comment,user:e.user,isPrivate:!!e.isPrivate};switch(o){case"live":case"dual-live":+e.stream_user_id===+i.user.id&&t("live/addComment",c,{root:!0});break;case"streaming":case"dual-streaming":a.stream.id&&+e.stream_user_id===+n.user.id&&t("streaming/addComment",c,{root:!0});break;default:break}return}if(void 0!==k.stream_comment_error){const e=k.stream_comment_error;switch(e.errorType){case"bad_words":u.ZP.$bvToast.toast(u.ZP.$root.$t("message.stream_comment_error_restricted_message",{WORDS:e.badWords.join(", ")}),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-right"});break;case"empty_comment":u.ZP.$bvToast.toast(u.ZP.$root.$t("message.stream_comment_error_empty_message"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-right"});break;default:break}return}if(void 0!==k.stream_tips){const a=k,{stream_tips:i}=a;if(i.stream_user_id=+i.stream_user_id,i.stream_id=+i.stream_id,!["Streaming","Live","StreamingChat"].includes(I))return;if(!i.amount)return;const{local:n}=s.streaming,c=s.streaming.mode||s.live.mode;let d;switch(c){case"live":case"dual-live":({streams:d}=s.live),d[i.stream_user_id]&&(e("live/setStreamStream",{stream:{tipsSumm:+parseFloat(a.tips_summ).toFixed(2)},instance:i.stream_user_id},{root:!0}),t("live/addTipsComment",i,{root:!0}),+a.is_show_tips_goal&&t("live/setTipGoal",{data:{isShowTipGoal:!!+a.is_show_tips_goal,description:a.tips_goal,progress:+a.tips_goal_progress,sum:+a.tips_goal_sum},instance:i.stream_user_id},{root:!0}));break;case"streaming":+n.stream.id===+i.stream_id&&+n.user.id===+o&&(t("streaming/addTips",i,{root:!0}),+n.stream.id===+i.stream_id&&e("streaming/setLocalStream",{tipsSumm:+parseFloat(a.tips_summ).toFixed(2)},{root:!0}),e("streaming/setTipGoal",{sum:+a.tips_goal_sum,progress:+a.tips_goal_progress,description:a.tips_goal},{root:!0}));break;case"dual-streaming":d=r["streaming/streams"],d[i.stream_user_id]&&(t("streaming/addTips",i,{root:!0}),+n.stream.id===+i.stream_id?(e("streaming/setLocalStream",{tipsSumm:+parseFloat(a.tips_summ).toFixed(2)},{root:!0}),e("streaming/setTipGoal",{sum:+a.tips_goal_sum,progress:+a.tips_goal_progress,description:a.tips_goal},{root:!0})):(e("streaming/setPartnerStream",{stream:{tipsSumm:+parseFloat(+a.tips_summ||+a.tips_goal_progress).toFixed(2)},instance:i.stream_user_id},{root:!0}),+a.tips_goal_sum>0&&e("streaming/setPartnerTipGoal",{data:{isShowTipGoal:!!+a.is_show_tips_goal,sum:+a.tips_goal_sum,progress:+a.tips_goal_progress,description:a.tips_goal},instance:i.stream_user_id},{root:!0})));break;default:break}return}if(void 0!==k.stream_look){const{stream_look:a}=k,i=s.streaming.mode||s.live.mode,n=r["live/primary"],{local:o}=s.streaming;switch(i){case"live":case"dual-live":if(!n||+n.user.id!==+a.stream_user_id)return;e("live/setTotalViewers",a.total,{root:!0}),t("live/joinUser",a.user,{root:!0});break;case"streaming":case"dual-streaming":if(+a.stream_user_id!==+o.user.id)return;+a.user.id!==+o.user.id&&(e("streaming/setViewersCount",a.total,{root:!0}),t("streaming/joinUser",a.user,{root:!0}));break;default:break}return}if(void 0!==k.stream_unlook){const{stream_unlook:a}=k,i=s.streaming.mode||s.live.mode,n=r["live/primary"],{local:o}=s.streaming;switch(i){case"live":case"dual-live":if(!n||+n.user.id!==+a.stream_user_id)return;t("live/leaveUser",a.user,{root:!0}),+n.user.id===+a.stream_user_id&&e("live/setTotalViewers",a.total,{root:!0});break;case"streaming":case"dual-streaming":if(+a.stream_user_id!==+o.user.id)return;+a.user.id!==+o.user.id&&(e("streaming/setViewersCount",a.total,{root:!0}),t("streaming/leaveUser",a.user,{root:!0}));break;default:break}return}if(void 0!==k.stream_like){const{stream_like:e}=k,{local:a}=s.streaming,i=r["live/primary"];a.stream.id&&t("streaming/addLike",{x:e.x,y:e.y,streamUserId:+e.stream_user_id},{root:!0}),i&&t("live/addLike",{x:e.x,y:e.y,streamUserId:+e.stream_user_id},{root:!0})}if(void 0!==k.stream_helper){const{streamId:t,helperUserIds:a}=k.stream_helper,{local:i}=s.streaming,n=r["streaming/partnersArray"],{streams:o}=s.live;(i.stream.id==t||n.some((e=>e.stream.id==t)))&&e("streaming/updateStreamHelpers",a,{root:!0}),Object.values(o).some((e=>e.stream.id==t))&&e("live/updateStreamHelpers",a,{root:!0})}if(void 0!==k.co_stream){const{co_stream:e}=k;if("request"===e.status){const{local:t,viewers:r,users:a}=s.streaming,i=r.ids.find((t=>t===+e.userId));a[i]&&+e.streamId==t.stream.id&&u.ZP.$root.$emit("show:co-stream:request",{user:a[i],streamId:t.stream.id})}if("accept"===e.status){var v,P;const s=r["live/primary"];null!==s&&void 0!==s&&null!==(v=s.stream)&&void 0!==v&&v.id&&null!==s&&void 0!==s&&null!==(P=s.user)&&void 0!==P&&P.id&&s.stream.id===+(null===e||void 0===e?void 0:e.streamId)&&s.user.id===+(null===e||void 0===e?void 0:e.userId)&&t("live/switchToDualStreaming",{},{root:!0})}if("decline"===e.status){const{streamId:t,userId:s}=e;u.ZP.$root.$emit("show:co-stream:decline",{userId:s,streamId:t})}}if(void 0!==k.muted){const t=k.muted.user_id,{state:s}=k.muted,r=+s;e("chats/setMuted",{id:t,status:r},{root:!0}),e("users/setUserField",{userId:t,field:"canReceiveChatMessage",status:!s},{root:!0})}if(void 0!==k.post_expire&&e("posts/deletePost",k.post_expire,{root:!0}),void 0!==k.post_published){const r=+k.post_published.id,a=+k.post_published.user_id;if(k.post_published.show_posts_in_feed&&t("posts/postPublished",{id:r,userId:a},{root:!0}),a===o){const a=s.schedule.items.some((({entity:e})=>e.id===r)),i=s.schedule.dayItems.some((({entity:e})=>e.id===r)),n=s.savedForLater.itemsSFL.some((({entity:e})=>e.id===r));"Feed"===I&&a&&(e("schedule/clearAgendaItems",{},{root:!0}),t("schedule/fetchEventsDetailed",{params:{limit:4,"filter[publishDate]":c()().format("YYYY-MM-DD")}},{root:!0})),"MyQueue"===I&&(a||i)&&(t("schedule/fetchEventsCounters",{params:{"filter[publishDate]":c()().format("YYYY-MM-DD")}},{root:!0}),e("schedule/postPublished",r,{root:!0}),e("schedule/setItemsByDate",{},{root:!0})),"SavedForLater"===I&&n&&e("savedForLater/postPublished",r,{root:!0})}}if(void 0!==k.post_updated){const e=+k.post_updated;["Feed","Post","Profile","ProfileInner","PostsEdit"].includes(I)&&t("posts/fetchPost",{id:e,onlyExisted:!0},{root:!0}),t("schedule/updatePost",e,{root:!0}),t("savedForLater/updateSFLPost",e,{root:!0})}if(void 0!==k.post_fundraising_updated&&e("posts/updatePost",k.post_fundraising_updated,{root:!0}),k.toasts&&!C&&!document.hidden){const{toasts:t}=k;if(["Streaming","Live","StreamingChat"].includes(I))return;t.forEach((async t=>{const s=+new Date;if(i.toastsThrottle&&i.toastsThrottle+5e3>s)return;e("setToastsThrottle",s);const r="streams_reminder"===t.type,a=u.ZP.$createElement,n=await p();let o=n.default,c=t,d={autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"};if(r){const e=await g();o=e.default,c={scheduledAt:t.data.replacements["{STREAM_PUBLISH_DATE}"],id:+t.data.replacements["{STREAM_ID}"],description:t.data.replacements["{STREAM_DESCRIPTION}"],media:{files:{thumb:{url:t.data.replacements["{STREAM_COVER}"]}}}};const s=`ScheduledStreamNotificationToast_${c.id}`;d={...d,id:s,noAutoHide:!0,toastClass:"m-without-timer"},u.ZP.$bvToast.hide(s)}const l=a(o,{props:{toast:c}});u.ZP.$bvToast.toast([l],d)}))}if(k.logout&&o&&!s.auth.logoutInProgress)try{const s=await(0,l.MD)(),{id:r}=s;null!==r&&r===k.user_id||(e("auth/setLogoutInProgress",!0,{root:!0}),u.ZP.$router.push({name:"Feed",params:{isLogout:!0}}),t("logout",{},{root:!0}))}catch(w){}k.has_new_alerts&&t("users/fetchAlert",{},{root:!0}),k.has_new_hints&&t("users/fetchHints",{},{root:!0});const T=o;if(void 0!==k.creditBalance&&e("users/setUserField",{userId:T,field:"creditBalance",status:k.creditBalance},{root:!0}),void 0!==k.isRealCardConnected&&(e("users/setUserField",{userId:T,field:"isRealCardConnected",status:k.isRealCardConnected},{root:!0}),e("users/setUserField",{userId:T,field:"isPaymentCardConnected",status:k.isRealCardConnected},{root:!0})),void 0!==k.payoutLegalApproveState){const s="approved"===k.payoutLegalApproveState;e("users/setUserField",{userId:T,field:"payoutLegalApproveState",status:k.payoutLegalApproveState},{root:!0}),e("users/setUserField",{userId:T,field:"payoutLegalApproveRejectReason",status:k.payoutLegalApproveRejectReason},{root:!0}),e("users/setUserField",{userId:T,field:"isPayoutLegalApproved",status:s},{root:!0}),e("users/setUserField",{userId:T,field:"payoutType",status:k.payoutType},{root:!0}),e("users/setUserField",{userId:T,field:"hasStripe",status:k.hasStripe},{root:!0}),e("users/setUserField",{userId:T,field:"canEarn",status:k.canEarn},{root:!0}),s&&t("auth/fetchUserMe",null,{root:!0})}if(void 0!==k.canReceiveManualPayout&&e("users/setUserField",{userId:T,field:"canReceiveManualPayout",status:k.canReceiveManualPayout},{root:!0}),void 0!==k.needUpdateBanking&&e("users/setUserField",{userId:T,field:"needUpdateBanking",status:k.needUpdateBanking},{root:!0}),void 0!==k.canReceiveStripePayout&&e("users/setUserField",{userId:T,field:"canReceiveStripePayout",status:k.canReceiveStripePayout},{root:!0}),k=(0,h.P)(k),void 0!==k.needIVApprove&&e("users/setUserField",{userId:T,field:"needIVApprove",status:k.needIVApprove},{root:!0}),void 0!==k.canCheckDocsByIV&&u.ZP.$root.$emit("msg",{canCheckDocsByIV:k.canCheckDocsByIV}),void 0!==k.canCheckDocsBySecondaryIV&&u.ZP.$root.$emit("msg",{canCheckDocsBySecondaryIV:k.canCheckDocsBySecondaryIV}),void 0!==k.paymentLocalUniqueId&&u.ZP.$root.$emit(`msg::paymentLocalUniqueId::${k.paymentLocalUniqueId}`,k.timestamp),void 0!==k.faceIdOtp&&u.ZP.$root.$emit("msg::faceIdOtp",k.faceIdOtp),void 0!==k.forceFaceIdOtp&&e("users/setUserField",{userId:T,field:"forceFaceOtp",status:k.forceFaceIdOtp},{root:!0}),void 0!==k.confirmed_email&&(e("users/setUserField",{userId:T,field:"isEmailChecked",status:k.confirmed_email===b.email},{root:!0}),e("users/deleteUserHint","email_verification",{root:!0})),k.releaseForm&&u.ZP.$root.$emit("msg",{releaseForm:k.releaseForm}),void 0!==k.ivStatus&&(u.ZP.$root.$emit("msg",{ivStatus:k.ivStatus}),e("users/setUserField",{userId:T,field:"ivStatus",status:k.ivStatus},{root:!0})),void 0!==k.isAgeVerified&&(u.ZP.$root.$emit("msg",{isAgeVerified:k.isAgeVerified}),e("users/setUserField",{userId:T,field:"isAgeVerified",status:k.isAgeVerified},{root:!0})),void 0!==k.ageVerificationRequired&&(u.ZP.$root.$emit("msg",{ageVerificationRequired:k.ageVerificationRequired}),!k.ageVerificationRequired&&null!==b&&void 0!==b&&b.ageVerificationRequired&&u.ZP.$root.$emit("authUser::age::verified"),e("users/setUserField",{userId:T,field:"ageVerificationRequired",status:k.ageVerificationRequired},{root:!0})),void 0!==k.ivFlow&&(u.ZP.$root.$emit("msg",{ivFlow:k.ivFlow}),e("users/setUserField",{userId:T,field:"ivFlow",status:k.ivFlow},{root:!0})),void 0!==k.ivCountry&&(u.ZP.$root.$emit("msg",{ivCountry:k.ivCountry}),e("users/setUserField",{userId:T,field:"ivCountry",status:k.ivCountry},{root:!0})),void 0!==k.ivFailReason&&(u.ZP.$root.$emit("msg",{ivFailReason:k.ivFailReason}),e("users/setUserField",{userId:T,field:"ivFailReason",status:k.ivFailReason},{root:!0})),void 0!==k.stories){const e=k.stories.length?k.stories[0]:{};t("stories/storySocketUpdate",e,{root:!0})}if(k.hide_stories_user){const t=+n()(k,"hide_stories_user.user_id");if(!t)return;e("users/setUserField",{userId:t,field:"hasStories",status:!1},{root:!0}),e("users/setUserField",{userId:t,field:"hasNotViewedStory",status:!1},{root:!0}),e("users/setUserField",{userId:t,field:"canLookStory",status:!1},{root:!0}),e("stories/hideUserStories",{userId:t},{root:!0})}if(k.unhide_stories_user){const e=+n()(k,"unhide_stories_user.user_id");if(!e)return;t("users/fetchUser",{id:e},{root:!0}),"Feed"===I&&t("stories/addUserStoriesOnFeed",e,{root:!0}),"Profile"===I&&s.users.currentUser===e&&(t("stories/fetchUserStories",e,{root:!0}),t("stories/fetchUserHighlights",{userId:e,place:"profile"},{root:!0}))}if(void 0!==k.template){const t={...k.template};e("settings/setAutoMessage",t,{root:!0})}if(k.price_changed&&+k.price_changed.user_id!==o&&t("subscribes/fetchSubscribes",{limit:0,type:"changed",more:!0},{root:!0}),void 0!==k.subscribed){const{subscribed:e}=k;if(["Streaming","StreamingChat"].includes(I)){const{local:r,viewers:a}=s.streaming;r.stream.id&&a.ids.find((t=>t===+e.user.id))&&t("streaming/addSubscribedComment",e.user,{root:!0})}}if(k.tickets_comment_count){const{id:t,count:s}=k.tickets_comment_count;e("static/setTicket",{id:t,ticket:{hasNewReplies:!!s,commentCount:s}},{root:!0})}if(void 0!==k.hasNewTicketReplies&&e("users/setUserField",{userId:T,field:"hasNewTicketReplies",status:k.hasNewTicketReplies},{root:!0}),k.queueStats){const{id:t,viewedCount:s,sentCount:r}=k.queueStats;e("massMessagesStat/setMessage",{id:t,viewedCount:s,sentCount:r},{root:!0})}if(void 0!==k.ageVerificationSession&&e("users/setUserField",{userId:T,field:"ageVerificationSession",status:k.ageVerificationSession},{root:!0}),void 0!==k.block_user){const a=+k.block_user.subscriber_id,i=+k.block_user.user_id;if(o===i){e("users/toggleUsersBlockedBy",{userId:a,value:!0},{root:!0});const s=r["chats/getChat"](a);s&&s.countPinnedMessages>0&&t("users/updateChatPinnedCount",{status:-1},{root:!0}),e("chats/deleteChat",a,{root:!0})}o===a&&(e("users/unsetUser",i,{root:!0}),s.users.currentUser===i&&(e("users/setCurrentUser",null,{root:!0}),e("users/setProfileDataLoadingError",!0,{root:!0})),"Chat"===I&&u.ZP.$route.params&&+u.ZP.$route.params.chatId===i&&t("chats/fetchChat",i,{root:!0}))}if(void 0!==k.writable_chat){const e=+k.writable_chat.user_id;t("chats/fetchChat",e,{root:!0}),t("users/fetchUser",{id:e},{root:!0})}if(void 0!==k.readonly_chat){const e=+k.readonly_chat.user_id;t("chats/fetchChat",e,{root:!0}),t("users/fetchUser",{id:e},{root:!0})}void 0!==k.faceId&&(k.faceId.result?u.ZP.$root.$emit("confirmSecurityCheck"):k.faceId.message&&alert(k.faceId.messaged)),void 0!==k.require_terms&&e("users/setUserField",{userId:T,field:"requireTerms",status:k.require_terms},{root:!0}),void 0!==k.update_pinned_chats_counter&&e("users/setUserField",{userId:o,field:"countPinnedChat",status:k.update_pinned_chats_counter},{root:!0}),void 0!==k.need_a_tag_count&&e("users/setUserField",{userId:o,field:"needTagCount",status:k.need_a_tag_count},{root:!0}),Array.isArray(k.sync_duplicated_release_forms)&&"Feed"===I&&s.usersLists.feedFiltersIds.includes("need-tag")&&k.sync_duplicated_release_forms.forEach((({entity_id:t})=>{e("posts/deletePost",t,{root:!0})})),void 0!==k.isPaywallPassed&&e("users/setUserField",{userId:o,field:"isPaywallPassed",status:k.isPaywallPassed},{root:!0})}}}}},487979:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return m},getters:function(){return u},mutations:function(){return l},state:function(){return d}});s(333948);var r=s(865273),a=s(532622),i=s(927598),n=s(727484),o=s.n(n);const c=()=>({balances:{},stripeBalances:{},earnings:[],disputes:[],payoutRequests:[],documentsVat:[],stripeData:{currentStep:0,lastPayoutId:null,hasMore:!0},payoutStatistics:{},earningsLoading:!1,payoutRequestsLoading:!1,documentsVatLoading:!1,disputesMarker:void 0,earningsMarker:void 0}),d=c(),u={},l={setEarningsLoading(e,t){e.earningsLoading=t},setPayoutRequestsLoading(e,t){e.payoutRequestsLoading=t},setDocumentsVatLoading(e,t){e.documentsVatLoading=t},setBalances(e,{balances:t,isStripe:s}){s?e.stripeBalances=t:e.balances=t},setEarnings(e,{items:t=[],more:s=!1}={}){e.earnings=s?[...e.earnings,...t]:[...t],e.earnings=(0,i.Z)(e.earnings)},setPayoutRequests(e,{items:t,more:s}){e.payoutRequests=s?[...e.payoutRequests,...t]:[...t]},setDocumentsVat(e,{items:t,more:s}){e.documentsVat=s?[...e.documentsVat,...t]:[...t]},setStripeData(e,{lastPayoutId:t,hasMore:s,currentStep:r}){e.stripeData.lastPayoutId=t,e.stripeData.hasMore=s,void 0!==r&&(e.stripeData.currentStep=r)},setPayoutStatistics(e,t){e.payoutStatistics=t},setDisputes(e,{items:t=[],more:s=!1}={}){e.disputes=s?[...new Set([...e.disputes,...t])]:t},setDisputesMarker(e,t){e.disputesMarker=t},setEarningsMarker(e,t){e.earningsMarker=t},logout(e){Object.assign(e,c())}},m={async fetchBalances({commit:e},{isStripe:t=!1}={}){let s;try{s=await(0,r.$m)(t)}catch(a){s={}}return e("setBalances",{balances:s,isStripe:t}),s},async fetchEarnings({commit:e},{limit:t=a.P9,more:s=!1}={}){e("setEarningsLoading",!0),s||(e("setEarnings"),e("setEarningsMarker"));try{const{list:a,nextMarker:i,hasMore:n}=await(0,r.M5)({limit:t,marker:d.earningsMarker});if(Array.isArray(a))return a.length&&e("setEarnings",{items:a,more:s}),e("setEarningsMarker",i),e("setEarningsLoading",!1),n}catch(i){}e("setEarningsLoading",!1)},async fetchPayoutRequests({commit:e},{limit:t,offset:s,more:a}={}){let i=[];e("setPayoutRequestsLoading",!0),a||e("setPayoutRequests",{items:i,more:a});try{if(s%t===0){const e=await(0,r.E8)({limit:t,offset:s});i=e.list}}catch(n){}return e("setPayoutRequests",{items:i,more:a}),e("setPayoutRequestsLoading",!1),i},async fetchPayoutRequestsStripe({state:e,commit:t},{limit:s,more:a}={}){let i=[];if(t("setPayoutRequestsLoading",!0),a||(t("setPayoutRequests",{items:i,more:a}),t("setStripeData",{lastPayoutId:null,hasMore:!0,currentStep:0})),e.stripeData.hasMore)try{const a=await(0,r.eq)({limit:s,currentStep:e.stripeData.currentStep,lastPayoutId:e.stripeData.lastPayoutId});i=a.list;const{lastPayoutId:n=null,hasMore:o=!1,currentStep:c=0}=a;t("setStripeData",{lastPayoutId:n,hasMore:o,currentStep:c})}catch(n){}return t("setPayoutRequests",{items:i,more:a}),t("setPayoutRequestsLoading",!1),i},async fetchPayoutStatistics({commit:e},{start:t,end:s}={}){let a;try{const e=await(0,r.Nv)(t,s,o()().format("Z"));a=e.list}catch(i){a={}}return e("setPayoutStatistics",a),a},async updateWithdrawalPeriod({commit:e,rootGetters:t},{withdrawalPeriod:s,isStripe:a=!1}={}){const i=await(0,r.Nb)({withdrawalPeriod:s,isStripe:a});if(i.success){const r=t["auth/authUserId"],i=a?"withdrawalStripePeriod":"withdrawalPeriod";e("users/setUserField",{userId:r,field:i,status:s},{root:!0})}},sendPayoutRequest(e,t){return(0,r.$p)(t)},async fetchPayoutDisputes({commit:e,state:t},{limit:s,more:a}={}){try{a||(e("setDisputes"),e("setDisputesMarker"));const i=await(0,r.Ju)({limit:s,offset:t.disputes.length,marker:t.disputesMarker});return i&&i.list&&i.list.length?(e("setDisputesMarker",i.marker),e("setDisputes",{items:i.list,more:a}),i.list):[]}catch(i){return[]}},async fetchPayoutsReceive({commit:e,rootGetters:t}){const s=t["auth/authUserId"];try{const t=await(0,r._5)();if(t&&"object"===typeof t){const{canReceiveManualPayout:r,isVerifiedReason:a,needUpdateBanking:i,needVerifyPayoutData:n}=t;return void 0!==r&&e("users/setUserField",{userId:s,field:"canReceiveManualPayout",status:r},{root:!0}),void 0!==a&&e("users/setUserField",{userId:s,field:"isVerifiedReason",status:a},{root:!0}),void 0!==i&&e("users/setUserField",{userId:s,field:"needUpdateBanking",status:i},{root:!0}),void 0!==n&&e("users/setUserField",{userId:s,field:"needVerifyPayoutData",status:n},{root:!0}),t}}catch(a){}return{}},async fetchDocumentsVat({commit:e},{limit:t,offset:s,more:a}={}){let i=[];e("setDocumentsVatLoading",!0),a||e("setDocumentsVat",{items:i,more:a});try{if(s%t===0){const e=await(0,r.PF)({limit:t,offset:s});i=e.list}}catch(n){}return e("setDocumentsVat",{items:i,more:a}),e("setDocumentsVatLoading",!1),i}}},225720:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return h},getters:function(){return l},mutations:function(){return m},state:function(){return u}});s(333948);var r=s(354487),a=s(999023),i=s(782677),n=s(243168),o=s(172462),c=s(532622);const d=()=>({content:{...(window.STATIC_PAGES||[]).filter((e=>"anchor"!==e.type)).map((e=>"help"===e.url?"faq":e.url)).reduce(((e,t)=>({...e,[t]:{}})),{})},searchContent:null,loading:!1,supportTickets:{},ticketsIds:{all:[],closed:[],open:[],solved:[]},ticketsCount:{all:0,closed:0,open:0,solved:0},repliesIds:{},ticketReplies:{}}),u=d(),l={getContentByName:e=>t=>e.content[t]||{},supportTicketsIds:e=>(t="all")=>e.ticketsIds[t]&&e.ticketsIds[t].length?e.ticketsIds[t].filter((s=>"all"===t||e.supportTickets[s].status===t)):[],supportTicket:e=>t=>e.supportTickets[t],ticketReplies:e=>t=>e.repliesIds[t]?e.repliesIds[t].map((t=>e.ticketReplies[t])):[],ticketRepliesIds:e=>t=>e.repliesIds[t]||[],ticketReply:e=>t=>e.ticketReplies[t]},m={setContent(e,{content:t,name:s}){e.content[s]=t},setSearchContent(e,t){e.searchContent=t},setLoading(e,t){e.loading=t},reset(e,t){e.content[t]=null},resetSearchContent(e){e.searchContent=null},setTicketsIds(e,{ids:t=[],more:s=!1,before:r=!1,status:a="all"}){e.ticketsIds[a]=s?r?[...t,...e.ticketsIds[a]]:[...e.ticketsIds[a],...t]:t,e.ticketsIds[a]=[...new Set(e.ticketsIds[a])].filter((e=>!!e))},setTicketsCount(e,{count:t,more:s=!1,status:r="all"}){s?e.ticketsCount[r]+=t:e.ticketsCount[r]=t},setTicket(e,{id:t,ticket:s={}}){e.supportTickets[t]={...e.supportTickets[t]||{},...s}},logout(e){Object.assign(e,d())}},h={async getContent({commit:e},t){e("setLoading",!0),e("setContent",{content:null,name:t});try{const s=await(0,r.L5)(t);e("setContent",{content:s,name:t}),e("setLoading",!1)}catch(s){e("setLoading",!1),e("setContent",{content:{text:"Page not found"},name:t})}},async getSearchContent({commit:e},t){e("setLoading",!0);try{const s=await(0,r.yC)(t);e("setSearchContent",s),e("setLoading",!1)}catch(s){e("setLoading",!1)}},contactUs({commit:e},t){return e("setLoading",!0),(0,r.hz)(t).then((t=>(e("setLoading",!1),t))).catch((t=>(e("setLoading",!1),t)))},reset({commit:e}){e("reset")},resetSearchContent({commit:e}){e("resetSearchContent")},async getUsersTickets({commit:e,state:t},{more:s=!1,status:r,order:o}={}){s||(e("setTicketsIds",{status:r}),e("setTicketsCount",{status:r}));const{cancelToken:d,Cancel:u}=(0,c.Yz)("getTickets");try{const c=await(0,a.$g)({offset:t.ticketsCount[r||"all"],status:r,order:o,cancelToken:d});if(c&&c.list&&c.list.length){const t=c.list.reduce(((e,t)=>t.lastComment?{...e,[t.id]:[t.lastComment.id]}:e),{}),a=(0,i.Fv)(c.list,n.oF);e("set",{...a,entities:{...a.entities,repliesIds:t}},{root:!0}),e("setTicketsCount",{status:r,count:a.result.length,more:s}),e("setTicketsIds",{status:r,ids:a.result,more:s})}return c&&c.hasMore}catch(l){if(l instanceof u)throw l;return!1}},async getUsersTicketById({commit:e},{id:t}){e("setLoading",!0);try{const s=await(0,a.nR)({id:t});if(s){const t=(0,i.Fv)([s],n.oF),r={...s.lastComment&&{[s.id]:[s.lastComment.id]}};e("set",{...t,entities:{...t.entities,repliesIds:r}},{root:!0}),e("setTicketsCount",{status:s.status,count:t.result.length,more:!0}),e("setTicketsIds",{status:s.status,ids:t.result,more:!0})}return e("setLoading",!1),s}catch(s){return e("setLoading",!1),s}},postUsersTickets({commit:e},t){return e("setLoading",!0),(0,a.HU)(t).then((t=>{if(e("setLoading",!1),t&&t.success){const s=(0,i.Fv)(t.ticket,n.e_);e("set",s,{root:!0}),e("setTicketsCount",{status:"open",count:1,more:!0}),e("setTicketsIds",{ids:[s.result],before:!0,more:!0,status:"open"})}return t})).catch((t=>(e("setLoading",!1),t)))},async replyOnTicket({commit:e,state:t},{id:s,data:r}){e("setLoading",!0);try{const o=await(0,a.Fw)(s,r),c=(0,i.Fv)(o,n.qn),d=c.result;return e("set",{...c,entities:{...c.entities,repliesIds:{[s]:[...new Set([...t.repliesIds[s]||[],d])]}}},{root:!0}),e("setTicket",{id:s,ticket:{commentCount:t.supportTickets[s].commentCount+1}}),e("setLoading",!1),o}catch(o){throw e("setLoading",!1),o}},async getTicketReplies({commit:e,state:t,getters:s},{id:r,more:o=!1}){try{const c=o?s.ticketRepliesIds(r).length:0,d=await(0,a.vn)({id:r,offset:c});if(d&&d.list&&d.list.length){const a=(0,i.Fv)(d.list,n.CF);e("set",a,{root:!0});const c=a.result,u=s.supportTicket(r),l=u&&u.lastComment&&u.lastComment.id,m=t.repliesIds[r],h=m?m.filter((e=>e!==l)):[];e("set",{entities:{repliesIds:{[r]:[...new Set([...o?h:[],...c,...l?[l]:[]])]}}},{root:!0}),t.supportTickets[r].commentCount<c.length&&e("setTicket",{id:r,ticket:{commentCount:c.length}})}return d&&d.hasMore}catch(c){return!1}},async solveTicket({commit:e},t){try{e("setLoading",!0);const s=await(0,a.J5)(t);e("setLoading",!1),s&&s.success&&e("setTicket",{id:t,ticket:{status:"solved"}})}catch(s){e("setLoading",!1),(0,o.Po)(s)}},async reopenTicket({commit:e,state:t,rootGetters:s},{id:r,data:c}){try{e("setLoading",!0);const o=await(0,a.dW)({id:r,data:c});if(e("setLoading",!1),o&&o.success){e("setTicket",{id:r,ticket:{status:"open",commentCount:t.supportTickets[r].commentCount+1}});const a=s["auth/authUser"],o=(0,i.Fv)({id:Math.random().toString(36).substr(2,9),body:c.message,createdAt:new Date,user:{name:a.name,avatar:a.avatar}},n.qn);e("set",o,{root:!0});const d=o.result;e("set",{entities:{repliesIds:{[r]:[...new Set([...t.repliesIds[r]||[],d])]}}},{root:!0})}}catch(d){e("setLoading",!1),(0,o.Po)(d)}},async checkIsCreateAllowed({commit:e,state:t,dispatch:s},{source:r,subject:i}){try{e("setLoading",!0);const t={...r&&{source:r},...i&&{subject:i}},s=await(0,a.YK)(t);return e("setLoading",!1),s}catch(n){if(400===n.status&&n.data.ticket){const r=t.supportTickets[n.data.ticket.id];return r||await s("getUsersTicketById",{id:n.data.ticket.id}),e("setLoading",!1),n.data}return e("setLoading",!1),{success:!1}}}}},798427:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return le},getters:function(){return de},mutations:function(){return ue},state:function(){return ce}});s(333948),s(21703);var r=s(532622);const a=({startDate:e,endDate:t,limit:s,by:a,filter:i,cancelToken:n})=>{const o={startDate:e,endDate:t,limit:s,by:a};i&&(o.filter=i);const c=(0,r.XP)(o),d=`${r.tW}/users/me/profile/stats${c}`;return r.ZP.get(d,{cancelToken:n}).then((e=>e.data))},i=({offset:e,startDate:t,endDate:s,limit:a,cancelToken:i})=>{const n=(0,r.XP)({offset:e,startDate:t,endDate:s,limit:a}),o=`${r.tW}/promotions-trials${n}`;return r.ZP.get(o,{cancelToken:i}).then((e=>e.data))},n=({startDate:e,endDate:t,cancelToken:s})=>{const a=(0,r.XP)({startDate:e,endDate:t}),i=`${r.tW}/promotions-trials/chart${a}`;return r.ZP.get(i,{cancelToken:s}).then((e=>e.data))},o=({startDate:e,endDate:t,cancelToken:s})=>{const a=(0,r.XP)({startDate:e,endDate:t,withTotal:!0,filter:{total_count:"total_count",total_amount:"total_amount",subscribes_count:"subscribes_count",subscribes_amount:"subscribes_amount",tips_count:"tips_count",tips_amount:"tips_amount",messages_count:"messages_count",messages_amount:"messages_amount",post_count:"post_count",post_amount:"post_amount",stream_count:"stream_count",stream_amount:"stream_amount",tips_profile_count:"tips_profile_count",tips_profile_amount:"tips_profile_amount",tips_chat_count:"tips_chat_count",tips_chat_amount:"tips_chat_amount",tips_post_count:"tips_post_count",tips_post_amount:"tips_post_amount",tips_stream_count:"tips_stream_count",tips_stream_amount:"tips_stream_amount",tips_story_count:"tips_story_count",tips_story_amount:"tips_story_amount"}}),i=`${r.tW}/earnings/chart${a}`;return r.ZP.get(i,{cancelToken:s}).then((e=>e.data))},c=({startDate:e,endDate:t,cancelToken:s})=>{const a=(0,r.XP)({startDate:e,endDate:t,withTotal:!0,filter:{total_amount:"total_amount",subscribes_amount:"subscribes_amount",tips_amount:"tips_amount",post_amount:"post_amount",messages_amount:"messages_amount",ref_amount:"ref_amount",stream_amount:"stream_amount"}}),i=`${r.tW}/earnings/chart${a}`;return r.ZP.get(i,{cancelToken:s}).then((e=>e.data))},d=({startDate:e,endDate:t,cancelToken:s,by:a,withTotal:i})=>{const n=(0,r.XP)({startDate:e,endDate:t,withTotal:i,filter:{[a]:a,posts:"posts"}}),o=`${r.tW}/posts/chart${n}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},u=({startDate:e,endDate:t,cancelToken:s,withTotal:a,by:i})=>{const n=(0,r.XP)({startDate:e,endDate:t,withTotal:a,filter:{[i]:i,stories:"stories"}}),o=`${r.tW}/stories/chart${n}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},l=({startDate:e,endDate:t,cancelToken:s,withTotal:a,by:i})=>{const n=(0,r.XP)({startDate:e,endDate:t,withTotal:a,filter:{[i]:i,duration:"duration"}}),o=`${r.tW}/streams/chart${n}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},m=({startDate:e,endDate:t,cancelToken:s,fieldBy:a=null})=>{const i={startDate:e,endDate:t};a&&(i.by=a);const n=(0,r.XP)(i),o=`${r.tW}/users/me/stats/overview${n}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},h=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,r.XP)({startDate:t,endDate:s}),i=`${r.tW}/users/me/stats/top/story${a}`;return r.ZP.get(i,{cancelToken:e}).then((e=>e.data))},f=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,r.XP)({startDate:t,endDate:s}),i=`${r.tW}/users/me/stats/top/stream${a}`;return r.ZP.get(i,{cancelToken:e}).then((e=>e.data))},p=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,r.XP)({startDate:t,endDate:s}),i=`${r.tW}/users/me/stats/top/post${a}`;return r.ZP.get(i,{cancelToken:e}).then((e=>e.data))},g=({cancelToken:e,startDate:t,endDate:s,by:a,offset:i})=>{const n=(0,r.XP)({startDate:t,endDate:s,by:a,offset:i}),o=`${r.tW}/posts/top${n}`;return r.ZP.get(o,{cancelToken:e}).then((e=>e.data))},y=e=>{if(!e)throw new Error("streamId is not defined");const t=(0,r.XP)({withChart:!0}),s=`${r.tW}/posts/${e}/stats${t}`;return r.ZP.get(s).then((e=>e.data))},v=e=>{if(!e)throw new Error("story id is not defined");const t=(0,r.XP)({withChart:!0}),s=`${r.tW}/stories/${e}/stats${t}`;return r.ZP.get(s).then((e=>e.data))},P=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,r.XP)({startDate:t,endDate:s}),i=`${r.tW}/users/me/stats/top/fan${a}`;return r.ZP.get(i,{cancelToken:e}).then((e=>e.data))},S=({streamId:e,limit:t,offset:s})=>{const a=(0,r.XP)({withFinishedViewers:!0,onlyCurrentStreamTips:!0,limit:t,offset:s}),i=`${r.tW}/streams/${e}/viewers${a}`;return r.ZP.get(i).then((e=>e.data))},w=({streamId:e,limit:t,offset:s})=>{const a=(0,r.XP)({withFinishedViewers:!0,onlyCurrentStreamTips:!0,onlyWithTips:!0,limit:t,offset:s}),i=`${r.tW}/streams/${e}/viewers${a}`;return r.ZP.get(i).then((e=>e.data))},b=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,r.XP)({startDate:t,endDate:s}),i=`${r.tW}/users/me/stats/top/mass-message${a}`;return r.ZP.get(i,{cancelToken:e}).then((e=>e.data))},I=({cancelToken:e,startDate:t,endDate:s,by:a,offset:i=0})=>{const n=(0,r.XP)({startDate:t,endDate:s,by:a,offset:i}),o=`${r.tW}/subscriptions/subscribers/latest${n}`;return r.ZP.get(o,{cancelToken:e}).then((e=>e.data))},k=({cancelToken:e,startDate:t,endDate:s,by:a,offset:i=0})=>{const n=(0,r.XP)({startDate:t,endDate:s,by:a,offset:i}),o=`${r.tW}/subscriptions/subscribers/top${n}`;return r.ZP.get(o,{cancelToken:e}).then((e=>e.data))},C=({cancelToken:e,startDate:t,endDate:s,by:a,offset:i=0})=>{const n=(0,r.XP)({startDate:t,endDate:s,by:a,offset:i}),o=`${r.tW}/stories/top${n}`;return r.ZP.get(o,{cancelToken:e}).then((e=>e.data))},T=({cancelToken:e,startDate:t,endDate:s,by:a})=>{const i=(0,r.XP)({startDate:t,endDate:s,by:a}),n=`${r.tW}/subscriptions/subscribers/chart${i}`;return r.ZP.get(n,{cancelToken:e}).then((e=>e.data))},$=({cancelToken:e,startDate:t,endDate:s})=>{const a=(0,r.XP)({startDate:t,endDate:s,withTotal:!0,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),i=`${r.tW}/payouts/chart${a}`;return r.ZP.get(i,{cancelToken:e}).then((e=>e.data))},L=({cancelToken:e,startDate:t,endDate:s,limit:a=10,offset:i=0,by:n="purchases"})=>{const o=(0,r.XP)({startDate:t,endDate:s,limit:a,offset:i,by:n}),c=`${r.tW}/messages/queue/top${o}`;return r.ZP.get(c,{cancelToken:e}).then((e=>e.data))},M=({cancelToken:e,startDate:t,endDate:s,limit:a=10,offset:i=0,by:n="purchases"})=>{const o=(0,r.XP)({startDate:t,endDate:s,limit:a,offset:i,by:n}),c=`${r.tW}/streams/top${o}`;return r.ZP.get(c,{cancelToken:e}).then((e=>e.data))},_=({startDate:e,endDate:t,cancelToken:s,withTotal:a,by:i})=>{const n=(0,r.XP)({startDate:e,endDate:t,withTotal:a,filter:{[i]:i,messages:"messages"}}),o=`${r.tW}/messages/queue/chart${n}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},A=({startDate:e,cancelToken:t,marker:s=null,type:a,tipsSource:i})=>{const n=(0,r.XP)({startDate:e,marker:s,type:a,tipsSource:i}),o=`${r.tW}/payouts/transactions${n}`;return r.ZP.get(o,{cancelToken:t}).then((e=>e.data))},F=({startDate:e,endDate:t,cancelToken:s,offset:a=0,marker:i=null})=>{const n=(0,r.XP)({startDate:e,endDate:t,offset:a,marker:i}),o=`${r.tW}/payouts/requests${n}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},x=({startDate:e,endDate:t,cancelToken:s,offset:a=0,marker:i=null})=>{const n=(0,r.XP)({startDate:e,endDate:t,offset:a,marker:i}),o=`${r.tW}/payouts/requests/referral${n}`;return r.ZP.get(o,{cancelToken:s}).then((e=>e.data))},D=({startDate:e,endDate:t,cancelToken:s,withTotal:a=1})=>{const i=(0,r.XP)({startDate:e,endDate:t,withTotal:a,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),n=`${r.tW}/payouts/referrals/chart${i}`;return r.ZP.get(n,{cancelToken:s}).then((e=>e.data))},E=({startDate:e,endDate:t,cancelToken:s,withTotal:a=!0})=>{const i=(0,r.XP)({startDate:e,endDate:t,withTotal:a,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),n=`${r.tW}/payouts/chargebacks/chart${i}`;return r.ZP.get(n,{cancelToken:s}).then((e=>e.data))},U=({startDate:e,endDate:t,cancelToken:s,withTotal:a=!0})=>{const i=(0,r.XP)({startDate:e,endDate:t,withTotal:a,withChart:!0,filter:{chartAmount:"chartAmount",chartCount:"chartCount"}}),n=`${r.tW}/payouts/vat/chart${i}`;return r.ZP.get(n,{cancelToken:s}).then((e=>e.data))},R=({storyId:e,limit:t,offset:s})=>{const a=(0,r.XP)({onlyWithTips:!0,limit:t,offset:s}),i=`${r.tW}/stories/${e}/viewers${a}`;return r.ZP.get(i).then((e=>e.data))},O=({storyId:e,limit:t,offset:s})=>{const a=(0,r.XP)({limit:t,offset:s}),i=`${r.tW}/stories/${e}/viewers${a}`;return r.ZP.get(i).then((e=>e.data))},Z=({startDate:e,endDate:t,cancelToken:s,offset:a=0,marker:i=null,onlyPerformers:n=0})=>{const o=(0,r.XP)({startDate:e,endDate:t,offset:a,marker:i,onlyPerformers:n}),c=`${r.tW}/users/me/referrals${o}`;return r.ZP.get(c,{cancelToken:s}).then((e=>e.data))},B=({id:e,kind:t,limit:s,offset:a})=>{const i={limit:s,offset:a};i.filter="trial"===t?{trial_id:e}:{promoId:e};const n=(0,r.XP)(i),o=`${r.tW}/subscriptions/subscribers${n}`;return r.ZP.get(o).then((e=>e.data))},j=({limit:e,lastPayoutId:t,cancelToken:s})=>{const a=(0,r.XP)({limit:e,lastPayoutId:t}),i=`${r.tW}/payouts/requests/stripe${a}`;return r.ZP.get(i,{cancelToken:s}).then((e=>e.data))},W=({start:e,end:t,cancelToken:s})=>{const a=(0,r.XP)({startDate:e,endDate:t}),i=`${r.tW}/payouts/stats${a}`;return r.ZP.get(i,{cancelToken:s}).then((e=>e.data))},V=({cancelToken:e})=>{const t=(0,r.XP)({monthlyTotal:1}),s=`${r.tW}/earnings/chart${t}`;return r.ZP.get(s,{cancelToken:e}).then((e=>e.data))};var q=s(865273),N=s(849491),H=s(782677),z=s(243168),X=s(58086),G=s(999023),Y=s(727484),K=s.n(Y),J=s(201646),Q=s.n(J),ee=s(207124),te=s.n(ee),se=s(350356),re=s.n(se),ae=s(370178),ie=s.n(ae);K().extend(Q()),K().extend(ie()),K().extend(te()),K().extend(re());const ne=()=>({overviewBlock:{charts:{data:{},loading:!1,monthlyTotal:[],monthlyTotalLoading:!1},loading:!1,data:{},post:{},messages:{},streaming:{},visitors:{},topPost:{loading:!1,data:{},postStat:{data:null,loading:!1}},topMessage:{loading:!1,data:{}},topStream:{loading:!1,data:{},streamStat:{data:null,loading:!1}},topStory:{loading:!1,data:{}},topFan:{loading:!1,data:{},dataFull:null},statistic:{loading:!1,data:null,byDateloading:!1,dataByDate:null}},statementsBlock:{sidebar:{charts:{data:null,loading:!1}},earnings:{data:null,loading:!1,marker:null,hasMore:!1},payoutRequests:{data:null,delta:0,total:0,loading:!1,marker:null,hasMore:!1,chart:null,chartLoading:!1},payoutRequestsStripe:{data:null,lastPayoutId:null,hasMore:!1,loading:!1},disputes:{data:null,loading:!1,marker:null,hasMore:!1,delta:0,total:0,ratio:0,chart:null,chartLoading:!1},referrals:{data:null,loading:!1,marker:null,hasMore:!1,delta:0,total:0,chart:null,chartLoading:!1},referredCreators:{data:null,loading:!1,hasMore:!1,marker:null},referredUsers:{data:null,loading:!1,hasMore:!1,marker:null},vatDocuments:{delta:0,total:0,chart:null,chartLoading:!1}},engagementBlock:{posts:{loading:!1,hasMore:!1,data:[],chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},messages:{loading:!1,items:[],hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},streams:{loading:!1,items:[],hasMore:!1,chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null}},stories:{loading:!1,hasMore:!1,items:[],chart:null,total:null,delta:null,chartLoading:!1,summaryInfo:{loading:!1,data:null},storyStat:{data:null,loading:!1}},summaryInfo:{loading:!1,data:null}},reachBlock:{profileVisitors:{data:[],loading:!1,chart:{loading:!1,data:null,total:null},topCountries:{loading:!1,data:null},summaryInfo:{loading:!1,data:null}},promotionsAndTrialLinks:{data:null,loading:!1,hasMore:!1,chart:{loading:!1,data:null},summaryInfo:{loading:!1,data:null},claimsList:{data:null}},topSources:{loading:!1,data:null},campaigns:{summaryInfo:{loading:!1,data:null}}},fansBlock:{subscriptions:{loading:!1,users:[],hasMore:!1,chart:null,chartLoading:!1},topFans:{loading:!1,users:[],hasMore:!1,chart:null,chartLoading:!1},summaryInfo:{loading:!1,data:null}},timePeriod:{},startDateModel:null,isLoading:!1,common:{streamViewers:{list:[],loading:!1},streamTippers:{list:[]},storyViewers:{list:[]},storyTippers:{list:[]}}});function oe(e,t){if(e){const s={},r={},a={};Object.keys(e).map((t=>{s[t]=e[t].chart,r[t]=e[t].total,a[t]=e[t].delta})),t.total=r,t.chart=s,t.delta=a}else t.total=null,t.chart=null,t.delta=null}const ce=ne(),de={isAllPeriod:({timePeriod:e,startDateModel:t})=>{const{startDate:s,endDate:r}=e;return!!(s&&t&&r)&&(t.isSame(s,"day")&&(r.isToday()||r.isYesterday()))}},ue={setOverviewBlockData(e,t){e.overviewBlock.data=t},setOverviewBlockLoading(e,t){e.overviewBlock.loading=t},setProfileStatData(e,t){e.reachBlock.profileVisitors.data=t},setProfileStatLoading(e,t){e.reachBlock.profileVisitors.loading=t},setPromotionsData(e,t){e.reachBlock.promotionsAndTrialLinks.hasMore=t.hasMore,e.reachBlock.promotionsAndTrialLinks.data=[...e.reachBlock.promotionsAndTrialLinks.data||[],...t.items]},resetPromotionsData(e){e.reachBlock.promotionsAndTrialLinks.hasMore=!1,e.reachBlock.promotionsAndTrialLinks.data=[],e.reachBlock.promotionsAndTrialLinks.loading=!1},setPromotionsLoading(e,t){e.reachBlock.promotionsAndTrialLinks.loading=t},setPromotionsChartData(e,t){e.reachBlock.promotionsAndTrialLinks.chart.data=t},setPromotionsChartLoading(e,t){e.reachBlock.promotionsAndTrialLinks.chart.loading=t},setTopStreamData(e,t){e.overviewBlock.topStream.data=t},setTopMessageData(e,t){e.overviewBlock.topMessage.data=t},setTopStreamLoading(e,t){e.overviewBlock.topStream.loading=t},setTopStoryLoading(e,t){e.overviewBlock.topStory.loading=t},setTopStoryData(e,t){e.overviewBlock.topStory.data=t},setTopPostData(e,t){e.overviewBlock.topPost.data=t},setTopPostLoading(e,t){e.overviewBlock.topPost.loading=t},setTopFanData(e,t){e.overviewBlock.topFan.data=t},setTopFanDataFull(e,t){e.overviewBlock.topFan.dataFull=t},setTopFanLoading(e,t){e.overviewBlock.topFan.loading=t},setTopMessageLoading(e,t){e.overviewBlock.topMessage.loading=t},setTimePeriod(e,{startDate:t,endDate:s,type:r="custom"}){let a=t,i=s||K()().add(-1,"day").endOf("day");const{startDateModel:n}=e;n&&(a=t.isAfter(n)?t:n,i=n.isBefore(i)?i:K()()),e.timePeriod={startDate:a,endDate:i,startDateFormatted:a.format("YYYY-MM-DD HH:mm:ss"),endDateFormatted:K()(i).isToday()?K()(i).utc().format("YYYY-MM-DD HH:mm:ss"):i.format("YYYY-MM-DD HH:mm:ss"),type:r}},setStartDateModel(e,t){e.startDateModel=K()(t)},setStreamViewers(e,{list:t,more:s}){e.common.streamViewers.list=s?[...e.common.streamViewers.list,...t]:t},setStreamViewersLoading(e,t){e.common.streamViewers.loading=t},setStreamTippers(e,{list:t,more:s}){e.common.streamTippers.list=s?[...e.common.streamTippers.list,...t]:t},setStreamStat(e,t){e.overviewBlock.topStream.streamStat.data={viewersCount:+t.stream_look_count,viewers:[...t.stream_look_all||[]],viewersChartData:[...t.stream_look_chart||[]],likesCount:+t.stream_like_count,likes:[...t.stream_like_all||[]],likeChartData:[...t.stream_like_chart||[]],commentsCount:+t.stream_comment_count,comments:[...t.stream_comment_all||[]],commentsChartData:[...t.stream_comment_chart||[]],tipsCount:+t.stream_tip_count,tips:[...t.stream_tip_all||[]],tipsChartData:[...t.stream_tip_chart||[]],tipSum:+t.stream_tip_sum,duration:K().duration(t.stream_duration,"seconds").format(X.Z.getDurationFormat(t.stream_duration))}},setPostStat(e,t){e.overviewBlock.topPost.postStat.data={viewersCount:+t.lookCount,viewersUniqueCount:+t.uniqueLookCount,viewers:t.lookAll||{},viewersChartData:[...t.lookChart||[]],likesCount:+t.likeCount,likes:t.likeAll||{},likeChartData:[...t.likeChart||[]],commentsCount:+t.commentCount,comments:t.commentAll||{},commentsChartData:[...t.commentChart||[]],tipsCount:+t.tipCount,tipsSum:+t.tipSum,tips:t.tipAll||{},tipsChartData:[...t.tipChart||[]],tipSumChartData:[...t.tipSumChart||[]],tipSum:+(t.tipSum||0),purchasedSumm:+(t.purchasedSumm||0),purchasedCount:+t.purchasedCount,purchasesChartData:[...t.purchasesChart||[]],lookDuration:t.lookDuration,lookDurationAverage:t.lookDurationAverage,uniqueLookCount:t.uniqueLookCount,uniqueLookChartData:t.uniqueLookChart}},setStoryStat(e,t){e.engagementBlock.stories.storyStat.data={storyComments:t.storyCommentAll||{},storyCommentsCount:+t.storyCommentCount,storyCommentsChartData:[...t.storyCommentChart||[]],storyLikes:t.storyLikeAll||{},storyLikesCount:+t.storyLikeCount,storyLikesChartData:[...t.storyLikeChart||[]],storyViewers:t.lookAll||{},storyViewersCount:+t.storyLookCount,storyViewersChartData:[...t.storyLookChart||[]],storyTips:t.storyTipAll||{},storyTipsChartData:[...t.storyTipChart||[]],storyTipCount:+(t.storyTipCount||0),storyTipSum:+(t.storyTipSum||0),storyTipSumData:[...t.storyTipSumChart||[]]}},setReachProfileVisitorsSummary(e,t){e.reachBlock.profileVisitors.summaryInfo.data=t},setReachProfileVisitorsSummaryLoading(e,t){e.reachBlock.profileVisitors.summaryInfo.loading=t},setReachPromotionsSummary(e,t){e.reachBlock.promotionsAndTrialLinks.summaryInfo.data=t},setReachPromotionsSummaryLoading(e,t){e.reachBlock.promotionsAndTrialLinks.summaryInfo.loading=t},setReachCampaignsSummaryLoading(e,t){e.reachBlock.campaigns.summaryInfo.loading=t},setReachCampaignsSummary(e,t){e.reachBlock.campaigns.summaryInfo.data=t},setReachProfileVisitorsChartData(e,t){e.reachBlock.profileVisitors.chart.data=t},setReachProfileVisitorsChartLoading(e,t){e.reachBlock.profileVisitors.chart.loading=t},setReachTopSourcesData(e,t){e.reachBlock.topSources.data=t},setReachTopSourcesLoading(e,t){e.reachBlock.topSources.loading=t},setReachProfileVisitorsTopCountriesData(e,t){e.reachBlock.profileVisitors.topCountries.data=t},setReachProfileVisitorsTopCountriesLoading(e,t){e.reachBlock.profileVisitors.topCountries.loading=t},setFansBlockSummary(e,t){e.fansBlock.summaryInfo.data=t},setFansBlockSummaryLoading(e,t){e.fansBlock.summaryInfo.loading=t},setEngagementPostsSummaryLoading(e,t){e.engagementBlock.posts.summaryInfo.loading=t},setEngagementPostsSummary(e,t){e.engagementBlock.posts.summaryInfo.data=t},setEngagementStoriesSummaryLoading(e,t){e.engagementBlock.stories.summaryInfo.loading=t},setEngagementStoriesSummary(e,t){e.engagementBlock.stories.summaryInfo.data=t},setEngagementStreamSummaryLoading(e,t){e.engagementBlock.streams.summaryInfo.loading=t},setEngagementStreamSummary(e,t){e.engagementBlock.streams.summaryInfo.data=t},setEngagementMessagesSummary(e,t){e.engagementBlock.messages.summaryInfo.data=t},setEngagementMessagesSummaryLoading(e,t){e.engagementBlock.messages.summaryInfo.loading=t},setEngagementsStoriesLoading(e,t){e.engagementBlock.stories.loading=t},setEngagementsStories(e,{items:t,hasMore:s,addMore:r}){e.engagementBlock.stories.hasMore=s,e.engagementBlock.stories.items=r?[...e.engagementBlock.stories.items,...t]:t},setEngagementPostsLoading(e,t){e.engagementBlock.posts.loading=t},setEngagementPostsData(e,{list:t,more:s}){e.engagementBlock.posts.data=s?[...e.engagementBlock.posts.data,...t]:t},setEngagementPostsHasMore(e,t){e.engagementBlock.posts.hasMore=t},setPostsChartData(e,t){oe(t,e.engagementBlock.posts)},setPostsChartDataLoading(e,t){e.engagementBlock.posts.chartLoading=t},setStoriesChartData(e,t){oe(t,e.engagementBlock.stories)},setStoriesChartDataLoading(e,t){e.engagementBlock.stories.chartLoading=t},setStreamsChartData(e,t){oe(t,e.engagementBlock.streams)},setStreamsChartDataLoading(e,t){e.engagementBlock.streams.chartLoading=t},resetStoryStat(e){e.engagementBlock.stories.storyStat.data=null},setStoryStatLoading(e,t){e.engagementBlock.stories.storyStat.loading=t},resetStreamStat(e){e.overviewBlock.topStream.streamStat.data=null},resetPostStat(e){e.overviewBlock.topPost.postStat.data=null},setStreamStatLoading(e,t){e.overviewBlock.topStream.streamStat.loading=t},setPostStatLoading(e,t){e.overviewBlock.topPost.postStat.loading=t},addFansSubscriptions(e,{users:t,hasMore:s,sectionName:r}){const a=e.fansBlock[r].users.map((e=>e.id)),i=t.filter((e=>!a.includes(e.id)));e.fansBlock[r].users=[...e.fansBlock[r].users,...i],e.fansBlock[r].hasMore=s},setTopFansSubscriptionsLoading(e,t){e.fansBlock.topFans.loading=t},setFansSubscriptions(e,{users:t,hasMore:s,sectionName:r}){e.fansBlock[r].users=t,e.fansBlock[r].hasMore=s},setFansSubscriptionsLoading(e,t){e.fansBlock.subscriptions.loading=t},setChartFansSubscriptions(e,t){e.fansBlock.subscriptions.chart=t},setChartFansSubscriptionsLoading(e,t){e.fansBlock.subscriptions.chartLoading=t},setStatementsChartsData(e,t){e.statementsBlock.sidebar.charts.data=t},setStatementsChartsDataLoading(e,t){e.statementsBlock.sidebar.charts.loading=t},setChartStatementsPayoutRequests(e,t){t?(e.statementsBlock.payoutRequests.total=t.total,e.statementsBlock.payoutRequests.delta=t.delta,e.statementsBlock.payoutRequests.chart={"Paid out":t.chartAmount,Invoices:t.chartCount}):(e.statementsBlock.payoutRequests.total=0,e.statementsBlock.payoutRequests.delta=0,e.statementsBlock.payoutRequests.chart=null)},setChartStatementsPayoutRequestsLoading(e,t){e.statementsBlock.payoutRequests.chartLoading=t},setStatementsPayoutRequestsStripeLoading(e,t){e.statementsBlock.payoutRequestsStripe.loading=t},setEngagementMessages(e,{items:t,hasMore:s,more:r}){e.engagementBlock.messages.items=r?[...e.engagementBlock.messages.items,...t]:t,e.engagementBlock.messages.hasMore=s},setEngagementMessagesChart(e,t){oe(t,e.engagementBlock.messages)},setEngagementMessagesChartLoading(e,t){e.engagementBlock.messages.chartLoading=t},deleteEngagementMassMessage(e,t){e.engagementBlock.messages.items=e.engagementBlock.messages.items.filter((e=>e.id!==t))},setEngagementStreams(e,{items:t,hasMore:s,addMore:r}){e.engagementBlock.streams.hasMore=s,e.engagementBlock.streams.items=r?[...e.engagementBlock.streams.items,...t]:t},setEngagementMessagesLoading(e,t){e.engagementBlock.messages.loading=t},setEngagementStreamsLoading(e,t){e.engagementBlock.streams.loading=t},setStatementsEarningsLoading(e,t){e.statementsBlock.earnings.loading=t},setStatementsEarnings(e,t){e.statementsBlock.earnings.data=t.list,e.statementsBlock.earnings.hasMore=t.hasMore},addStatementsEarnings(e,t){e.statementsBlock.earnings.data=e.statementsBlock.earnings.data.concat(t.list),e.statementsBlock.earnings.hasMore=t.hasMore},setStatementsEarningsMarker(e,t){e.statementsBlock.earnings.marker=t},setStatementsPayoutRequestsLoading(e,t){e.statementsBlock.payoutRequests.loading=t},setStatementsPayoutRequests(e,t){e.statementsBlock.payoutRequests.data=t,e.statementsBlock.payoutRequests.hasMore=Boolean(t.length)&&t.length===r.P9},setStatementsPayoutRequestsStripe(e,t){const{hasMore:s,lastPayoutId:r,list:a,isAdd:i}=t;e.statementsBlock.payoutRequestsStripe.data=i?e.statementsBlock.payoutRequestsStripe.data.concat(a):a,e.statementsBlock.payoutRequestsStripe.lastPayoutId=r,e.statementsBlock.payoutRequestsStripe.hasMore=s},addStatementsPayoutRequests(e,t){e.statementsBlock.payoutRequests.data=e.statementsBlock.payoutRequests.data.concat(t),e.statementsBlock.payoutRequests.hasMore=Boolean(t.length)&&t.length===r.P9},setStatementsPayoutRequestsMarker(e,t){e.statementsBlock.payoutRequests.marker=t},setStatementsDisputesLoading(e,t){e.statementsBlock.disputes.loading=t},setStatementsDisputesChartLoading(e,t){e.statementsBlock.disputes.chartLoading=t},setStatementsDisputesChart(e,t){t?(e.statementsBlock.disputes.total=t.total,e.statementsBlock.disputes.delta=t.delta,e.statementsBlock.disputes.ratio=t.ratio,e.statementsBlock.disputes.chart={"Charged back":t.chartAmount,Disputes:t.chartCount}):(e.statementsBlock.disputes.total=0,e.statementsBlock.disputes.delta=0,e.statementsBlock.disputes.ratio=0,e.statementsBlock.disputes.chart=null)},setStatementsReferralsChartLoading(e,t){e.statementsBlock.referrals.chartLoading=t},setStatementsReferralsChart(e,t){t?(e.statementsBlock.referrals.total=t.total,e.statementsBlock.referrals.delta=t.delta,e.statementsBlock.referrals.chart={Earnings:t.chartAmount,Referrals:t.chartCount}):(e.statementsBlock.referrals.total=0,e.statementsBlock.referrals.delta=0,e.statementsBlock.referrals.chart=null)},setStatementsVatChartLoading(e,t){e.statementsBlock.referrals.chartLoading=t},setStatementsVatChart(e,t){t?(e.statementsBlock.vatDocuments.total=t.total,e.statementsBlock.vatDocuments.delta=t.delta,e.statementsBlock.vatDocuments.chart={"VAT refund":t.chartAmount,Invoices:t.chartCount}):(e.statementsBlock.vatDocuments.total=0,e.statementsBlock.vatDocuments.delta=0,e.statementsBlock.vatDocuments.chart=null)},setStatementsDisputes(e,t){e.statementsBlock.disputes.data=t,e.statementsBlock.disputes.hasMore=Boolean(t.length)&&t.length===r.P9},addStatementsDisputes(e,t){e.statementsBlock.disputes.data=e.statementsBlock.disputes.data.concat(t),e.statementsBlock.disputes.hasMore=Boolean(t.length)&&t.length===r.P9},setStatementsDisputesMarker(e,t){e.statementsBlock.disputes.marker=t},setStatementsReferralsLoading(e,t){e.statementsBlock.referrals.loading=t},setStatementsReferrals(e,t){e.statementsBlock.referrals.data=t,e.statementsBlock.referrals.hasMore=Boolean(t.length)&&t.length===r.P9},setStatementsReferredCreatorsLoading(e,t){e.statementsBlock.referredCreators.loading=t},setStatementsReferredCreators(e,{items:t,hasMore:s,addMore:r}){e.statementsBlock.referredCreators.data=r?[...e.statementsBlock.referredCreators.data,...t]:t,e.statementsBlock.referredCreators.hasMore=s},setStatementsReferredCreatorsMarker(e,t){e.statementsBlock.referredCreators.marker=t},setStatementsReferredUsersLoading(e,t){e.statementsBlock.referredUsers.loading=t},setStatementsReferredUsers(e,{items:t,hasMore:s,addMore:r}){e.statementsBlock.referredUsers.data=r?[...e.statementsBlock.referredUsers.data,...t]:t,e.statementsBlock.referredUsers.hasMore=s},setStatementsReferredUsersMarker(e,t){e.statementsBlock.referredUsers.marker=t},addStatementsReferrals(e,t){e.statementsBlock.referrals.data=e.statementsBlock.referrals.data.concat(t),e.statementsBlock.referrals.hasMore=Boolean(t.length)&&t.length===r.P9},setStatementsReferralsMarker(e,t){e.statementsBlock.referrals.marker=t},setStoryTippers(e,{list:t,more:s}){e.common.storyTippers.list=s?[...e.common.storyTippers.list,...t]:t},setStoryViewers(e,{list:t,more:s}){e.common.storyViewers.list=s?[...e.common.storyViewers.list,...t]:t},setClaims(e,{list:t,more:s}){e.reachBlock.promotionsAndTrialLinks.claimsList.data=s?[...e.reachBlock.promotionsAndTrialLinks.claimsList.data,...t]:t},setOverviewEarningsStatisticsByDateLoading(e,t){e.overviewBlock.statistic.byDateloading=t},setOverviewEarningsStatistics(e,t){e.overviewBlock.statistic.data=t},setOverviewEarningsStatisticsByDate(e,t){e.overviewBlock.statistic.dataByDate=t},setOverviewEarningsStatisticsLoading(e,t){e.overviewBlock.charts.loading=t},setOverviewChartsData(e,t){e.overviewBlock.charts.data=t},setMonthlyTotalStatisticsData(e,t){e.overviewBlock.charts.monthlyTotal=t},setMonthlyTotalStatisticsLoading(e,t){e.overviewBlock.charts.monthlyTotalLoading=t},logout(e){Object.assign(e,ne())}},le={async fetchStatOverview({commit:e,state:t}){e("setOverviewBlockLoading",!0);const{cancelToken:s,Cancel:a}=(0,r.Yz)("fetchStatOverview"),{endDateFormatted:i,startDateFormatted:n}=t.timePeriod;let o;try{o=await m({startDate:n,endDate:i,cancelToken:s}),e("setOverviewBlockData",o),e("setOverviewBlockLoading",!1)}catch(c){if(!(c instanceof a))throw c}finally{e("setOverviewBlockLoading",!1)}return o},async fetchEngagementStreamSummary({commit:e}){e("setEngagementStreamSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchEngagementStreamSummary"),{endDateFormatted:a,startDateFormatted:i}=ce.timePeriod;let n;try{return n=await m({startDate:i,endDate:a,cancelToken:t,fieldBy:"streams"}),n&&n.streams&&e("setEngagementStreamSummary",n.streams),e("setEngagementStreamSummaryLoading",!1),n}catch(o){if(!(o instanceof s))throw o;return e("setEngagementStreamSummaryLoading",!1),n}},async fetchEngagementStoriesSummary({commit:e}){e("setEngagementStoriesSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchEngagementStoriesSummary"),{endDateFormatted:a,startDateFormatted:i}=ce.timePeriod;let n;try{return n=await m({startDate:i,endDate:a,cancelToken:t,fieldBy:"story"}),n&&n.stories&&e("setEngagementStoriesSummary",n.stories),e("setEngagementStoriesSummaryLoading",!1),n}catch(o){if(!(o instanceof s))throw o;return e("setEngagementStoriesSummaryLoading",!1),n}},async fetchEngagementPostsSummary({commit:e}){e("setEngagementPostsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchEngagementPostsSummary"),{endDateFormatted:a,startDateFormatted:i}=ce.timePeriod;let n;try{return n=await m({startDate:i,endDate:a,cancelToken:t,fieldBy:"posts"}),n&&n.posts&&e("setEngagementPostsSummary",n.posts),e("setEngagementPostsSummaryLoading",!1),n}catch(o){if(!(o instanceof s))throw o;return e("setEngagementPostsSummaryLoading",!1),n}},async fetchReachProfileVisitorsSummary({commit:e}){e("setReachProfileVisitorsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchReachProfileVisitorsSummary"),{endDateFormatted:a,startDateFormatted:i}=ce.timePeriod;let n;try{return n=await m({startDate:i,endDate:a,cancelToken:t,fieldBy:"visitors"}),n&&n.visitors&&e("setReachProfileVisitorsSummary",n.visitors),e("setReachProfileVisitorsSummaryLoading",!1),n}catch(o){if(!(o instanceof s))throw o;return e("setReachProfileVisitorsSummaryLoading",!1),n}},async fetchReachCampaignsSummary({commit:e}){e("setReachCampaignsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchReachCampaignsSummary"),{endDateFormatted:a,startDateFormatted:i}=ce.timePeriod;let n;try{n=await m({startDate:i,endDate:a,cancelToken:t,fieldBy:"campaign"}),n&&n.campaigns&&e("setReachCampaignsSummary",n.campaigns)}catch(o){if(!(o instanceof s))throw o}finally{e("setReachCampaignsSummaryLoading",!1)}return n},async fetchReachPromotionsSummary({commit:e}){e("setReachPromotionsSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchReachPromotionsSummary"),{endDateFormatted:a,startDateFormatted:i}=ce.timePeriod;let n;try{return n=await m({startDate:i,endDate:a,cancelToken:t,fieldBy:"promo"}),n&&n.promo&&e("setReachPromotionsSummary",n.promo),e("setReachPromotionsSummaryLoading",!1),n}catch(o){if(!(o instanceof s))throw o;return e("setReachPromotionsSummaryLoading",!1),n}},async fetchFansBlockSummary({commit:e}){e("setFansBlockSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchFansBlockSummary"),{endDateFormatted:a,startDateFormatted:i}=ce.timePeriod;let n;try{return n=await m({startDate:i,endDate:a,cancelToken:t,fieldBy:"fans"}),n&&n.fans&&e("setFansBlockSummary",n.fans),n}catch(o){if(!(o instanceof s))throw o;return n}finally{e("setFansBlockSummaryLoading",!1)}},async fetchProfileStat({commit:e},{limit:t=10,by:s="total"}={}){e("setProfileStatData",void 0),e("setProfileStatLoading",!0);const{startDateFormatted:i,endDateFormatted:n}=ce.timePeriod,{cancelToken:o,Cancel:c}=(0,r.Yz)("fetchProfileStat");try{const r=await a({limit:t,by:s,startDate:i,endDate:n,cancelToken:o});return e("setProfileStatData",r),e("setProfileStatLoading",!1),r}catch(d){if(!(d instanceof c))throw d;return void e("setProfileStatLoading",!1)}},async fetchReachProfileVisitorsChart({commit:e},{by:t="total"}={}){e("setReachProfileVisitorsChartData",void 0),e("setReachProfileVisitorsChartLoading",!0);const{startDateFormatted:s,endDateFormatted:i}=ce.timePeriod,{cancelToken:n,Cancel:o}=(0,r.Yz)("fetchReachProfileVisitorsChart");try{const r=await a({by:t,filter:["chart"],startDate:s,endDate:i,cancelToken:n});return e("setReachProfileVisitorsChartData",r),e("setReachProfileVisitorsChartLoading",!1),r}catch(c){if(!(c instanceof o))throw c;return void e("setReachProfileVisitorsChartLoading",!1)}},async fetchReachTopSources({commit:e},{limit:t=10,by:s="total"}={}){e("setReachTopSourcesData",void 0),e("setReachTopSourcesLoading",!0);const{startDateFormatted:i,endDateFormatted:n}=ce.timePeriod,{cancelToken:o,Cancel:c}=(0,r.Yz)("fetchReachTopSources");try{const r=await a({limit:t,by:s,filter:["topDomains"],startDate:i,endDate:n,cancelToken:o});return e("setReachTopSourcesData",r),e("setReachTopSourcesLoading",!1),r}catch(d){if(!(d instanceof c))throw d;return void e("setReachTopSourcesLoading",!1)}},async fetchReachProfileVisitorsTopCountries({commit:e},{limit:t=10,by:s="total"}={}){e("setReachProfileVisitorsTopCountriesData",void 0),e("setReachProfileVisitorsTopCountriesLoading",!0);const{startDateFormatted:i,endDateFormatted:n}=ce.timePeriod,{cancelToken:o,Cancel:c}=(0,r.Yz)("fetchReachProfileVisitorsTopCountries");try{const r=await a({limit:t,by:s,filter:["topCountries"],startDate:i,endDate:n,cancelToken:o});return e("setReachProfileVisitorsTopCountriesData",r),e("setReachProfileVisitorsTopCountriesLoading",!1),r}catch(d){if(!(d instanceof c))throw d;return void e("setReachProfileVisitorsTopCountriesLoading",!1)}},async fetchPromotions({commit:e},{limit:t=10,offset:s=0}={}){e("setPromotionsLoading",!0);const{startDateFormatted:a,endDateFormatted:n}=ce.timePeriod,{cancelToken:o,Cancel:c}=(0,r.Yz)("fetchPromotions");try{const r=await i({limit:t,offset:s,startDate:a,endDate:n,cancelToken:o});return e("setPromotionsData",r),e("setPromotionsLoading",!1),r}catch(d){if(!(d instanceof c))throw d;return void e("setPromotionsLoading",!1)}},async fetchPromotionsChart({commit:e}){e("setPromotionsChartData",null),e("setPromotionsChartLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ce.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchPromotionsChart");try{const r=await n({startDate:t,endDate:s,cancelToken:a});return e("setPromotionsChartData",r),e("setPromotionsChartLoading",!1),r}catch(o){if(!(o instanceof i))throw o;return void e("setPromotionsChartLoading",!1)}},async fetchPostsChart({commit:e},{by:t}){e("setPostsChartData",null),e("setPostsChartDataLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=ce.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchPostsChart");try{const r=await d({startDate:s,endDate:a,cancelToken:i,withTotal:!0,by:t});return e("setPostsChartData",r),r}catch(o){if(!(o instanceof n))throw o;return}finally{e("setPostsChartDataLoading",!1)}},async fetchStoriesChart({commit:e},{by:t}){e("setStoriesChartData",null),e("setStoriesChartDataLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=ce.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchStoriesChart");try{const r=await u({startDate:s,endDate:a,cancelToken:i,withTotal:!0,by:t});return e("setStoriesChartData",r),r}catch(o){if(!(o instanceof n))throw o;return}finally{e("setStoriesChartDataLoading",!1)}},async fetchStreamsChart({commit:e},{by:t}){e("setStreamsChartData",null),e("setStreamsChartDataLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=ce.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchStreamsChart");try{const r=await l({startDate:s,endDate:a,cancelToken:i,withTotal:!0,by:t});return e("setStreamsChartData",r),r}catch(o){if(!(o instanceof n))throw o;return}finally{e("setStreamsChartDataLoading",!1)}},async fetchStartDateModel({commit:e,state:t}){var s;let r;try{r=await(0,G.OL)()}catch(a){console.error(a)}if(null!==(s=r)&&void 0!==s&&s.startDate){e("setStartDateModel",r.startDate);const s=K()(r.startDate),{startDate:a,endDate:i}=t.timePeriod;a&&a.isBefore(s)&&e("setTimePeriod",{startDate:s,endDate:i,type:"day"})}return r},async fetchTopStream({commit:e}){e("setTopStreamLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ce.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchTopStream");try{const r=await f({cancelToken:a,startDate:t,endDate:s});return e("setTopStreamData",r),e("setTopStreamLoading",!1),r}catch(n){if(!(n instanceof i))throw n;return void e("setTopStreamLoading",!1)}},async fetchTopStory({commit:e}){e("setTopStoryLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ce.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchTopStory");try{const r=await h({cancelToken:a,startDate:t,endDate:s});return e("setTopStoryData",r),e("setTopStoryLoading",!1),r}catch(n){if(!(n instanceof i))throw n;return void e("setTopStoryLoading",!1)}},async fetchTopPosts({commit:e,state:t},s){e("setEngagementPostsLoading",!0),0===s.offset&&(e("setEngagementPostsData",{list:[],more:!1}),e("setEngagementPostsHasMore",!1));const{startDateFormatted:a,endDateFormatted:i}=t.timePeriod,{cancelToken:n,Cancel:o}=(0,r.Yz)("fetchTopPosts");try{const t=await g({cancelToken:n,startDate:a,endDate:i,...s}),r=t.items||[];if(r){const t=(0,H.Fv)(r,z.eI);e("set",t,{root:!0})}return e("setEngagementPostsData",{list:r.map((e=>e.id)),more:!!s.offset}),e("setEngagementPostsHasMore",t.hasMore),e("setEngagementPostsLoading",!1),t}catch(c){if(!(c instanceof o))throw c;return void e("setEngagementPostsLoading",!1)}},async fetchTopPost({commit:e}){e("setTopPostLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ce.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchTopPost");try{const r=await p({cancelToken:a,startDate:t,endDate:s}),i=Object.values(r||{}).filter((e=>!!e));if(i){const t=(0,H.Fv)(i,z.eI);e("set",t,{root:!0})}return e("setTopPostData",Object.keys(r).reduce(((e,t)=>(e[t]=r[t]?r[t].id:null,e)),{})),e("setTopPostLoading",!1),r}catch(n){if(!(n instanceof i))throw n;return void e("setTopPostLoading",!1)}},async fetchTopMessage({commit:e}){e("setTopMessageLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ce.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchTopMessage");try{const r=await b({cancelToken:a,startDate:t,endDate:s});return e("setTopMessageData",r),e("setTopMessageLoading",!1),r}catch(n){if(e("setTopMessageLoading",!1),!(n instanceof i))throw n;return}},async fetchTopFan({commit:e}){e("setTopFanLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ce.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchTopFan");try{const r=await P({cancelToken:a,startDate:t,endDate:s}),i={},n=Object.keys(r).filter((e=>!!r[e])).map((e=>(i[e]=r[e].id,r[e]))),o=(0,H.Fv)(n,z.Xd);return e("setTopFanDataFull",r),e("set",o,{root:!0}),e("setTopFanData",i),e("setTopFanLoading",!1),r}catch(n){if(!(n instanceof i))throw n;return void e("setTopFanLoading",!1)}},async fetchStreamViewers({commit:e},{streamId:t,offset:s=0,limit:r=10,more:a=!1}){e("setStreamViewersLoading",!0);try{const i=await S({streamId:t,limit:r,offset:s});if(i&&i.list){const t=(0,H.Fv)(i.list,z.Xd);e("set",t,{root:!0}),e("setStreamViewers",{list:t.result,more:a}),e("setStreamViewersLoading",!1)}return i}catch(i){return e("setStreamViewersLoading",!1),{}}},async fetchStreamTippers({commit:e},{streamId:t,offset:s=0,limit:r=10,more:a=!1}){try{const i=await w({streamId:t,offset:s,limit:r});if(i&&i.list){const t=(0,H.Fv)(i.list,z.Xd);e("set",t,{root:!0}),e("setStreamTippers",{list:t.result,more:a})}return i}catch(i){return{}}},async fetchStreamStat({commit:e},t){e("setStreamStatLoading",!0);try{const s=await(0,N.a9)({id:t});return e("setStreamStat",s),e("setStreamStatLoading",!1),s}catch(s){return e("setStreamStatLoading",!1),{}}},resetStreamStat({commit:e}){e("setStreamViewers",{list:[],more:!1}),e("resetStreamStat"),e("setStreamViewersLoading",!1),e("setStreamStatLoading",!1)},async fetchPostStat({commit:e},t){e("setPostStatLoading",!0);try{const s=await y(t);return e("setPostStat",s),e("setPostStatLoading",!1),s}catch(s){return e("setPostStatLoading",!1),{}}},resetPostStat({commit:e}){e("resetPostStat"),e("setPostStatLoading",!1)},resetStoryStat({commit:e}){e("resetStoryStat"),e("setStoryStatLoading",!1)},async fetchEngagementsStories({commit:e},{by:t,offset:s=0,addMore:a=!1,limit:i=10}){e("setEngagementsStoriesLoading",!0),a||e("setEngagementsStories",{items:[],addMore:a,hasMore:!1});const{startDateFormatted:n,endDateFormatted:o}=ce.timePeriod,{cancelToken:c,Cancel:d}=(0,r.Yz)("fetchEngagementsStories");let u={items:[],hasMore:!1,addMore:!1};try{u=await C({cancelToken:c,startDate:n,endDate:o,limit:i,offset:s,by:t}),"object"===typeof u&&e("setEngagementsStories",{...u,addMore:a})}catch(l){if(!(l instanceof d))throw l}finally{e("setEngagementsStoriesLoading",!1)}return u},async fetchStoryStat({commit:e},t){e("setStoryStatLoading",!0);try{const s=await v(t);return e("setStoryStat",s),e("setStoryStatLoading",!1),s}catch(s){return e("setStoryStatLoading",!1),{}}},async fetchTopFansSubscriptions({commit:e},{by:t,offset:s}){s||e("setTopFansSubscriptionsLoading",!0);const{startDateFormatted:a,endDateFormatted:i}=ce.timePeriod,{cancelToken:n,Cancel:o}=(0,r.Yz)("fetchTopFansSubscriptions");let c;try{if(c=await k({cancelToken:n,startDate:a,endDate:i,by:t,offset:s}),c){const t=s?"addFansSubscriptions":"setFansSubscriptions";e(t,{...c,sectionName:"topFans"})}}catch(d){if(!(d instanceof o))throw d}finally{s||e("setTopFansSubscriptionsLoading",!1)}return c},async fetchFansSubscriptions({commit:e},{by:t,offset:s}){s||e("setFansSubscriptionsLoading",!0);const{startDateFormatted:a,endDateFormatted:i}=ce.timePeriod,{cancelToken:n,Cancel:o}=(0,r.Yz)("fetchFansSubscriptions");let c;try{if(c=await I({cancelToken:n,startDate:a,endDate:i,by:t,offset:s}),c){const t=s?"addFansSubscriptions":"setFansSubscriptions";e(t,{...c,sectionName:"subscriptions"})}}catch(d){if(!(d instanceof o))throw d}finally{s||e("setFansSubscriptionsLoading",!1)}return c},async fetchChartFansSubscriptions({commit:e},{by:t}){e("setChartFansSubscriptions",null),e("setChartFansSubscriptionsLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=ce.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchChartFansSubscriptions");let o;try{o=await T({cancelToken:i,startDate:s,endDate:a,by:t}),o&&e("setChartFansSubscriptions",o)}catch(c){if(!(c instanceof n))throw c}finally{e("setChartFansSubscriptionsLoading",!1)}return o},async fetchChartStatementsPayoutRequests({commit:e}){e("setChartStatementsPayoutRequests",null),e("setChartStatementsPayoutRequestsLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ce.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchChartStatementsPayoutRequests");let n;try{n=await $({cancelToken:a,startDate:t,endDate:s}),n&&e("setChartStatementsPayoutRequests",n)}catch(o){if(!(o instanceof i))throw o}finally{e("setChartStatementsPayoutRequestsLoading",!1)}return n},async fetchEngagementMassMessages({commit:e},{by:t,offset:s=0}){e("setEngagementMessagesLoading",!0);const{startDateFormatted:a,endDateFormatted:i}=ce.timePeriod,{cancelToken:n,Cancel:o}=(0,r.Yz)("fetchEngagementMassMessages");let c;0===s&&e("setEngagementMessages",{items:[],hasMore:!1,more:!!s});try{c=await L({cancelToken:n,startDate:a,endDate:i,by:t,offset:s}),c&&e("setEngagementMessages",{...c,more:!!s})}catch(d){if(!(d instanceof o))throw d}finally{e("setEngagementMessagesLoading",!1)}return c},async fetchEngagementStreams({commit:e},{by:t,offset:s=0,addMore:a=!1,limit:i=10}){e("setEngagementStreamsLoading",!0),a||e("setEngagementStreams",{items:[],addMore:a,hasMore:!1});const{startDateFormatted:n,endDateFormatted:o}=ce.timePeriod,{cancelToken:c,Cancel:d}=(0,r.Yz)("fetchEngagementStreams");let u={items:[],hasMore:!1,addMore:!1};try{u=await M({cancelToken:c,startDate:n,endDate:o,limit:i,offset:s,by:t}),"object"===typeof u&&e("setEngagementStreams",{...u,addMore:a})}catch(l){if(!(l instanceof d))throw l}finally{e("setEngagementStreamsLoading",!1)}return u},async fetchEngagementMessagesChart({commit:e},{by:t}){e("setEngagementMessagesChartLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=ce.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchEngagementMessagesChart");try{const r=await _({cancelToken:i,startDate:s,endDate:a,withTotal:!0,by:t});r&&e("setEngagementMessagesChart",r)}catch(o){if(!(o instanceof n))throw o}finally{e("setEngagementMessagesChartLoading",!1)}},async fetchStatementsEarnings({commit:e,state:t},{type:s,tipsSource:a}={}){e("setStatementsEarningsLoading",!0);const{data:i,marker:n}=t.statementsBlock.earnings,{startDateFormatted:o,endDate:c}=t.timePeriod,{cancelToken:d,Cancel:u}=(0,r.Yz)("fetchStatementsEarnings"),l=i&&i.length;let m;try{if(m=await A({marker:l?n:c.unix(),cancelToken:d,startDate:o,limit:r.P9,type:s,tipsSource:a}),m){const t=l?"addStatementsEarnings":"setStatementsEarnings";e(t,m),e("setStatementsEarningsMarker",m.nextMarker)}}catch(h){if(!(h instanceof u))throw h}finally{e("setStatementsEarningsLoading",!1)}return m},async fetchStatementsCharts({commit:e}){e("setStatementsChartsData",null),e("setStatementsChartsDataLoading",!0);const{startDateFormatted:t,endDateFormatted:s}=ce.timePeriod,{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchStatementsCharts");try{const r=await o({startDate:t,endDate:s,cancelToken:a});return e("setStatementsChartsData",r),r}catch(n){if(!(n instanceof i))throw n;return}finally{e("setStatementsChartsDataLoading",!1)}},async fetchStatementsPayoutRequests({commit:e,state:t},s=0){e("setStatementsPayoutRequestsLoading",!0),s||(e("setStatementsPayoutRequests",[]),e("setStatementsPayoutRequestsMarker",null));const{startDateFormatted:a,endDateFormatted:i}=t.timePeriod,{cancelToken:n,Cancel:o}=(0,r.Yz)("fetchStatementsPayoutRequests");let c;try{const{marker:o}=t.statementsBlock.payoutRequests;if(c=await F({offset:s,marker:o,cancelToken:n,startDate:a,endDate:i,limit:r.P9}),c){const t=s?"addStatementsPayoutRequests":"setStatementsPayoutRequests";e(t,c.list),e("setStatementsPayoutRequestsMarker",c.marker)}}catch(d){if(!(d instanceof o))throw d}finally{e("setStatementsPayoutRequestsLoading",!1)}return c},async fetchStatementsPayoutRequestsStripe({commit:e,state:t}){e("setStatementsPayoutRequestsStripeLoading",!0);const{cancelToken:s,Cancel:a}=(0,r.Yz)("fetchStatementsPayoutRequestsStripe");let i;const n={cancelToken:s,limit:r.P9},{lastPayoutId:o}=t.statementsBlock.payoutRequestsStripe;o&&(n.lastPayoutId=o);try{i=await j(n),i&&e("setStatementsPayoutRequestsStripe",{...i,isAdd:Boolean(o)})}catch(c){if(!(c instanceof a))throw c}finally{e("setStatementsPayoutRequestsStripeLoading",!1)}return i},async fetchStatementsDisputes({commit:e,state:t},s=0){e("setStatementsDisputesLoading",!0),s||(e("setStatementsDisputes",[]),e("setStatementsDisputesMarker",null));const{startDateFormatted:a,endDateFormatted:i}=t.timePeriod,{cancelToken:n,Cancel:o}=(0,r.Yz)("fetchStatementsDisputes");let c;try{const{marker:o}=t.statementsBlock.disputes;if(c=await(0,q.K3)({offset:s,marker:o,cancelToken:n,startDate:a,endDate:i,limit:r.P9}),c){const t=s?"addStatementsDisputes":"setStatementsDisputes";e(t,c.list),e("setStatementsDisputesMarker",c.marker)}}catch(d){if(!(d instanceof o))throw d}finally{e("setStatementsDisputesLoading",!1)}return c},async fetchStatementsReferrals({commit:e},t=0){e("setStatementsReferralsLoading",!0),t||(e("setStatementsReferrals",[]),e("setStatementsReferralsMarker",null));const{startDateFormatted:s,endDateFormatted:a}=ce.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchStatementsReferrals");let o;try{const{marker:n}=ce.statementsBlock.referrals;if(o=await x({marker:n,offset:t,cancelToken:i,startDate:s,endDate:a,limit:r.P9}),o){const s=t?"addStatementsReferrals":"setStatementsReferrals";e(s,o.list),e("setStatementsReferralsMarker",o.marker)}}catch(c){if(!(c instanceof n))throw c}finally{e("setStatementsReferralsLoading",!1)}return o},async fetchStatementsReferredCreators({commit:e},t=0){e("setStatementsReferredCreatorsLoading",!0),t||(e("setStatementsReferrals",[]),e("setStatementsReferralsMarker",null));const{startDateFormatted:s,endDateFormatted:a}=ce.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchStatementsReferredCreators");let o;try{const{marker:n}=ce.statementsBlock.referredCreators;o=await Z({marker:n,offset:t,cancelToken:i,startDate:s,endDate:a,limit:r.P9,onlyPerformers:1}),o&&(e("setStatementsReferredCreators",{items:o.list,hasMore:o.hasMore,addMore:!!t}),e("setStatementsReferredCreatorsMarker",o.marker))}catch(c){if(!(c instanceof n))throw c}finally{e("setStatementsReferredCreatorsLoading",!1)}return o},async fetchStatementsReferredUsers({commit:e},t=0){e("setStatementsReferredUsersLoading",!0),t||(e("setStatementsReferrals",[]),e("setStatementsReferralsMarker",null));const{startDateFormatted:s,endDateFormatted:a}=ce.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchStatementsReferredUsers");let o;try{const{marker:n}=ce.statementsBlock.referredUsers;if(o=await Z({marker:n,offset:t,cancelToken:i,startDate:s,endDate:a,limit:r.P9}),o){const s=(0,H.Fv)(o.list,z.Xd);e("set",s,{root:!0}),e("setStatementsReferredUsers",{items:o.list,hasMore:o.hasMore,addMore:!!t}),e("setStatementsReferredUsersMarker",o.marker)}}catch(c){if(!(c instanceof n))throw c}finally{e("setStatementsReferredUsersLoading",!1)}return o},async fetchEngagementMessagesSummary({commit:e}){e("setEngagementMessagesSummaryLoading",!0);const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchEngagementMessagesSummary"),{endDateFormatted:a,startDateFormatted:i}=ce.timePeriod;let n;try{return n=await m({startDate:i,endDate:a,cancelToken:t,fieldBy:"messages"}),n&&e("setEngagementMessagesSummary",n.massMessages||null),n}catch(o){if(!(o instanceof s))throw o;return n}finally{e("setEngagementMessagesSummaryLoading",!1)}},async fetchStatementsDisputesChart({commit:e,state:t}){e("setStatementsDisputesChartLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=t.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchStatementsDisputesChart");let o;try{o=await E({cancelToken:i,startDate:s,endDate:a}),o&&e("setStatementsDisputesChart",o)}catch(c){if(!(c instanceof n))throw c}finally{e("setStatementsDisputesChartLoading",!1)}return o},async fetchStatementsReferralsChart({commit:e,state:t}){e("setStatementsReferralsChartLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=t.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchStatementsReferralsChart");let o;try{o=await D({cancelToken:i,startDate:s,endDate:a}),o&&e("setStatementsReferralsChart",o)}catch(c){if(!(c instanceof n))throw c}finally{e("setStatementsReferralsChartLoading",!1)}return o},async fetchStatementsVatChart({commit:e,state:t}){e("setStatementsVatChartLoading",!0);const{startDateFormatted:s,endDateFormatted:a}=t.timePeriod,{cancelToken:i,Cancel:n}=(0,r.Yz)("fetchStatementsVatChart");let o;try{o=await U({cancelToken:i,startDate:s,endDate:a}),o&&e("setStatementsVatChart",o)}catch(c){if(!(c instanceof n))throw c}finally{e("setStatementsVatChartLoading",!1)}return o},async fetchStoryTippers({commit:e},{storyId:t,offset:s=0,limit:r=10,more:a=!1}){try{const i=await R({storyId:t,offset:s,limit:r});if(i&&i.list){const t=(0,H.Fv)(i.list,z.Xd);e("set",t,{root:!0}),e("setStoryTippers",{list:t.result,more:a})}return i}catch(i){return{}}},async fetchStoryViewers({commit:e},{storyId:t,offset:s=0,limit:r=10,more:a=!1}){try{const i=await O({storyId:t,offset:s,limit:r});if(i&&i.list){const t=(0,H.Fv)(i.list,z.Xd);e("set",t,{root:!0}),e("setStoryViewers",{list:t.result,more:a})}return i}catch(i){return{}}},async fetchClaims({commit:e},{claim:t,offset:s=0,limit:r=10,more:a=!1}){try{const{id:i,kind:n}=t,o=await B({id:i,kind:n,offset:s,limit:r});if(o&&o.length){const t=(0,H.Fv)(o,z.Xd);return e("set",t,{root:!0}),e("setClaims",{list:t.result,more:a}),{list:t.result,hasMore:t.result.length===r}}return o}catch(i){return{}}},async fetchOverviewEarningStatistics({commit:e},{start:t,end:s}={}){let a="fetchOverviewEarningStatistics",i="setOverviewEarningsStatisticsLoading",n="setOverviewEarningsStatistics",o={};(t||s)&&(a="fetchOverviewEarningStatisticsByDate",i="setOverviewEarningsStatisticsByDateLoading",n="setOverviewEarningsStatisticsByDate");const{cancelToken:c,Cancel:d}=(0,r.Yz)(a);e(i,!0);try{const e=await W({start:t,end:s,cancelToken:c});o=e.list}catch(u){if(!(u instanceof d))throw u}return e(n,o),e(i,!1),o},async fetchOverviewStatistics({commit:e},{startDate:t,endDate:s}={}){const{cancelToken:a,Cancel:i}=(0,r.Yz)("fetchOverviewStatistics");e("setOverviewEarningsStatisticsLoading",!0);let n={};try{n=await c({startDate:t,endDate:s,cancelToken:a})}catch(o){if(!(o instanceof i))throw o}return e("setOverviewChartsData",n),e("setOverviewEarningsStatisticsLoading",!1),n},async fetchMonthlyTotalStatistics({commit:e}){const{cancelToken:t,Cancel:s}=(0,r.Yz)("fetchMonthlyTotalStatistics");e("setMonthlyTotalStatisticsLoading",!0);let a={};try{a=await V({cancelToken:t})}catch(i){if(!(i instanceof s))throw i}return e("setMonthlyTotalStatisticsData",a.monthlyTotal),e("setMonthlyTotalStatisticsLoading",!1),a}}},746382:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return P},getters:function(){return y},mutations:function(){return v},state:function(){return g}});var r=s(535937),a=s.n(r),i=s(944908),n=s.n(i),o=s(227361),c=s.n(o),d=(s(333948),s(21703),s(749832)),u=s(410697),l=s(782677),m=s(243168),h=s(172462),f=s(532622);const p=()=>({storyLoadingStatus:{},items:{},userItemIds:{},feedIds:[],archiveIds:[],archiveStoriesLoading:!1,archiveStoriesLoaded:!1,currentStoryId:null,highlightsItems:{},profileHighlights:[],modalHighlights:[],profileHighlightsLoading:!1,profileHighlightsHasMore:!0,profileHighlightsOffset:0,modalHighlightsLoading:!1,modalHighlightsHasMore:!0,modalHighlightsOffset:0,currentHighlights:null,storyBlockedViewers:[],storyAnswers:[],storyAnswersHasMore:!0,storyAnswersLoading:!1}),g=p(),y={myStories:(e,t,s,r)=>e.userItemIds[r["auth/authUserId"]]||[],getUserStories:e=>t=>!!t&&e.userItemIds[t]||[],getStory:e=>t=>!!t&&e.items[t]||{},getHighlights:e=>t=>!!t&&e.highlightsItems[t]||{},feedStories:e=>e.feedIds,archiveStories:e=>e.archiveIds,isAllUserStoriesWatched:e=>t=>(e.userItemIds[t]||[]).every((t=>e.items[t].isWatched)),getStoryLoadingState:e=>t=>e.storyLoadingStatus[t]},v={addStoryToUser(e,{userId:t,storyId:s}){const r=e.userItemIds[t]||[];r.includes(s)||(e.userItemIds=Object.assign({},e.userItemIds,{[t]:[...r,s]}))},addNewStory(e,{story:t}){e.items=Object.assign({},e.items,{[t.id]:t})},updateStoryById(e,{userId:t,storyId:s,fields:r={}}){if(!s||"object"!==typeof r)return;const a=s,i=r.id||s,n=Object.assign({},e.items[i],r),o=e.userItemIds[t]||[];a!==i&&(delete e.items[a],e.userItemIds[t]=o.filter((e=>e!==s)),e.userItemIds[t]=[...e.userItemIds[t],i]),e.items=Object.assign({},e.items,{[i]:n})},removeStory(e,{userId:t,storyId:s}){e.profileHighlights=e.profileHighlights.filter((t=>{const{coverStoryId:r,storiesCount:a}=e.highlightsItems[t];return r!==s||1!==a})),e.modalHighlights=e.modalHighlights.filter((t=>{const{coverStoryId:r,storiesCount:a}=e.highlightsItems[t];return r!==s||1!==a})),e.userItemIds[t]=(e.userItemIds[t]||[]).filter((e=>e!==s)),e.archiveIds=e.archiveIds.filter((e=>e!==s)),e.userItemIds[t].length||(e.feedIds=e.feedIds.filter((e=>e!==t))),e.items=a()(e.items,(({id:e})=>e!==s))},setFeedStories(e,t){e.feedIds=t},setArchiveLoading(e,t){e.archiveStoriesLoading=t},setArchiveLoaded(e,t){e.archiveStoriesLoaded=t},setArchiveStories(e,{stories:t,offset:s}){e.archiveIds=s?[...e.archiveIds,...t]:t},setUserStories(e,{userId:t,stories:s}){const r=(e.userItemIds[t]||[]).filter((e=>"string"===typeof e));e.userItemIds=Object.assign({},e.userItemIds,{[t]:[...s,...r]})},likeStory(e,{id:t,value:s}){e.items[t]={...e.items[t],isLiked:s}},setProfileHighlightsLoading(e,t){e.profileHighlightsLoading=t},setModalHighlightsLoading(e,t){e.modalHighlightsLoading=t},setProfileHighlights(e,{highlights:t=[],hasMore:s=!0,reset:r=!0}){e.profileHighlightsHasMore=s,e.profileHighlights=r?t:n()([...e.profileHighlights,...t])},setModalHighlights(e,{highlights:t=[],hasMore:s=!0,reset:r=!0}){e.modalHighlightsHasMore=s,e.modalHighlights=r?t:n()([...e.modalHighlights,...t])},setProfileHighlightsOffset(e,t){e.profileHighlightsOffset=t},setModalHighlightsOffset(e,t){e.modalHighlightsOffset=t},resetProfileHighlights(e){e.profileHighlights=[],e.profileHighlightsOffset=0,e.profileHighlightsHasMore=!0},resetModalHighlights(e){e.modalHighlights=[],e.modalHighlightsOffset=0,e.modalHighlightsHasMore=!0},addSavedHighlight(e,t){e.profileHighlights=[t,...e.profileHighlights]},setCurrentHighlights(e,t){e.currentHighlights=t},setCurrentStory(e,t){e.currentStoryId=t},setStoryBlockedViewers(e,t){e.storyBlockedViewers=t},setStoryAsWatched(e,{id:t}){"object"===typeof e.items[t]&&(e.items[t]={...e.items[t],isWatched:!0})},removeHighlights(e,t){e.profileHighlights=e.profileHighlights.filter((e=>e!==t))},setStoryAnswersLoading(e,t){e.storyAnswersLoading=t},setStoryAnswers(e,{answers:t,hasMore:s}){e.storyAnswers=[...e.storyAnswers,...t],e.storyAnswersHasMore=s},resetStoryAnswers(e){e.storyAnswers=[],e.storyAnswersHasMore=!0},deleteStoryAnswer(e,t){e.storyAnswers=e.storyAnswers.filter((e=>e.id!==t))},hideUserStories(e,{userId:t}){e.userItemIds[t]=[],e.feedIds=e.feedIds.filter((e=>e!==t)),e.items=e.items.filter((e=>c()(e,"user.id")!==t))},clearArchive(e){e.archiveIds.forEach((t=>{delete e.items[t]}))},updateLoadingStatus(e,{id:t,status:s=Date.now()}){e.storyLoadingStatus=Object.assign({},e.storyLoadingStatus,{[t]:s})},logout(e){Object.assign(e,p())}},P={async fetchFeedStories({commit:e},t={}){const{cancelToken:s,Cancel:r}=(0,f.Yz)("fetchFeedStories");try{const r=await(0,d.EB)(t,s);if(r&&Array.isArray(r)){const t=(0,l.Fv)(r,m.nz),s=t.result.map((e=>t.entities.userStories[e]));e("set",t,{root:!0});const a=s.map((({user:t,stories:s})=>(e("setUserStories",{stories:s,userId:t}),t)));e("setFeedStories",a)}else e("setFeedStories",[]),(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(a){a instanceof r||(0,h.oj)({error:a})}},async fetchUserStories({commit:e},t){e("updateLoadingStatus",{id:t,status:"pending"});try{const s=await(0,d.qn)(t);if(s&&Array.isArray(s)){const r=(0,l.Fv)(s,m.BO);e("set",r,{root:!0}),e("setUserStories",{stories:r.result,userId:t})}else e("setUserStories",{stories:[],userId:t}),(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch{e("setUserStories",{stories:[],userId:t})}e("updateLoadingStatus",{id:t})},async fetchMyStories({commit:e,rootGetters:t}){const{id:s}=t["auth/authUser"],{cancelToken:r}=(0,f.Yz)("fetchMyStories");try{const t=await(0,d.Cb)(r);if(t&&Array.isArray(t)){const r=(0,l.Fv)(t,m.BO);e("set",r,{root:!0}),e("setUserStories",{stories:r.result,userId:s})}else e("setUserStories",{stories:[],userId:s}),(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch{e("setUserStories",{stories:[],userId:s})}},resetUserStories({commit:e},t){e("setUserStories",{stories:[],userId:t})},resetMyStories({rootGetters:e,dispatch:t}){const{id:s}=e["auth/authUser"];t("resetUserStories",s)},updateStoryById({dispatch:e,commit:t},{storyId:s,userId:r,fields:a}){t("updateStoryById",{storyId:s,userId:r,fields:a}),e("updateUserHasStories",r)},async fetchArchive({commit:e},t=0){e("setArchiveLoading",!0);try{const{list:s,hasMore:r}=await(0,d.WL)(t);if(s&&Array.isArray(s)){const a=(0,l.Fv)(s,m.BO);e("set",a,{root:!0}),e("setArchiveStories",{stories:a.result,offset:t}),e("setArchiveLoaded",!r)}else e("setArchiveLoaded",!0),e("setArchiveStories",{stories:[]})}catch(s){(0,h.oj)({error:s}),e("setArchiveLoaded",!0),e("setArchiveStories",{stories:[]})}e("setArchiveLoading",!1)},resetArchive({commit:e}){e("setArchiveLoaded",!1),e("setArchiveStories",{stories:[],offset:0}),e("setArchiveLoading",!1)},async fetchStoryById({commit:e},t){e("updateLoadingStatus",{id:`story_${t}`,status:"pending"});try{const s=await(0,d.x4)(t),r=(0,l.Fv)(s,m.iT);e("set",r,{root:!0}),e("setCurrentStory",t)}catch(s){e("setCurrentStory",null)}e("updateLoadingStatus",{id:`story_${t}`})},async addUserStoriesOnFeed({state:e,commit:t,dispatch:s},r){s("fetchUserStories",r);const a=e.userItemIds[r]||[];a.length&&t("setFeedStories",[r,...e.feedIds])},addNewStory({commit:e,dispatch:t},{userId:s,story:r}){e("addNewStory",{story:r}),e("addStoryToUser",{userId:s,storyId:r.id}),t("updateUserHasStories",s)},watchStory({commit:e,getters:t},{id:s,userId:r}){e("setStoryAsWatched",{id:s,userId:r});const a=t.isAllUserStoriesWatched(r);a&&e("users/setUserField",{userId:r,field:"hasNotViewedStory",status:!1},{root:!0}),(0,d.xg)(s)},async removeStory({commit:e,dispatch:t},{storyId:s,userId:r}){"number"===typeof s&&await(0,d.gm)(s),e("removeStory",{storyId:s,userId:r}),t("updateUserHasStories",r)},updateUserHasStories({commit:e,state:t},s){const r=t.userItemIds[s]||[],a=r.filter((e=>t.items[e].isReady)),i=!!a.length,n=a.some((e=>!t.items[e].isWatched));e("users/setUserField",{userId:s,field:"hasStories",status:i},{root:!0}),e("users/setUserField",{userId:s,field:"hasNotViewedStory",status:n},{root:!0})},async like({commit:e},{id:t}){try{e("likeStory",{id:t,value:!0});const s=await(0,d.ON)(t);s&&s.success&&e("likeStory",{id:t,value:s.isLiked})}catch(s){(0,h.Po)(s)}},async unlike({commit:e},{id:t}){try{e("likeStory",{id:t,value:!1});const s=await(0,d.Af)(t);s&&s.success&&e("likeStory",{id:t,value:s.isLiked})}catch(s){(0,h.Po)(s)}},async comment(e,{id:t,userId:s,text:r}){let a;try{a=await(0,u.bG)(s,{text:r,storyId:t})}catch(i){(0,h.Po)(i)}return a},async saveHighlights({commit:e},t){const s=!!t.id,r=s?d.sd:d.wJ,a=await r(t),i=(0,l.Fv)(a,m.Vc);e("set",i,{root:!0}),s||e("addSavedHighlight",i.result)},patchHighlight(e,{highlightId:t,storyIds:s}){(0,d.UU)(t,{storyIds:s})},async fetchUserHighlights({state:e,commit:t},{userId:s,additive:r=!1,storyIdToCheck:a=null,place:i="profile"}){const n="profile"===i?"setProfileHighlights":"setModalHighlights",o="profile"===i?"setProfileHighlightsLoading":"setModalHighlightsLoading",c="profile"===i?"setProfileHighlightsOffset":"setModalHighlightsOffset",u="profile"===i?e.profileHighlightsHasMore:e.modalHighlightsHasMore,h=5;if(r&&!u)return;r||(t(c,0),t(n,{highlights:[],hasMore:!0,reset:!0})),t(o,!0);let f=0;r&&(f="profile"===i?e.profileHighlightsOffset:e.modalHighlightsOffset);try{const e=await(0,d.IA)({userId:s,offset:f,limit:h,storyIdToCheck:a}),{list:i,hasMore:o}=e,u=(0,l.Fv)(i,m.JJ);t("set",u,{root:!0});const p=u.result;t(n,{highlights:p,hasMore:o,reset:!r}),t(c,o?f+h:0)}catch(p){t(n,{highlights:[],hasMore:!1,reset:!0}),t(c,0)}t(o,!1)},async fetchHighlightsById({commit:e},t){e("setCurrentHighlights",null);const{cancelToken:s}=(0,f.Yz)("fetchHighlightsById");e("updateLoadingStatus",{id:`highlights_${t}`,status:"pending"});try{const r=await(0,d.Bd)(t,s);if(r){const t=(0,l.Fv)(r,m.Vc);e("set",t,{root:!0}),e("setCurrentHighlights",t.result)}else(0,h.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(r){}e("updateLoadingStatus",{id:`highlights_${t}`})},async removeHighlights({commit:e},t){await(0,d.d_)(t),e("removeHighlights",t),e("updateHighlightsOffset",0)},resetCurrentHighlights({commit:e}){e("setCurrentHighlights",null)},resetStoryAnswers({commit:e}){e("resetStoryAnswers"),e("setStoryAnswersLoading",!1)},async fetchStoryAnswers({dispatch:e,commit:t},s){const{storyId:r,offset:a,limit:i}=s;t("setStoryAnswersLoading",!0);let n={};try{const{cancelToken:e}=(0,f.Yz)("fetchStoryAnswers");n=await(0,d.ix)({storyId:r,offset:a,limit:i,cancelToken:e})}catch(o){}return n&&"object"===typeof n&&n.list&&n.list.length&&(await e("users/getUsersIfNeeded",{entities:{users:n.list.reduce(((e,{userId:t})=>({...e,[t]:{_views:["m"]}})),{})}},{root:!0}),t("setStoryAnswers",{answers:n.list,hasMore:n.hasMore})),t("setStoryAnswersLoading",!1),n},async fetchStoryBlockedViewers({commit:e}){e("setStoryBlockedViewers",[]);try{const t=await(0,d.ke)();if(t&&"object"===typeof t&&t.length){const s=(0,l.Fv)(t,m.C_);e("set",s,{root:!0}),e("setStoryBlockedViewers",s.result)}}catch(t){}},async sendAnswer(e,{storyId:t,text:s}){try{return await(0,d.j6)(t,s),{status:!0}}catch(r){return{status:!1,errorText:c()(r,"data.error.message")}}},async deleteStoryAnswer({commit:e},t){try{const s=await(0,d.ZO)(t);s&&!s.err&&e("deleteStoryAnswer",t)}catch(s){}},reportStory({state:e,dispatch:t,commit:s},r){const{userId:a}=e.items[r];s("removeStory",{storyId:r,userId:a}),t("updateUserHasStories",a)},async createStory(e,t){const s=await(0,d.DZ)(t),{result:r,entities:a}=(0,l.Fv)(s,m.iT);return a.stories[r]},storySocketUpdate({dispatch:e,commit:t,getters:s,rootGetters:r},a={}){const i=r["auth/authUserId"],{id:n,userId:o,isReady:c,expiredAt:d}=a;if(!c)return;const u=(0,l.Fv)(a,m.iT);if(o!==i)t("stories/addStoryToUser",{userId:o,storyId:n},{root:!0}),t("set",u,{root:!0});else{const r=u.entities.stories[u.result],a=s.getStory(n);r.src&&a.src&&r.src!==a.src&&r.src.split("?")[0]===a.src.split("?")[0]&&(u.entities.stories[u.result].src=a.src),t("set",u,{root:!0}),d&&t("stories/addStoryToUser",{userId:o,storyId:n},{root:!0}),e("updateUserHasStories",o)}}}},982049:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return b},getters:function(){return S},mutations:function(){return w},state:function(){return P}});var r=s(227361),a=s.n(r),i=s(170735),n=s.n(i),o=s(291966),c=s.n(o),d=(s(333948),s(141817),s(198225)),u=s(782677),l=s(243168),m=s(849491),h=s(872308),f=s(181528);const p=!0,g=(e,t)=>{e.users={...e.users,[t.id]:{...e.users[t.id],...t}}},y=()=>({type:"",stream:{id:0,thumbUrl:"",startedAt:"",description:"",rawDescription:"",isShowTips:!1,tipsSumm:0,isOpened:!1,commentsCount:0},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,subscribedBy:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null,openseaInfo:{}},timer:"0:00",streamState:"beforeStart",videoPlaying:!1,volume:1,muted:!1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,comments:[],isWaiting:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1},streamType:h.eU.defaultStreamType,showTapToPlay:!1,videoLoaded:!1}),v=()=>({mode:"",local:{stream:{id:0,description:"",rawDescription:"",tipsSumm:0,isShowTips:!1,commentsCount:0},user:{id:0,name:"",username:"",displayName:null,isVerified:!1,tipsEnabled:!1,canEarn:!1,isPerformer:!1,avatar:null,avatarThumbs:null},start:0,duration:"0:00",timer:"0:00",streamState:"beforeStart",moduleInitialized:!1,availableStreamingServersRequestReceived:!1,covers:{items:[],selectedCover:{},successDownloaded:!1},stretchVideo:!1,tipGoal:{isShowTipGoal:!1,sum:null,progress:0,description:"",showTipGoalProgress:!1}},partners:{},primaryPartnerUserId:0,streamsOrder:[],users:{},comments:{ids:[],items:{}},hasMoreComments:!1,tippers:{},bestTipperId:void 0,likes:[],viewers:{ids:[],hasMore:!1,loading:!1},privateCommentUser:null,summary:{online:[],viewers:0,comments:0,likes:0,tips:0},streamingChatEnabled:!1,switchToLive:!1,switchFromLive:!1,switchFromDual:!1,UI:{showCommentForm:!1,showComments:!1,showStreamingViewers:!1,showStreamingActions:!1,showStreamingSummary:!1,commentsViewMode:"compact",hasUnreadComments:!1,showStreamingSystemStats:!1,endReason:"end",showStreamInformation:!1,showStreamDescription:!1,buttonsPanel:{showOrientationLabel:!0,showStartStreamBtn:!0,startStreamBtnDisabled:!0,showMicSwitchBtn:!0,micSwitchBtnDisabled:!0,showCameraSwitchBtn:!0,cameraSwitchBtnDisabled:!0},showTipGoalModal:!1,showStreamPriceModal:!1,streamingViewersMode:"viewers",showStreamInformationModal:!1,showVolumeControlsModal:!1,showViewControlsModal:!1,showShowTipsToggleBtn:!1,commentInputFocused:!1,streamDescriptionFocused:!1,viewMode:"grid",showServiceProblem:!1,showStreamingAvailabilityModal:!1,showServerMaintenance:!1,showReconnectingStatus:!1},mediaDevices:{isMicrophoneMuted:!1,selectedMicrophone:{},defaultMicrophone:{},microphoneList:[],selectedCamera:{},cameraList:[],cameraFacingMode:""},sentryLog:{getApiUrlRequest:{},getApiUrlResponse:{},startStreamRequested:!1,startStreamReceived:!1,onStreamStart:!1,roomName:null,streamId:null,user:null,detailedSpeedResult:null,failoverAttempts:[]},streamSystemStats:{bitrate:[]},streamPrice:{price:0},tcpTestResults:void 0,streamType:h.eU.defaultStreamType,failoverStarted:!1,primaryFailoverStreamTypes:["agora","webrtc","tcp"],secondaryFailoverStreamTypes:["nano"],failoverOrderedServers:[],availability:{includeListIds:[],excludeListIds:[],subscribersIds:[],scheduledSubscribedOn:"",usersCount:null},hasActiveStream:!1,hasActiveRtmpStream:!1,serverMaintenanceAt:null,failoverMode:!0,failoverRunStream:!1}),P=v(),S={streams(e){return Object.assign({},{[e.local.user.id]:e.local},e.partners)},partnersIds:e=>Object.keys(e.partners).map(Number),partnersArray:(e,t)=>t.partnersIds.map((t=>e.partners[t])),primaryPartner:e=>e.partners[e.primaryPartnerUserId],primary:(e,t)=>t.isStreamer?e.local:t.primaryPartner,partner:(e,t)=>t.partnersArray[0],partner2(e,t){return t.partnersArray[1]},partner3(e,t){return t.partnersArray[2]},isStreamer:e=>!e.primaryPartnerUserId||e.local.user.id==e.primaryPartnerUserId,isCoStreamer:(e,t)=>!t.isStreamer,anyPartnerIsLive:(e,t)=>t.partnersArray.some((e=>"started"===e.streamState)),streamDuration:e=>e.local.duration,tipGoal:e=>e.local.tipGoal,tipGoalVisible:e=>e.local.tipGoal.sum>0,streamPriceVisible:e=>e.streamPrice.price>0,timer(e,t){return t.isStreamer?e.local.timer:t.primaryPartner.timer}},w={setMode(e,t){e.mode=t},setLocal(e,t){e.local={...e.local,...t}},setLocalStream(e,t){e.local.stream={...e.local.stream,...t}},setLocalStreamUser(e,t){const s={id:t.id,name:t.name,username:t.username,displayName:t.displayName,isVerified:t.isVerified,tipsEnabled:t.tipsEnabled,subscribedBy:t.subscribedBy,canEarn:t.canEarn,isPerformer:t.isPerformer,avatar:t.avatar,avatarThumbs:t.avatarThumbs,openseaInfo:t.openseaInfo};e.local.user={...e.local.user,...s}},setStreamCovers(e,{data:t,instance:s}){e.local.user.id==s?e.local.covers=Object.assign(e.local.covers,t):e.partners[s].covers=Object.assign(e.partners[s].covers,t)},setPartnerUser(e,{user:t,instance:s}){const r={id:t.id,name:t.name,username:t.username,displayName:t.displayName,isVerified:t.isVerified,tipsEnabled:t.tipsEnabled,subscribedBy:t.subscribedBy,canEarn:t.canEarn,isPerformer:t.isPerformer,avatar:t.avatar,avatarThumbs:t.avatarThumbs,openseaInfo:t.openseaInfo};e.partners[s]||d.ZP.$set(e.partners,s,y()),e.partners[s].user={...e.partners[s].user,...r}},setPartnerStream(e,{stream:t,instance:s}){t&&e.partners[s]&&(e.partners[s].stream={...e.partners[s].stream,...t})},setPartner(e,{data:t,instance:s}){t&&e.partners[s]&&(e.partners[s]={...e.partners[s],...t})},removePartner(e,t){e.partners[t]&&d.ZP.$delete(e.partners,t)},setPrimaryPartnerUserId(e,t){t&&(e.primaryPartnerUserId=t)},setPartnerStreamVolume(e,{volume:t,instance:s}){e.partners[s].volume=t},setPartnerStreamMuted(e,{muted:t,instance:s}){e.partners[s].muted=t},setPartnerTipGoal(e,{data:t,instance:s}){e.partners[s].tipGoal={...e.partners[s].tipGoal,...t}},setUsers(e,t){e.users=t},updateStreamHelpers(e,t){e.users=Object.keys(e.users).map((s=>({...e.users[s],isStreamHelper:t.includes(+s)}))).reduce(((e,t)=>({...e,[t.id]:t})),{})},setSummary(e,t){e.summary={...e.summary,...t}},setComments(e,t){e.comments.ids=[...t.ids],e.comments.items={...t.items}},addComment(e,t){const{id:s,text:r,user:{id:a,hasStreamTips:i=!1,hasTopStreamTips:n=!1},isPrivate:o=!1,isServiceMessage:c=!1}=t;a&&(e.tippers={...e.tippers,[a]:i}),n&&(e.bestTipperId=a),g(e,t.user),e.comments.items[t.id]={id:s,text:r,userId:a,isPrivate:o,isServiceMessage:c},e.comments.ids=[...e.comments.ids,t.id]},addComments(e,t){[...t||[]].forEach((t=>{void 0===e.tippers[t.user.id]&&t.user.hasStreamTips&&(e.tippers[t.user.id]=t.user.hasStreamTips),!e.bestTipperId&&t.user.hasTopStreamTips&&(e.bestTipperId=t.user.id),e.comments.items[t.comment_id]={id:t.comment_id,text:t.comment,userId:t.user.id,isPrivate:!1},e.users[t.user.id]||g(e,t.user),e.comments.ids=[t.comment_id,...e.comments.ids]}))},removeComment(e,t){t&&(e.comments.ids=e.comments.ids.filter((e=>e!=t)),delete e.comments.items[t])},addTips(e,t){e.summary.tips+=t},addLike(e,t){t.id=e.summary.likes;const s=[e.local.user.id,...Object.keys(e.partners)];s.find((e=>e==t.streamUserId))&&(e.likes=[...e.likes,t],e.local.user.id==t.streamUserId&&(e.summary.likes+=1))},removeLike(e,t){e.likes=e.likes.filter((e=>e.id!==t.id))},incrementViewersCount(e,t){e.summary.viewers+=t},decrementViewersCount(e,t){e.summary.viewers-=t},setViewersCount(e,t){e.summary.viewers=t},addViewer(e,t){g(e,t),e.viewers.ids=[...e.viewers.ids,+t.id]},addViewers(e,t){const s=[];e.users={...e.users,...t.reduce(((e,t)=>(s.push(+t.id),{...e,[t.id]:t})),{})},e.viewers.ids=[...e.viewers.ids,...s]},removeViewer(e,t){e.viewers.ids=e.viewers.ids.filter((e=>e!=t.id))},setViewers(e,t){e.viewers={...e.viewers,...t}},clearViewers(e){e.viewers.ids=[],e.viewers.hasMore=!1,e.viewers.loading=!1},setStreamingChatEnabled(e,t){e.streamingChatEnabled=t},setUI(e,t){e.UI={...e.UI,...t}},setUIButtonsPanel(e,t){e.UI.buttonsPanel={...e.UI.buttonsPanel,...t}},setDefaultPartnerUserStreamState(e,t){e.partners[t]={...e.partners[t],...y()}},setDefaultState(e){Object.assign(e,v())},setSwitchToLive(e,t){e.switchToLive=t},setSwitchFromLive(e,t){e.switchFromLive=t},setSwitchFromDual(e,t){e.switchFromDual=t},setMediaDevices(e,t){e.mediaDevices={...e.mediaDevices,...t}},setSentryLog(e,{key:t,value:s}){t&&(e.sentryLog[t]=s)},setStreamSystemStats(e,t){e.streamSystemStats={...e.streamSystemStats,...t}},setTipGoal(e,t){e.local.tipGoal={...e.local.tipGoal,...t}},setStreamPrice(e,t){e.streamPrice={...e.streamPrice,...t}},setPrivateCommentUser(e,t){e.privateCommentUser=t?{...t}:null},setStreamsOrder(e,t){e.streamsOrder=[...t]},removeStreamsOrder(e,t){e.streamsOrder=e.streamsOrder.filter((e=>e!=t))},setStreamType(e,t){e.streamType=t},setTcpTestResults(e,t){p||(e.tcpTestResults=t)},setAvailability(e,{includeListIds:t=[],excludeListIds:s=[],subscribersIds:r=[],scheduledSubscribedOn:a="",usersCount:i=null}){e.availability.includeListIds=t,e.availability.excludeListIds=s,e.availability.subscribersIds=r,e.availability.scheduledSubscribedOn=a,e.availability.usersCount=i},setHasActiveStream(e,t){e.hasActiveStream=t},setHasActiveRtmpStream(e,t){e.hasActiveRtmpStream=t},setHasMoreComments(e,t){e.hasMoreComments=t},setServerMaintenanceAt(e,t){e.serverMaintenanceAt=t},setFailoverMode(e,t){e.failoverMode=t},setFailoverRunStream(e,t){e.failoverRunStream=t},setFailoverStarted(e,t){e.failoverStarted=t},pushFailoverOrderedServer(e,t){e.failoverOrderedServers.push(t)},shiftFailoverOrderedServer(e){e.failoverOrderedServers.shift()},logout(e){Object.assign(e,v())}},b={async createStreamModule({state:e}){await(0,h.cc)(e.streamType)},async createViewModules({state:e}){await Promise.all(Object.keys(e.partners).map(h.k2))},destroy({state:e,commit:t,dispatch:s}){(0,h.cT)(),e.switchToLive||(s("destroyAllPartnersStreams"),delete window.viewModule),t("setDefaultState")},destroyAllPartnersStreams({state:e,dispatch:t}){Object.keys(e.partners).forEach((e=>{t("destroyPartnerStream",e)}))},destroyPartnerStream({state:e,dispatch:t},s){e.partners[s]&&((0,h.D5)({instance:s}),t("removePartner",s))},removePartner({state:e,commit:t},s){t("removeStreamsOrder",s),e.partners[s]&&t("removePartner",s)},stopAllPartnersStreams({state:e}){Object.keys(e.partners).forEach((e=>{(0,h.Pe)(e,"stopCostreams")}))},addComment({state:e,commit:t},s){t("addComment",s),t("setSummary",{comments:e.summary.comments+1})},addTips({state:e,commit:t,rootGetters:s},r){const a={[e.local.user.id]:{id:e.local.user.id,name:(0,f.HZ)(e.local.user.name||e.local.user.username)}};if("dual-streaming"===e.mode){const t=e.partners[r.stream_user_id];t&&(a[t.user.id]=t.user)}const i=a[r.stream_user_id];if(!i)return;const n=(0,h.b$)({vm:d.ZP,authUser:s["auth/authUser"],fromUser:r.from_user,toUser:i,amount:r.amount_human,message:r.message}),o={id:r.id,text:n,user:r.from_user,isServiceMessage:!0};t("addComment",o);const c=+parseFloat(r.amount).toFixed(2);e.local.user.id==i.id?t("addTips",c):t("setPartnerStream",{instance:i.id,stream:{tipsSumm:c}})},joinUser({state:e,getters:t,commit:s},r){if(s("addViewer",r),"dual-streaming"===e.mode&&t.isCoStreamer&&Object.keys(e.partners).includes(r.id))return;if(e.summary.viewers>20)return;const a={id:`${r.id}_${(new Date).getTime()}`,user:r,text:d.ZP.$t("message.has_joined_stream_comment"),isServiceMessage:!0};s("addComment",a),setTimeout((()=>{s("removeComment",a.id)}),6e4)},leaveUser({commit:e},t){e("removeViewer",t)},async addLike({commit:e},t){e("addLike",t)},async removeLike({commit:e},t){e("removeLike",t)},addSubscribedComment({commit:e},t){const s={id:`${t.id}_${(new Date).getTime()}`,user:t,text:d.ZP.$t("message.streaming_user_subscribed"),isServiceMessage:!0};e("addComment",s),setTimeout((()=>{e("removeComment",s.id)}),6e4)},enableStreamingChat({commit:e,dispatch:t},s){e("setStreamingChatEnabled",!0),e("setLocal",{streamState:"started"}),e("setLocalStream",{id:s.id}),t("setStreamData",s)},disableStreamingChat({commit:e}){e("setUI",{showStreamingSummary:!0}),e("setLocal",{streamState:"ended"})},setStreamData({state:e,getters:t,commit:s,dispatch:r},a={}){if("started"!==e.local.streamState)return;s("setLocalStream",{description:a.description,rawDescription:a.rawDescription,tipsSumm:+parseFloat(a.tipsSumm).toFixed(2),isShowTips:!!+a.isShowTips,commentsCount:+a.commentsCount}),s("setSummary",{comments:e.local.stream.commentsCount}),e.summary.comments>e.comments.length&&s("setHasMoreComments",!0),s("setLocalStreamUser",a.user);const i={isShowTipGoal:!!+a.isShowTipsGoal,sum:+a.tipsGoalSum,progress:+a.tipsGoalProgress,description:a.tipsGoal};s("setTipGoal",i);const o=a.partners||[],c=n()(t.partnersArray,o,(e=>e.user.id));c.forEach((e=>{r("destroyPartnerStream",e.user.id)})),o.forEach((e=>{const t=a.primaryPartnerUserId==e.user.id?"primary":"partner";r("setPartnerUserStreamData",{instance:e.user.id,streamData:e,partnerType:t})})),r("refreshStreamsOrder"),s("setPrimaryPartnerUserId",a.primaryPartnerUserId),o.length?s("setMode","dual-streaming"):(s("setMode","streaming"),s("setSwitchFromDual",!0))},setPartnerUserStreamData({commit:e},{streamData:t,instance:s,partnerType:r="partner",applyTips:a=!1}){if(!t||!s)return;if(t.user.id!=s)return;const i=(0,u.Fv)({...t.user},l.IK);if(e("set",i,{root:!0}),e("setPartnerUser",{user:t.user,instance:s}),e("setPartner",{data:{type:r},instance:s}),e("setPartnerStream",{stream:{id:t.id,thumbUrl:t.thumbUrl,startedAt:t.startedAt,canJoin:t.canJoin,description:t.description,rawDescription:t.rawDescription,isOpened:!!+t.isOpened,commentsCount:+t.commentsCount},instance:s}),"primary"===r&&(e("setSummary",{comments:P.partners[s].stream.commentsCount}),P.summary.comments>P.comments.length&&e("setHasMoreComments",!0)),a){e("setPartnerStream",{stream:{isShowTips:!!+t.isShowTips,tipsSumm:+parseFloat(t.tipsSumm).toFixed(2)},instance:s});const r={isShowTipGoal:!!+t.isShowTipsGoal,sum:+t.tipsGoalSum,progress:+t.tipsGoalProgress,description:t.tipsGoal};e("setPartnerTipGoal",{data:r,instance:s})}},addPartner({commit:e},{partner:t,type:s}){e("setPartnerUser",{user:t.user,instance:t.user.id}),e("setPartnerStream",{stream:t.stream,instance:t.user.id}),e("setPartner",{data:{type:s,streamState:t.streamState,videoPlaying:t.videoPlaying,stretchVideo:t.stretchVideo},instance:t.user.id}),e("setPartnerStreamVolume",{volume:t.volume,instance:t.user.id}),e("setPartnerStreamMuted",{muted:t.muted,instance:t.user.id}),e("setPartnerTipGoal",{data:{isShowTipGoal:t.tipGoal.isShowTipGoal,sum:t.tipGoal.sum,progress:t.tipGoal.progress,description:t.tipGoal.description,showTipGoalProgress:t.tipGoal.showTipGoalProgress},instance:t.user.id})},doSwitchFromLive({rootGetters:e,commit:t,dispatch:s},{livePrimary:r,partners:a,comments:i,users:n,UI:o,streamType:c}){const d=e["auth/authUser"];t("setLocalStreamUser",d),c=h.eU.costreamingTypeMappings[c]||c,t("setStreamType",c),s("addPartner",{partner:r,type:"primary"}),t("setPrimaryPartnerUserId",r.user.id),a.forEach((e=>{s("addPartner",{partner:e,type:"partner"})})),s("refreshStreamsOrder"),t("setUsers",n),t("setComments",i),t("setUI",o),t("setSwitchFromLive",!0)},toggleCommentsViewMode({state:e,commit:t}){const s="full"===e.UI.commentsViewMode?"compact":"full";t("setUI",{commentsViewMode:s})},showStreamingViewersModal({commit:e},t){t&&e("setUI",{streamingViewersMode:t}),e("setUI",{showStreamingViewers:!0})},setAllShowTipGoalProgress({getters:e,commit:t},s){t("setTipGoal",{showTipGoalProgress:s}),e.partnersIds.forEach((e=>{t("setPartnerTipGoal",{data:{showTipGoalProgress:s},instance:e})}))},refreshStreamsOrder({state:e,getters:t,commit:s}){const r=[e.local.user.id,...t.partnersIds],a=c()(e.streamsOrder,r),i=c()(r,e.streamsOrder);if(a||i){const t=[...e.streamsOrder.filter((e=>!a.includes(e))),...i];s("setStreamsOrder",t)}},async checkActiveStream({commit:e}){try{const t=await(0,m.ml)();e("setHasActiveStream",!!t.hasActive)}catch{e("setHasActiveStream",!1)}},async checkActiveRtmpStream({commit:e}){const t=await(0,m.Km)({skip_users:"all"}),s=t.filter((e=>e.isActive));if(s.length){const t=s[0];e("setHasActiveStream",!0),e("setHasActiveRtmpStream","obs"===t.streamingPlatform)}else e("setHasActiveStream",!1),e("setHasActiveRtmpStream",!1)},async loadMoreComments({state:e,commit:t}){const s=await(0,m.W7)(e.local.stream.id,{id:e.comments.ids.length?e.comments.ids[0]:void 0,limit:20});t("addComments",s.list),t("setHasMoreComments",s.hasMore)},async updateStreamInformation({state:e,commit:t},s){const r=await(0,m.jI)({streamId:e.local.stream.id,data:s});t("setLocalStream",{description:r.description,rawDescription:r.rawDescription,isShowTips:r.isShowTips})},async fetchStreamViewers({state:e,commit:t},{more:s=!1,query:r=""}){try{s||t("clearViewers");const i=e.viewers.ids.length;t("setViewers",{loading:!0});const n=await(0,m.ip)({streamId:e.local.stream.id,offset:i,query:r});a()(n,"list.length",0)&&(t("addViewers",n.list),t("setViewers",{hasMore:n.hasMore}))}catch(i){}finally{t("setViewers",{loading:!1})}}}},966312:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return S},getters:function(){return v},mutations:function(){return P},state:function(){return y}});var r=s(957557),a=s.n(r),i=s(875472),n=s.n(i),o=s(393386),c=s.n(o),d=s(291966),u=s.n(d),l=(s(333948),s(782677)),m=s(243168),h=s(629857),f=s(849491),p=s(532622);const g=()=>({items:{},itemIds:[]}),y=g(),v={streams(e){return n()(e.itemIds,null,"desc").map((t=>e.items[t]))},streamsByUserId(e){return n()(e.itemIds,null,"desc").reduce(((t,s)=>({...t,[e.items[s].user]:e.items[s]})),{})}},P={setItemIds(e,t){e.itemIds=[...t]},removeItems(e,{ids:t}){if(t&&t.length){const s=u()(e.itemIds,t);e.itemIds=[...s]}else e.itemIds=[]},updateItem(e,t){e.items[t.id]&&(e.items={...e.items,[t.id]:{...e.items[t.id],...t}})},removeItem(e,t){e.items=a()(e.items,t),e.itemIds=e.itemIds.filter((e=>e!==t))},logout(e){Object.assign(e,g())}},S={fetchStreamsFeed:async({commit:e,dispatch:t},s={})=>{let r;const{cancelToken:a}=(0,p.Yz)("fetchStreamsFeed");try{s.skip_users="all",r=await(0,h.xf)(s,a)}catch(i){}if(r)if(r.list&&r.list.length){const s=(0,l.Fv)(r.list,m.Ro);await t("users/getUsersIfNeeded",s,{root:!0}),e("set",s,{root:!0});const a=s.result;e("setItemIds",a)}else e("setItemIds",[])},async fetchUserStream({commit:e},t){let s;try{s=await(0,f.UD)(t)}catch(r){}if(s){const t=(0,l.Fv)([s],m.Ro);e("set",t,{root:!0});const r=t.result;e("setItemIds",c()(y.itemIds,r));const a=(0,l.Fv)(s.user,m.IK);e("set",a,{root:!0})}},async removeStreamFromFeed({state:e,commit:t},{userId:s}){const r=e.itemIds.map((t=>e.items[t])).filter((e=>e.user==s)).map((e=>e.id));t("removeItems",{ids:r});const a=e.itemIds.map((t=>e.items[t])).filter((e=>e.partners.some((e=>e.user.id==s)))).map((e=>e.user)),i=async()=>Promise.all(a.map((e=>(0,f.UD)(e)))),n=await i();if(n){const s=(0,l.Fv)(n,m.Ro);t("set",s,{root:!0});const r=s.result;t("setItemIds",c()(e.itemIds,r))}}}},269186:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return u},getters:function(){return c},mutations:function(){return d},state:function(){return o}});var r=s(999023),a=s(782677),i=s(243168);const n=()=>({userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1}),o=n(),c={pastStreams(e){return e.itemsIds.map((t=>e.items[t]))}},d={setUserId(e,t){e.userId!==t&&(e.offset=0,e.itemsIds=[],e.items={}),e.userId=t},setStreams(e,t){t?(e.hasMore=t.hasMore,e.hasMore&&(e.offset+=e.limit),t.list.forEach((t=>{e.items[t.id]||e.itemsIds.push(t.id),e.items[t.id]=t}))):e.hasMore=!1},logout(e){Object.assign(e,n())}},u={fetchPastStreams:async({commit:e,state:t,dispatch:s},n)=>{let o;e("setUserId",n);try{o=await(0,r.Op)({userId:n,offset:t.offset,limit:t.limit})}catch(d){}if(o){var c;if(null!==(c=o.list)&&void 0!==c&&c.length){const e=(0,a.Fv)(o.list,i.Ro);await s("users/getUsersIfNeeded",e,{root:!0})}e("setStreams",o)}else e("setStreams")}}},971708:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return u},getters:function(){return c},mutations:function(){return d},state:function(){return o}});var r=s(720144),a=s(999023),i=s(629857);const n=()=>({userId:null,items:{},itemsIds:[],offset:0,limit:8,hasMore:!1}),o=n(),c={scheduledStreamsHasMore:e=>e.hasMore,scheduledStreams:e=>e.itemsIds.map((t=>e.items[t])).sort(((e,t)=>new Date(e.scheduledAt)-new Date(t.scheduledAt))),mainScheduledStream(e,t){return t.scheduledStreams[0]},scheduledStreamsCount:e=>e.itemsIds.length},d={setUserId(e,t){e.userId!==t&&(e.offset=0,e.itemsIds=[],e.items={}),e.userId=t},setStreams(e,{payload:t,pages:s}={}){t?(0===e.offset&&(e.itemsIds=[],e.items={},e.hasMore=!1),s&&(e.hasMore=t.hasMore,e.hasMore&&(e.offset+=e.limit)),t.list.forEach((t=>{e.items[t.id]||e.itemsIds.push(t.id),e.items[t.id]&&r["default"]["delete"](e.items,t.id);const s=(new Date).getTime(),a=new Date(t.scheduledAt).getTime();t.dangerTime=s>a?"expired":a-s<=18e5&&"danger",r["default"].set(e.items,t.id,t)}))):(e.itemsIds=[],e.items={},e.hasMore=!1)},addStream(e,t){e.items[t.id]=t,e.itemsIds.unshift(t.id)},editStream(e,t){r["default"]["delete"](e.items,t.id),r["default"].set(e.items,t.id,t)},setReminder(e,t){e.items[t].isReminder=!0},unsetReminder(e,t){e.items[t].isReminder=!1},removeIds(e,t){t.forEach((t=>{e.itemsIds=e.itemsIds.filter((e=>e!==t))}))},logout(e){Object.assign(e,n())}},u={fetchScheduledStreams:async({commit:e,state:t},{userId:s,pages:r=!0})=>{let i;e("setUserId",s);try{i=await(0,a.$F)({userId:s,offset:t.offset,limit:t.limit})}catch(n){}i&&(i.list&&i.list.length?e("setStreams",{payload:i,pages:r}):e("setStreams"))},deleteScheduledStream:async({commit:e},t)=>{let s;try{s=await(0,i.ye)(t)}catch(r){}s&&e("removeIds",[t])},setScheduledStreamReminder:async({commit:e},t)=>{let s;try{s=await(0,i.$b)(t)}catch(r){}s&&e("setReminder",t)},unsetScheduledStreamReminder:async({commit:e},t)=>{let s;try{s=await(0,i.SA)(t)}catch(r){}s&&e("unsetReminder",t)}}},79233:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return g},getters:function(){return f},mutations:function(){return p},state:function(){return h}});var r=s(682492),a=s.n(r),i=(s(333948),s(21703),s(782677)),n=s(243168),o=s(172462),c=s(76816),d=s(999023),u=s(201505),l=s(532622);const m=()=>({items:{},awards:{},itemIds:[],awardsIds:[],subscribersCount:null,trials:{list:[],hasMore:!1},loading:!1,minSubscriptionPrice:3,minDiscountPercent:5,subscriptionHistory:{}}),h=m(),f={subscribers:e=>e.itemIds,getSubscriber:e=>t=>e.items[t],subscribersAwards:e=>e.awardsIds.map((t=>({id:t,percent:e.awards[t]})))},p={setLoading(e,t){e.loading=t},setSubscribers(e,{itemIds:t,data:s={}}){const{more:r}=s;e.itemIds=r?[...new Set([...e.itemIds,...t])]:[...t]},setSubscribersCount(e,t){e.subscribersCount=t},setTrials(e,{trials:t,more:s=!1}){e.trials={list:s?[...new Set([...e.trials.list,...t.list])]:[...t.list],hasMore:t.hasMore}},setTrial(e,t){e.trials.list.unshift(t)},deleteTrialMutation(e,t){e.trials.list=e.trials.list.filter((e=>e.id!==t))},setSubscribersAwardsIds(e,{ids:t=[],more:s=!1}={}){e.awardsIds=s?[...new Set([...e.awardsIds,...t])]:[...t]},setSubscribersAwards(e,t={}){e.awards=a()({},e.awards,t)},addSubscriptionHistory(e,{userId:t,history:s}){e.subscriptionHistory={...e.subscriptionHistory,[t]:s}},logout(e){Object.assign(e,m())}},g={async fetchSubscribers({commit:e},t={}){const{cancelToken:s,Cancel:r}=(0,l.Yz)("fetchSubscribers");try{e("setLoading",!0);const{more:r}=t;r||e("setSubscribers",{itemIds:[],data:t});const a=await(0,c.tY)(t,s);if(e("setLoading",!1),!Array.isArray(a))return(0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}}),[];if(a.length){const s=(0,i.Fv)(a,n.Xd),r=s.result;e("set",s,{root:!0}),e("setSubscribers",{itemIds:r,data:t})}return a}catch(a){if(!(a instanceof r))return e("setLoading",!1),[]}},async fetchSubscribersCount({commit:e},t={}){e("setSubscribersCount",null);try{const{count:s}=await(0,c.Iz)(t);void 0!==s&&e("setSubscribersCount",s)}catch(s){}},async putSubscriptionDiscount({commit:e},t={}){let s;try{var r;if(s=await(0,c.gr)(t),null!==(r=s)&&void 0!==r&&r.id){const t=(0,i.Fv)(s,n.IK);e("set",t,{root:!0})}}catch(a){(0,o.Po)(a)}return s},async createTrial({commit:e},t={}){try{const s=await(0,c.i2)(t);s&&e("setTrial",s)}catch(s){(0,o.Po)(s)}},async fetchTrials({commit:e},{more:t,...s}={}){e("setLoading",!0);const r=m();t||e("setTrials",{trials:r.trials});try{const r=await(0,c.mk)(s);return e("setTrials",{trials:r,more:t}),e("setLoading",!1),r}catch(a){return e("setLoading",!1),r.trials}},async deleteTrialAction({commit:e},t){let s;try{var r;s=await(0,c.l$)(t),null!==(r=s)&&void 0!==r&&r.success&&e("deleteTrialMutation",t)}catch(a){(0,o.Po)(a)}return s},async fetchSubscriber({commit:e},t){try{const s=await(0,d.PR)(t,{view:"subscriber"});if(s&&s.id){const t=(0,i.Fv)(s,n.IK);e("set",t,{root:!0})}}catch(s){}},async fetchSubscribersAwards({commit:e},t={}){try{const{more:s}=t;s||e("setSubscribersAwardsIds");const{list:r}=await(0,c.dl)(t);let a=[];if(Array.isArray(r)&&r.length){const t={};r.forEach((s=>{const r=(0,i.Fv)(s.user,n.IK),o=r.result;e("set",r,{root:!0}),t[o]=s.percent,a=[...new Set([...a,o])]})),e("setSubscribersAwards",t),e("setSubscribersAwardsIds",{ids:a,more:s})}return a}catch(s){return[]}},async clearPersonalDiscount({dispatch:e},t){await e("putSubscriptionDiscount",{id:t,discount:0,period:1})},async sendPersonalTrial(e,t={}){try{const e=await(0,u.PK)(t);return Array.isArray(e)?e:((0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:e}}),[])}catch(s){(0,o.Po)(s)}return[]},async fetchSubscriberHistory({commit:e},t){try{const s=await(0,c.IE)(t),{list:r}=s;Array.isArray(r)?r.length&&e("addSubscriptionHistory",{userId:t,history:r}):(0,o.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){}}}},514614:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return m},getters:function(){return u},mutations:function(){return l},state:function(){return d}});s(333948);var r=s(782677),a=s(243168),i=s(76816),n=s(172462),o=s(532622);const c=()=>({items:{},itemIds:[],subscribesCount:null}),d=c(),u={subscribes:e=>e.itemIds.map((t=>e.items[t])).filter((e=>e)),getSubscribe:e=>t=>e.items[t]},l={setSubscribes(e,{itemIds:t=[],more:s=!1}={}){e.itemIds=s?[...new Set([...e.itemIds,...t])]:[...t]},setSubscribesCount(e,t){e.subscribesCount=t},setSubscribeField(e,{id:t,field:s,status:r}){e.items[t]&&(e.items[t]={...e.items[t],[s]:r})},removeSubscribe(e,t){e.itemIds=e.itemIds.filter((e=>e!==t))},logout(e){Object.assign(e,c())}},m={async fetchSubscribes({commit:e,rootGetters:t},s={}){const{more:n,type:c,sort:d,field:u}=s,{cancelToken:l,Cancel:m}=(0,o.Yz)("fetchSubscribes");delete s.more,n||e("setSubscribes");try{const o=await(0,i.mf)(s,l);if("expired"===c&&"desc"===d&&"expire_date"===u&&!n){const s=t["auth/authUserId"];e("users/setUserField",{userId:s,field:"hasRecentlyExpired",status:!1},{root:!0})}if(Array.isArray(o)&&o.length){const t=(0,r.Fv)(o,a.Xd),s=t.result;return e("set",t,{root:!0}),"changed"!==c&&e("setSubscribes",{itemIds:s,more:n}),s}}catch(h){if(!(h instanceof m))return[]}return[]},async fetchSubscribesCount({commit:e},t={}){e("setSubscribesCount",null);try{const{count:s}=await(0,i.gM)(t);void 0!==s&&e("setSubscribesCount",s)}catch(s){}},async autoprolongToggle({commit:e,state:t},{id:s,force:o=!1,place:c}){let d;try{var u;const n=t.items[s]||{},l="on"===o||(!n.renewedAt&&n.subscribePrice>0||n.subscribePrice>Math.max(n.newPrice,n.price)||!n.renewedAt&&n.price>0&&0===n.subscribePrice)&&"off"!==o;if(d=await(0,i.qT)({id:s,on:l,place:c}),null!==(u=d)&&void 0!==u&&u.id){const t=(0,r.Fv)(d,a.IK);e("set",t,{root:!0})}}catch(l){(0,n.Po)(l)}return d},updateSubscribe({commit:e,rootGetters:t},s){const{id:i}=s,n=t["users/getUser"](i),o={...s};if(n){const{promotions:e}=n,{promotions:t}=s;e&&!t&&(o.promotions=[])}const c=(0,r.Fv)(o,a.IK);e("set",c,{root:!0})}}},699560:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return d},getters:function(){return o},mutations:function(){return c},state:function(){return n}});var r=s(436968),a=s.n(r);const i=()=>({data:{}}),n=i(),o={getAllCodesByRouteName:e=>t=>Object.keys(e.data[t||"unknown"])},c={set(e,{routeName:t,code:s,value:r}){const i={...e.data};a()(i,[t||"unknown",s],r),e.data=i},logout(e){Object.assign(e,i())}},d={set({commit:e},t){e("set",t)}}},857107:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return z},getters:function(){return q},mutations:function(){return N},state:function(){return V}});var r=s(102883),a=s.n(r),i=s(393386),n=s.n(i),o=s(478718),c=s.n(o),d=s(682492),u=s.n(d),l=s(227361),m=s.n(l),h=(s(333948),s(21703),s(115306),s(568757),s(720144)),f=s(782677),p=s(727484),g=s.n(p),y=s(198225),v=s(243168),P=s(999023),S=s(749832),w=s(76816),b=s(201505),I=s(483190),k=s(532622);const C=e=>k.ZP.post(`${k.tW}/users/social/spring`,e).then((e=>e.data)),T=()=>k.ZP["delete"](`${k.tW}/users/social/spring`).then((e=>e.data)),$=e=>k.ZP.get(`${k.tW}/users${e?`/${e}`:""}/social/spring`).then((e=>e.data)),L=e=>k.ZP.get(`${k.tW}/users/social/buttons`,{cancelToken:e}).then((e=>e.data)),M=(e,t)=>k.ZP.get(`${k.tW}/users/${e}/social/buttons`,{cancelToken:t}).then((e=>e.data)),_=e=>k.ZP.post(`${k.tW}/users/social/buttons`,{buttonIds:e}).then((e=>e.data)),A=e=>k.ZP.put(`${k.tW}/users/social/buttons`,e).then((e=>e.data)),F=(e,t)=>k.ZP.put(`${k.tW}/users/social/buttons/${t}`,e).then((e=>e.data)),x=e=>k.ZP["delete"](`${k.tW}/users/social/buttons/${e}`).then((e=>e.data));var D=s(8056),E=s(172462),U=s(914786),R=s(427166),O=s(738129),Z=s(310569),B=s(502568);const j={subscriptions:{active:null,muted:null,restricted:null,expired:null,all:null,attention:null,blocked:null},subscribers:{active:null,muted:null,restricted:null,expired:null,all:null,blocked:null,activeOnline:null}},W=()=>({needResetCheckOnlines:!1,deferredOnlines:[],checkOnlines:[],items:{},currentUser:null,modalUser:null,modalPost:null,modalStory:null,online:[],recommendedUsers:[],recentlyExpiredUsers:[],recommendedAuthor:null,isRecommendsFree:!1,userAlert:null,userHints:[],blocked:[],restricted:[],search:[],searchAutocomplete:[],settingsPost:{currentCode:null,options:[]},subscriptionsCount:j,friends:{},friendsLoading:!1,links:[],userLinks:null,nfts:[],profileDataLoadingError:!1,subscriptionsCountTimestamp:0,isFetchingSubscriptionsCount:!1,notifications:[],notificationsType:"",notificationsCounts:{[Z.C6]:0,[Z.pK]:0,[Z.l$]:0,[Z.y9]:0,[Z.BI]:0,[Z.PT]:0,[Z.bT]:0,[Z.f_]:0,[Z.Yt]:0},notificationsOrder:[Z.C6],socialButtons:null,banners:[],isBannersLoading:!1,forceFriendsReload:!1,notificationsOffset:0,blockedOffset:0,restrictedOffset:0,customDataSaving:!1,streamSettings:{}}),V=W(),q={getUserBlockedState:e=>t=>(t||(t=e.currentUser),m()(e.items,[t,"isBlocked"],!1)),user:e=>e.items[e.currentUser]||{},userId:e=>e.currentUser,hasUser:e=>!!e.currentUser,getSocialButtons:e=>t=>m()(e,`socialButtons[${t}]`)||[],getUser:e=>t=>t&&+t==t&&e.items[+t]||{},findUserByUserName:e=>t=>Object.keys(e.items).map((t=>e.items[t])).find((e=>e.username===t)),getOnline:e=>e.online,getUserIds:e=>Object.keys(e.items).map(Number),getCheckOnlinesIds:e=>e.checkOnlines,userHints:e=>e.userHints.filter((t=>{if(t.payload&&t.payload.user){const s=e.items[t.payload.user]||{};return"subscription_expired"!==m()(t,"payload.type")||s.canAddSubscriber&&!s.subscribedBy}return!0})),searchUsers:e=>e.search,searchAutocompleteUsers:e=>e.searchAutocomplete,needSkipUsers:(e,t)=>s=>t.getUserIds.filter((t=>m()(e.items[t],`view.${s}`)+864e5>+new Date)),needSkipUsersNotMe:(e,t,s)=>e=>t.needSkipUsers(e).filter((e=>e!==s.auth.user)),needSkipUsersOnShort:(e,t)=>!!t.needSkipUsersNotMe("s").length,needSkipUsersOnStories:(e,t)=>!!t.needSkipUsersNotMe("st").length,needSkipUsersOnLists:(e,t)=>!!t.needSkipUsersNotMe("t").length,subscriptionsCountIntervalMs:(e,t,s)=>{const r=m()(s,"auth.user");if(!r||!e.items[r])return 0;const{subscribersCount:a=0}=e.items[r];switch(!0){case a>1e4:return 6e4;case a>1e3:return 3e5;default:return 6e5}}},N={toggleUsersBlockedBy(e,{userId:t,value:s}){t||(t=e.currentUser),h["default"].set(e.items[t],"isBlocked",s)},removeUsersBlockedBy(e,t){t||(t=e.currentUser),h["default"].set(e.items[t],"isBlocked",!1)},setCurrentUser(e,t){e.currentUser=t},setModalUser(e,{userId:t,postId:s,storyId:r}){e.modalUser=t,e.modalPost=s,e.modalStory=r},resetCheckOnlines(e){e.needResetCheckOnlines=!0},setDefferedOnlines(e,t){e.deferredOnlines=t},setOnline(e,t){e.online=[...new Set([...t.map((e=>+e)),...e.deferredOnlines])],Object.keys(e.items).forEach((t=>{void 0===e.items[t].isOnline&&h["default"].set(e.items[t],"isOnline",!1),e.items[t].isOnline!==e.online.includes(+t)&&(e.items[t].isOnline=e.online.includes(+t))})),e.deferredOnlines=[]},addOnlineUser(e,t){e.online=[...e.online,t]},removeOnlineUser(e,t){const{online:s}=e;e.online=s.filter((e=>e!==t))},setRecommendedUsers(e,t=[]){e.recommendedUsers=[...t]},setRecentlyExpiredUsers(e,t=[]){e.recentlyExpiredUsers=[...t]},removeRecentlyExpiredUser(e,t){e.recentlyExpiredUsers=e.recentlyExpiredUsers.filter((e=>e!==t))},setRecommendedAuthor(e,t){e.recommendedAuthor=t},setUserHiddenPosts(e,{id:t,status:s}){e.items[t]&&(e.items[t].showPostsInFeed=s)},setUserFriend(e,{authUserId:t,id:s,status:r}){const a=t||e.currentUser;e.friends[a]||h["default"].set(e.friends,a,[]);const i=e.friends[a];i&&(r=r||i&&i.includes(s),r?e.friends[a]=i.filter((e=>s!==e)):e.friends[a].push(s))},setNotificationsCountsByType(e,t){e.notificationsType!==Z.C6&&e.notificationsType!==t&&(e.notificationsCounts[t]+=1,e.notificationsCounts.all+=1)},calculateNotificationsCounts(e,{type:t,clear:s}={}){s?Object.keys(e.notificationsCounts).forEach((t=>{t!==Z.C6&&(e.notificationsCounts[t]=0)})):t&&t!==Z.C6?(e.notificationsCounts.all=Math.max(0,e.notificationsCounts.all-e.notificationsCounts[t]),e.notificationsCounts[t]=0):Object.keys(e.notificationsCounts).forEach((t=>{e.notificationsCounts[t]=0}))},setNotificationsReadById(e,t){const s=e.notifications.find((e=>e.id===t));s&&(s.isRead=!0)},setNotifications(e,{notifications:t=[],more:s,unread:r}={}){r?e.notificationsType!==t[0].type&&e.notificationsType!==Z.C6||(e.notifications=[...t,...e.notifications]):e.notifications=s?[...e.notifications,...t]:[...t]},setNotificationsOffset(e,t=0){e.notificationsOffset=t},setNotificationsType(e,t=""){e.notificationsType=t},setChatMessagesCount(e,{userId:t,chatMessagesCount:s}){e.items[t]&&(e.items[t].chatMessagesCount=s)},setChatPriorityCount(e,{userId:t,countPriorityChat:s}){e.items[t]&&(e.items[t].countPriorityChat=s)},resetChatMessagesCount(e,{userId:t,unreadMessagesCount:s}){if(e.items[t]&&e.items[t].chatMessagesCount){const{chatMessagesCount:r}=e.items[t];e.items[t].chatMessagesCount=r>s?r-s:0}},setChatMessagesCountPushNotifications(e,{userId:t}){e.items[t]&&e.items[t].chatMessagesCount&&(e.items[t].chatMessagesCount-=1)},changeUsersPostsCount(e,{decrement:t=!1}){e.items[e.currentUser]&&void 0!==e.items[e.currentUser].postsCount&&(t?e.items[e.currentUser].postsCount-=1:e.items[e.currentUser].postsCount+=1)},setChatPriorityCountPushNotifications(e,{userId:t}){e.items[t]&&e.items[t].countPriorityChat&&(e.items[t].countPriorityChat-=1)},setUserNotificationsCount(e,{userId:t,notificationsCount:s,hasSystemNotifications:r}){e.items[t]&&(e.items[t].notificationsCount=s,"undefined"!==typeof r&&(e.items[t].hasSystemNotifications=r))},setUserField(e,{userId:t,field:s,status:r}){e.items[t]&&(e.items[t]={...e.items[t],...(0,R.P)({[s]:r})})},setUserAlert(e,t=null){e.userAlert=t},setUserHints(e,t=[]){e.userHints=t},deleteUserHint(e,t){e.userHints=e.userHints.filter((e=>e.id!==t&&e.code!==t))},setBlockedUsers(e,{itemIds:t=[],more:s=!1}={}){e.blocked=s?[...new Set([...e.blocked,...t])]:t},setBlockedOffset(e,t=0){e.blockedOffset=t},setRestricted(e,{itemIds:t=[],more:s=!1}={}){e.restricted=s?[...new Set([...e.restricted,...t])]:t},setRestrictedOffset(e,t=0){e.restrictedOffset=t},setSearchUsers(e,{itemIds:t=[],more:s=!1}={}){e.search=s?[...new Set([...e.search,...t])]:t},setSearchAutocompleteUsers(e,t=[]){e.searchAutocomplete=t},setStreamSettings(e,t){e.streamSettings=t},setSettingsPost(e,t){e.settingsPost=t},setSettingsPostCurrentCode(e,t){e.settingsPost.currentCode=t},setFriendsList(e,{userId:t,friends:s,more:r=!1}){e.friends[t]||h["default"].set(e.friends,t,[]),e.friends[t]=r?[...e.friends[t]||[],...s]:s},setFriendsLoading(e,t){e.friendsLoading=t},addConnectedAccount(e,{userId:t,userData:s}){e.items[t]&&s&&(void 0!==s.connectedUser&&(e.items[t].connectedOfAccounts=[...new Set([...e.items[t].connectedOfAccounts,s.connectedUser.id])]),void 0!==s.canConnectOfAccount&&(e.items[t].canConnectOfAccount=s.canConnectOfAccount),void 0!==s.cantConnectOfAccountReason&&(e.items[t].cantConnectOfAccountReason=s.cantConnectOfAccountReason))},removeConnectedAccount(e,{userId:t,accountId:s,userData:r}){e.items[t]&&r&&(r.success&&(e.items[t].connectedOfAccounts=e.items[t].connectedOfAccounts.filter((e=>e!==s))),void 0!==r.canConnectOfAccount&&(e.items[t].canConnectOfAccount=r.canConnectOfAccount),void 0!==r.cantConnectOfAccountReason&&(e.items[t].cantConnectOfAccountReason=r.cantConnectOfAccountReason))},deleteBundle(e,{userId:t,bundleId:s}){e.items[t]&&(e.items[t].subscriptionBundles=e.items[t].subscriptionBundles.filter((e=>+e!==+s)))},setBundle(e,{userId:t,bundleId:s}){e.items[t]&&(e.items[t].subscriptionBundles=[...new Set([...e.items[t].subscriptionBundles,s])])},setSubscriptionsCount(e,t){e.subscriptionsCount=t},toggleRecommendsFree(e){e.isRecommendsFree=!e.isRecommendsFree},unsetUserOffer(e,{offerId:t,userId:s}){e.items[s]&&e.items[s].promoOffers&&(e.items[s].promoOffers=e.items[s].promoOffers.filter((e=>e.id!==t)))},setUserOffers(e,{userId:t,offers:s}){e.items[t]&&(e.items[t].promoOffers=s)},unsetUser(e){V.items[e]&&h["default"]["delete"](V.items,e)},setLinks(e,t){e.links=t},addLinks(e,t){e.links.push(t)},updateLinks(e,{index:t,value:s}){e.links[t]=s,e.links=[].concat(e.links)},deleteLinks(e,t){void 0===t?e.links.splice(e.links.length-1,1):e.links.splice(t,1)},setUserLinks(e,t){e.userLinks=t},resetUserLinks(e){e.userLinks=null},setHasNft(e,{userId:t,hasNft:s}){e.items[t].openseaInfo.hasNft=s},setNfts(e,t){e.nfts=t},resetNfts(e){e.nfts=[]},updateUserCounters(e,t){if(e.items[e.currentUser])for(const[s,r]of Object.entries(t))e.items[e.currentUser][s]=r},setProfileDataLoadingError(e,t){e.profileDataLoadingError=t},setFetchingSubscriptionsCount(e,t=!1){e.isFetchingSubscriptionsCount=t},setSubscriptionsCountTimestamp(e,t=Date.now()){e.subscriptionsCountTimestamp=t},setNotificationsCounts(e,t){e.notificationsCounts=t},setNotificationsOrder(e,t){e.notificationsOrder=t},setSocialButtons(e,{id:t,buttons:s}){const r=Array.isArray(s)?s:[];e.socialButtons={...e.socialButtons,[t]:r}},setBanners(e,t=[]){e.banners=t},setBannersLoading(e,t){e.isBannersLoading=t},setForceFriendsReload(e,t){e.forceFriendsReload=t},setUnreadTips(e,{userId:t,value:s}){e.items[t]&&(e.items[t].unreadTips=s)},setCustomDataSaving(e,t){e.customDataSaving=t},logout(e){Object.assign(e,W())}},H={promotions:[],subscribedBy:null,currentSubscribePrice:null},z={async fetchUser({commit:e},{id:t,httpreferrer:s}){const r=await(0,P.PR)(t,{httpreferrer:s});if(null!==r&&void 0!==r&&r.id){const t=u()({},H,r),s=(0,f.Fv)(t,v.IK);return e("set",s,{root:!0}),t}return r},async fetchCurrentUser({commit:e,dispatch:t},{id:s,httpreferrer:r}){const a=await t("fetchUser",{id:s,httpreferrer:r});return null!==a&&void 0!==a&&a.id&&e("setCurrentUser",a.id),a},async disableTwitter({commit:e,rootGetters:t}){try{const s=await(0,P.z6)();if(s.success){const s=t["auth/authUserId"];e("setUserField",{userId:s,field:"isTwitterConnected",status:!1}),e("setUserField",{userId:s,field:"twitterUsername",status:null})}}catch(s){(0,E.Po)(s)}},async patchUserMeBySection(e,{data:t,section:s}){let r;try{r=await(0,P.lA)(t,s)}catch(a){Sentry.captureException(a)}return r},async patchUser(e,t){let s;try{s=await(0,P.y6)(t)}catch(r){return Sentry.captureException(r),r.data}return s},async changeUser({commit:e,rootGetters:t},s){const r=t["auth/authUser"];let a;try{var i;const t=["about","avatar","header","isSuggestionsOptOut","isVisibleOnline","location","name","paidFeed","recommenderReward","replyOnSubscribe","shouldReceiveLessNotifications","subscribePrice","username","website","wishlist"],n=c()(r,t);if(a=await(0,P.IF)({...n,...s}),null!==(i=a)&&void 0!==i&&i.success){const t=s.isVisibleOnline;e("setUserField",{userId:r.id,field:"isVisibleOnline",status:t}),e(1===t?"addOnlineUser":"removeOnlineUser",r.id)}}catch(n){return Sentry.captureException(n),n.data}return a},async changeUserBySection(e,{data:t,section:s}){let r;try{r=await(0,P.sV)(t,s)}catch(a){return Sentry.captureException(a),a.data}return r},async toggleRestrictUser({commit:e,state:t,dispatch:s},r){try{const{isRestricted:a,canRestrict:i,disabledRestrict:n}=t.items[r];if(!i&&!a||n)return;e("setUserField",{userId:r,field:"disabledRestrict",status:!0});const o=a?await(0,w.JR)(r):await(0,w.W3)(r);if(null!==o&&void 0!==o&&o.id){const i=(0,f.Fv)(o,v.IK);e("set",i,{root:!0});const n=a?t.restricted.filter((e=>e!==r)):t.restricted.concat(r);e("setRestricted",{itemIds:n});let{restricted:c}=t.subscriptionsCount.subscribers;if(null!==c){const s={...t.subscriptionsCount,subscribers:{...t.subscriptionsCount.subscribers,restricted:Math.max(0,a?c-=1:c+=1)}};e("setSubscriptionsCount",s)}["Chat","Chats"].includes(y.ZP.$route.name)&&s("chats/fetchChat",r,{root:!0})}}catch(a){(0,E.Po)(a)}e("setUserField",{userId:r,field:"disabledRestrict",status:!1})},async toggleHiddenPosts({commit:e,state:t},s){const{showPostsInFeed:r}=t.items[s];try{const t=r?await(0,w._8)(s):await(0,w.Fu)(s);null!==t&&void 0!==t&&t.success&&e("setUserHiddenPosts",{id:s,status:!r})}catch(a){Sentry.captureException(a)}},async unFriendUser({commit:e,rootGetters:t,dispatch:s},r){try{const a=await(0,P.g5)(r);if(null!==a&&void 0!==a&&a.success){const a=t["auth/authUser"],i=t["auth/authUserId"]||t["users/userId"],n=t["users/friends"][i]||[];n.length>9?await s("fetchFriendsList",{userId:a.id}):e("setUserFriend",{authUserId:a.id,id:r,status:!1}),e("setUserField",{userId:a.id,field:"friendsList",status:a.friendsList.filter((e=>r!==e))})}}catch(a){(0,E.Po)(a)}},async fetchRecommendedUsers({commit:e,state:t,dispatch:s}){try{const r=await(0,P.tL)({firstFeedPostUserId:t.recommendedAuthor,state:t.isRecommendsFree?"free":void 0});if(Array.isArray(r))if(r.length){const t=(0,f.Fv)(r,v.Xd);await s("getUsersIfNeeded",t),e("set",t,{root:!0}),e("setRecommendedUsers",t.result)}else e("setRecommendedUsers");else(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(r){}},async fetchRecentlyExpiredUsers({commit:e,dispatch:t}){try{const s=await(0,w.eT)();if(Array.isArray(s))if(s.length){const r=(0,f.Fv)(s,v.Xd);await t("getUsersIfNeeded",r),e("set",r,{root:!0}),e("setRecentlyExpiredUsers",r.result)}else e("setRecentlyExpiredUsers");else(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){}},async fetchNotifications({commit:e,dispatch:t,state:s},{type:r,relatedUser:a,more:i}={}){i||(e("setNotificationsOffset"),e("setNotifications"));const{cancelToken:n,Cancel:o}=(0,k.Yz)("fetchNotifications");try{const o=await(0,P.TH)({limit:k.P9,offset:s.notificationsOffset,type:r===Z.C6?void 0:r,relatedUser:a,skipUsers:"all",cancelToken:n});if(o&&"object"===typeof o){const{hasMore:r=!1,list:a=[]}=o;if(Array.isArray(a)&&a.length){const s=(0,f.Fv)(a,v.vU);await t("getUsersIfNeeded",{entities:{users:Object.keys(s.entities.users).reduce(((e,t)=>({...e,[t]:{...s.entities.users[t],_views:["m"]}})),{})}}),e("set",s,{root:!0}),e("setNotifications",{notifications:a,more:i})}return e("setNotificationsOffset",s.notificationsOffset+k.P9),{hasMore:r}}return(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:o}}),{hasMore:!1}}catch(c){if(c instanceof o)return{isCanceled:!0}}return{isError:!0}},async setNotificationsReadByType({commit:e},t=Z.C6){try{const s=await(0,P.Gp)(t===Z.C6?"":t);s&&"object"===typeof s?s.counters&&e("setNotificationsCounts",s.counters):(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){Sentry.captureException(s)}},async setNotificationsReadById({commit:e},t){try{const s=await(0,P.NS)(t);if(s&&"object"===typeof s)return s.counters&&e("setNotificationsCounts",s.counters),void(s.success&&e("setNotificationsReadById",t));(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){Sentry.captureException(s)}},async createPromotion({commit:e,rootGetters:t},s){try{const r=await(0,b.kb)(s);if(null!==r&&void 0!==r&&r.length){const s=t["auth/authUser"],i=s.id,n=m()(s,"promotions",[]).filter((e=>e.hasRelatedPromo)).length>1;e("setUserField",{userId:i,field:"promotions",status:n?r:a()(r,m()(s,"promotions",[]),((e,t)=>e.type===t.type))})}}catch(r){(0,E.Po)(r)}},async finishPromotion({commit:e,rootGetters:t,rootState:s},r){try{var a;const i=await(0,b.yK)(r),n=t["auth/authUser"],o=s.init.currentDate;if(null!==i&&void 0!==i&&i.success&&null!==n&&void 0!==n&&null!==(a=n.promotions)&&void 0!==a&&a.length){const t=n.promotions.find((e=>e.id===r)),s=n.promotions.filter((e=>e.hasRelatedPromo)).length>1;t&&e("setUserField",{userId:n.id,field:"promotions",status:s?[...n.promotions.map((e=>({...e,finishedAt:o,canClaim:!1})))]:[...n.promotions.filter((e=>e.id!==t.id)),{...t,finishedAt:o,canClaim:!1}]})}}catch(i){(0,E.Po)(i)}},async deletePromotion({commit:e,rootGetters:t},s){try{const r=await(0,b.S4)(s);if(null!==r&&void 0!==r&&r.success){const r=t["auth/authUser"],a=m()(r,"promotions",[]).filter((e=>e.id!==s)),i=m()(r,"promotions",[]).filter((e=>e.hasRelatedPromo)).length>1;e("setUserField",{userId:r.id,field:"promotions",status:i?[]:a})}}catch(r){(0,E.Po)(r)}},async fetchAlert({commit:e}){try{const t=await(0,P.uH)();null!==t&&void 0!==t&&t.id&&e("setUserAlert",t)}catch(t){}},async removeAlert({commit:e,state:t},s){try{const{isPersonal:r}=t.userAlert||{},a=!1===r?await(0,P.cW)(s):await(0,P.gj)(s);null!==a&&void 0!==a&&a.success&&e("setUserAlert")}catch(r){Sentry.captureException(r)}},async fetchHints({commit:e}){try{e("setUserHints");let t=await(0,P.rv)();Array.isArray(t)&&t.length&&(t=t.filter((e=>e.text.length)).map((t=>{if(t.text=t.text.replaceAll(/(\d\d\/\d\d\/(\d\d\d\d))/gm,((e,t,s)=>g()(t).format(+(new Date).getFullYear()===+s?"MMM D":"MMM D, YYYY"))),m()(t,"payload.user")){const s=(0,f.Fv)(m()(t,"payload.user"),v.IK);e("set",s,{root:!0}),t.payload.user=s.result}return t})),e("setUserHints",t))}catch(t){}},async removeHint({commit:e,state:t},s){try{const{isPersonal:r}=t.userHints.find((e=>e.id===s||e.code===s))||{},a=!1===r?await(0,P.AP)(s):await(0,P.PK)(s);null!==a&&void 0!==a&&a.success&&e("deleteUserHint",s)}catch(r){Sentry.captureException(r)}},async toggleBlockUser({commit:e,state:t,dispatch:s,rootState:r,rootGetters:a},i){try{const{disabledBlock:n}=t.items[i];if(n)return;e("setUserField",{userId:i,field:"disabledBlock",status:!0});let{isBlocked:o}=t.items[i];o=!0===o,y.ZP.$root.$emit("bv::hide::modal","ModalSubscribersItem");const c=o?await(0,P.zv)(i):await(0,P.rf)(i);if(null!==c&&void 0!==c&&c.success){if(["Profile",...O.tJ,...O.vc,...O.Xg].includes(y.ZP.$route.name)&&s("fetchSubscriptionsCount"),["Subscribes","SubscribesByType"].includes(y.ZP.$route.name)){const t=r.subscribes.subscribesCount||0;e("subscribes/setSubscribesCount",Math.max(0,o?t+1:t-1),{root:!0})}if(["Subscribers","SubscribersByType"].includes(y.ZP.$route.name)){const t=r.subscribers.subscribersCount||0;e("subscribers/setSubscribersCount",Math.max(0,o?t+1:t-1),{root:!0})}if(c.user){const t=(0,f.Fv)(c.user,v.IK);e("set",t,{root:!0})}else s("fetchCurrentUser",{id:i});const{isPerformer:n}=a["auth/authUser"];if(o)e("setBlockedUsers",{itemIds:t.blocked.filter((e=>e!==i))});else if(n){const n=a["auth/authUserId"],o=n||t.currentUser,c=t.friends[o]||[];["Profile"].includes(y.ZP.$route.name)&&c.length>9?await s("fetchFriendsList",{userId:n}):["Profile"].includes(y.ZP.$route.name)?e("setUserFriend",{authUserId:n,id:i}):(e("setUserFriend",{authUserId:n,id:i}),e("setForceFriendsReload",!0),e("usersLists/setUsersListUsers",{userIds:r.usersLists.itemsUsersList.filter((e=>e!==i))},{root:!0}))}const d=U.Z.getItem("recentUsersSearches");d&&U.Z.setItem("recentUsersSearches",d.split(",").filter((e=>+e&&!Number.isNaN(+e)&&+e!==i)).join(",")),c.hideChat&&["Chat","Chats"].includes(y.ZP.$route.name)&&(e("chats/deleteChat",i,{root:!0}),"Chat"===y.ZP.$route.name&&y.ZP.$router.replace({name:"Chats"}))}}catch(n){(0,E.Po)(n)}e("setUserField",{userId:i,field:"disabledBlock",status:!1})},async toggleHideStoryFromUser({commit:e,state:t},s){try{var r;let a,{isStoryBlockedUser:i}=t.items[s];a=i?await(0,S.H)(s):await(0,S.oh)(s),null!==(r=a)&&void 0!==r&&r.success&&(i=!i,e("setUserField",{userId:s,field:"isStoryBlockedUser",status:i}))}catch(a){Sentry.captureException(a)}},async connectSpotify({commit:e,rootGetters:t},{accessToken:s,tokenExpiration:r,refreshToken:a}){try{const i=await(0,I.mp)({accessToken:s,tokenExpiration:r,refreshToken:a});if(i.success){const s=t["auth/authUser"];e("setUserField",{userId:s.id,field:"isSpotifyConnected",status:!0})}}catch(i){(0,E.Po)(i)}},async disconnectSpotify({commit:e,rootGetters:t}){try{const s=await(0,P.z6)({network:"spotify"});if(s.success){const s=t["auth/authUser"];e("setUserField",{userId:s.id,field:"isSpotifyConnected",status:!1})}}catch(s){(0,E.Po)(s)}},async socialButtonsGet({commit:e,rootGetters:t}){try{const{cancelToken:s}=(0,k.Yz)("fetchSocialButton"),r=await L(s),a=t["auth/authUser"];e("setSocialButtons",{id:a.id,buttons:r})}catch(s){}},async socialButtonsGetByUser({commit:e},t){try{const{cancelToken:s}=(0,k.Yz)("fetchSocialButton"),r=await M(t,s);e("setSocialButtons",{id:t,buttons:r})}catch(s){}},async socialButtonsSort({commit:e,rootGetters:t},{newIdx:s,oldSort:r,newSort:a}){const i=t["auth/authUser"],n={id:i.id,buttons:r},o={id:i.id,buttons:a};try{e("setSocialButtons",o);const t=await _(s);t.error&&e("setSocialButtons",n)}catch(c){e("setSocialButtons",n),(0,E.Po)(c)}},async socialButtonsCreate({commit:e,rootGetters:t},s){try{const r=await A(s),a=t["auth/authUser"];return e("setSocialButtons",{id:a.id,buttons:r}),r}catch(r){return(0,E.Po)(r),{error:r}}},async socialButtonsUpdate({commit:e,rootGetters:t},{buttonObj:s,id:r}){try{const a=await F(s,r),i=t["auth/authUser"];return e("setSocialButtons",{id:i.id,buttons:a}),a}catch(a){return(0,E.Po)(a),{error:a}}},async socialButtonsDelete({rootGetters:e,commit:t,state:s},r){try{const a=await x(r);if(a.success){const a=e["auth/authUser"],i=s.socialButtons[a.id].filter((e=>e.id!==r));t("setSocialButtons",{id:a.id,buttons:i})}}catch(a){(0,E.Po)(a)}},async fetchBlockedUsers({commit:e,state:t},{more:s,...r}={}){s||(e("setBlockedUsers"),e("setBlockedOffset"));const{cancelToken:a,Cancel:i}=(0,k.Yz)("fetchBlockedUsers");try{const i=await(0,P.b_)({limit:k.P9,offset:t.blockedOffset,...r,cancelToken:a});if(Array.isArray(i)){if(i.length){e("setBlockedOffset",t.blockedOffset+k.P9);const r=(0,f.Fv)(i,v.Xd);return e("set",r,{root:!0}),e("setBlockedUsers",{itemIds:r.result,more:s}),{hasMore:!0}}return{hasMore:!1}}(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:i}})}catch(n){if(n instanceof i)return{isCanceled:!0}}return{isError:!0}},async fetchSearchUsers({commit:e},{query:t,more:s,...r}={}){if(s||e("setSearchUsers"),!t)return[];try{const a=await(0,P.Kh)({query:t,...r});if(Array.isArray(a)){if(a.length){const t=(0,f.Fv)(a,v.Xd);e("set",t,{root:!0}),e("setSearchUsers",{itemIds:t.result,more:s})}return a}(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}})}catch(a){}return[]},async fetchSearchAutocomplete({commit:e},{query:t,...s}={}){if(!t)return e("setSearchAutocompleteUsers"),[];try{const r=await(0,P.Kh)({query:t,...s});if(Array.isArray(r)){if(r.length){const t=(0,f.Fv)(r,v.Xd);e("set",t,{root:!0}),e("setSearchAutocompleteUsers",r)}else e("setSearchAutocompleteUsers");return r}(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:r}})}catch(r){}return[]},async fetchSettingsPost({commit:e}){try{let t=await(0,P.vh)();const s=t.options.filter((e=>0!==e.code));t=Object.assign({},t,{options:s}),e("setSettingsPost",t)}catch(t){}},async sendSettingsPost({commit:e},t){try{const s=await(0,P.i)(t);null!==s&&void 0!==s&&s.success&&e("setSettingsPostCurrentCode",t)}catch(s){Sentry.captureException(s)}},async fetchFriendsList({commit:e},{userId:t,more:s=!1,...r}={}){try{e("setFriendsLoading",!0);const a=await(0,P.XP)({userId:t,...r});if(Array.isArray(a)){if(a.length){const r=(0,f.Fv)(a,v.Xd);e("set",r,{root:!0}),e("setFriendsList",{userId:t,friends:r.result,more:s})}return e("setFriendsLoading",!1),a}(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:a}})}catch(a){}return e("setFriendsLoading",!1),[]},async fetchStreamSettings({commit:e}){try{const t=await(0,P.yv)();e("setStreamSettings",t)}catch(t){}},async saveSubscriberCustomData({commit:e},{id:t,data:s={}}){e("setCustomDataSaving",!0);try{const r=await(0,w.gU)(t,s);if(null!==r&&void 0!==r&&r.id){const t=(0,f.Fv)(r,v.IK);e("set",t,{root:!0})}return e("setCustomDataSaving",!1),!0}catch(r){(0,E.Po)(r)}return e("setCustomDataSaving",!1),!1},async fetchSubscriptionsCount({commit:e,rootGetters:t}){try{const s=await(0,w.x$)();if(s&&"object"===typeof s){e("setSubscriptionsCount",s);const r=Date.now();e("setSubscriptionsCountTimestamp",r);const a=m()(s,"subscribers.active",null),i=m()(s,"subscriptions.active",null),n=t["auth/authUserId"],o=t["auth/authUser"];null!==a&&a!==o.subscribersCount&&e("setUserField",{userId:n,field:"subscribersCount",status:a}),null!==i&&i!==o.subscribesCount&&e("setUserField",{userId:n,field:"subscribesCount",status:i})}else(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:s}})}catch(s){}},async getUsersIfNeeded({dispatch:e,state:t},s){var r;if(null!==s&&void 0!==s&&null!==(r=s.entities)&&void 0!==r&&r.users){const r={...s.entities.users},a=Object.keys(r).map(Number),i={},o=+new Date;if(a.forEach((e=>{const a=r[e]._views;null!==a&&void 0!==a&&a.length&&a.forEach((s=>{m()(t.items[e],"view.f",0)+864e5>=o||m()(t.items[e],`view[${s}]`,0)+864e5<o&&(i[s]=n()(i[s]||[],[e]))})),delete s.entities.users[e]._views,delete s.entities.users[e]._view})),Object.keys(i).length){const t=Object.keys(i).map((async t=>{const s=[];while(i[t].length)s.push(e("getUsersByIds",{ids:{[t]:i[t].splice(0,10)},error:!0}));return await Promise.all(s)}));await Promise.all(t)}}},async getUsersByIds({commit:e},{ids:t,error:s=!1}){try{const s=await(0,P.B3)(t);if(s&&Object.keys(s).length){const t=(0,f.Fv)(s,v.Xd);return e("set",t,{root:!0}),t.result}return[]}catch(r){if(s)throw r;return[]}},async fetchLinks({commit:e}){try{const t=await(0,P.rx)();Array.isArray(t)&&t.length?e("setLinks",t.map((e=>({...e,id:(0,B.Z)()})))):e("setLinks",[])}catch(t){}},async postLinks({commit:e,state:t}){try{const s=await(0,P.lJ)({links:t.links.map((e=>e.url))});e("setLinks",s.map((e=>({...e,id:(0,B.Z)()}))))}catch(s){return Sentry.captureException(s),s}},async fetchUserLinks({commit:e},t){try{const s=await(0,P.Pb)(t);e("setUserLinks",s)}catch(s){}},addConnectedAccount({commit:e,state:t,rootState:s},{userData:r}){if(t.items[s.auth.user]&&r&&void 0!==r.connectedUser&&!t.items[s.auth.user].connectedOfAccounts.find((e=>e===r.connectedUser.id))){const t=(0,f.Fv)(r.connectedUser,v.IK);e("set",t,{root:!0}),e("addConnectedAccount",{userId:s.auth.user,userData:r})}},async fetchRestricted({commit:e,state:t},{more:s,...r}={}){s||(e("setRestricted"),e("setRestrictedOffset"));const{cancelToken:a,Cancel:i}=(0,k.Yz)("fetchRestrictedUsers");try{const i=await(0,P.JW)({limit:k.P9,offset:t.restrictedOffset,...r,cancelToken:a});if(i&&"object"===typeof i){var n;if(i.hasMore&&e("setRestrictedOffset",t.restrictedOffset+k.P9),null!==(n=i.list)&&void 0!==n&&n.length){const t=(0,f.Fv)(i.list,v.Xd);e("set",t,{root:!0}),e("setRestricted",{itemIds:t.result,more:s})}return{hasMore:i.hasMore}}(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:i}})}catch(o){if(o instanceof i)return{isCanceled:!0}}return{isError:!0}},async fetchSubscriptionsCountCached({state:e,commit:t,dispatch:s,getters:r}){if(e.isFetchingSubscriptionsCount)return;const a=r.subscriptionsCountIntervalMs;e.subscriptionsCountTimestamp&&Date.now()-e.subscriptionsCountTimestamp<a||(t("setFetchingSubscriptionsCount",!0),await s("fetchSubscriptionsCount"),t("setFetchingSubscriptionsCount",!1))},async fetchNotificationsCounts({commit:e}){try{const t=await(0,P.SP)();t&&"object"===typeof t?e("setNotificationsCounts",t):(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch(t){}},async fetchNotificationsOrder({commit:e}){try{const t=await(0,P.U9)();Array.isArray(t)?t.length&&e("setNotificationsOrder",t):(0,E.oj)({error:new Error("typeof response is incorrect"),extra:{response:t}})}catch(t){}},async updateNotificationsOrder({commit:e},t){try{const s=await(0,P.dh)({tabs:t});null!==s&&void 0!==s&&s.success&&e("setNotificationsOrder",t)}catch(s){Sentry.captureException(s)}},updateChatPinnedCount({commit:e,dispatch:t,rootGetters:s},r){const a=s["auth/authUserId"],i=s["users/getUser"](a).countPinnedChat,n=s["usersLists/getCurrentFilterIsPinned"],o=i+r.status;e("users/setUserField",{userId:a,field:"countPinnedChat",status:Math.max(o,0)},{root:!0}),n&&t("usersLists/updateFeedFiltersAndRefetch",o>0?["pinned"]:[],{root:!0})},async fetchBanners({commit:e,state:t}){if(!t.isBannersLoading){e("setBannersLoading",!0);try{const t=await(0,P.Fh)();Array.isArray(t)&&t.length&&e("setBanners",t)}catch(s){}e("setBannersLoading",!1)}},async connectSpringStore({commit:e,rootGetters:t},{url:s}){try{const r=await C({url:s});if(null!==r&&void 0!==r&&r.success){const s=t["auth/authUser"];e("setUserField",{userId:s.id,field:"isSpringConnected",status:!0})}}catch(r){(0,E.Po)(r)}},async disconnectSpringStore({commit:e,rootGetters:t}){try{const s=await T();if(s.success){const s=t["auth/authUser"];e("setUserField",{userId:s.id,field:"isSpringConnected",status:!1})}}catch(s){(0,E.Po)(s)}},async fetchSpringStoreUrl({commit:e,rootGetters:t},{userId:s}={}){try{const{embedUrl:r}=await $(s);if(r){const a=t["auth/authUserId"];e("setUserField",{userId:s||a,field:"springStoreUrl",status:r})}}catch(r){}},async fetchNfts({commit:e},t){try{const s=await(0,D.J8)(t);e("setNfts",s.assets||[])}catch(s){}}}},595097:function(e,t,s){"use strict";s.r(t),s.d(t,{actions:function(){return F},getters:function(){return _},mutations:function(){return A},state:function(){return M}});s(333948),s(21703),s(365069);var r=s(782677),a=s(198225),i=s(532622);const n=(e={})=>(e.limit=e.limit||i.P9,e.offset=e.offset||0,e.format="infinite",i.ZP.get(`${i.tW}/lists${(0,i.XP)(e)}`).then((e=>e.data))),o=e=>i.ZP.get(`${i.tW}/lists/${e}`).then((e=>e.data)),c=({id:e,offset:t=0,limit:s=i.P9,query:r})=>i.ZP.get(`${i.tW}/lists/${e}/users${(0,i.XP)({offset:t,limit:s,query:r||void 0})}`).then((e=>e.data)),d=e=>i.ZP.post(`${i.tW}/lists`,{name:e}).then((e=>e.data)),u=({id:e,data:t})=>i.ZP.patch(`${i.tW}/lists/${e}`,t).then((e=>e.data)),l=e=>i.ZP["delete"](`${i.tW}/lists/${e}`).then((e=>e.data)),m=e=>i.ZP["delete"](`${i.tW}/lists/${e}/users`).then((e=>e.data)),h=e=>i.ZP.post(`${i.tW}/lists/sort`,e).then((e=>e.data)),f=({listId:e,data:t})=>i.ZP.post(`${i.tW}/lists/${e}/sort`,t).then((e=>e.data)),p=({listId:e,data:t})=>i.ZP.patch(`${i.tW}/lists/${e}/users/sort`,t).then((e=>e.data)),g=(e,t)=>i.ZP.post(`${i.tW}/lists/${e}/users/${t}`).then((e=>e.data)),y=(e,t)=>i.ZP["delete"](`${i.tW}/lists/${e}/users/${t}`).then((e=>e.data)),v=e=>i.ZP.post(`${i.tW}/lists/users`,e).then((e=>e.data)),P=({listId:e,year:t,month:s})=>i.ZP.post(`${i.tW}/lists/${e}/users/awards/${t}/${s}`).then((e=>e.data)),S=({listId:e,queueId:t})=>i.ZP.post(`${i.tW}/lists/${e}/users/queue/${t}/buyers`).then((e=>e.data)),w=({type:e,listId:t,postId:s,optionId:r})=>i.ZP.post(`${i.tW}/lists/${t}/users/post/${s}/${e}${r?`/${r}`:""}`).then((e=>e.data)),b=({type:e,listId:t,streamId:s})=>i.ZP.post(`${i.tW}/lists/${t}/users/stream/${s}/${e}`).then((e=>e.data)),I=({type:e,listId:t,storyId:s})=>i.ZP.post(`${i.tW}/lists/${t}/users/story/${s}/${e}`).then((e=>e.data)),k=({type:e,listId:t,id:s})=>i.ZP.post(`${i.tW}/lists/${t}/users/${e}/${s}/claims`).then((e=>e.data)),C=({listId:e,campaignId:t})=>i.ZP.post(`${i.tW}/lists/${e}/users/campaign/${t}/claimers`).then((e=>e.data));var T=s(172462),$=s(243168);const L=()=>({items:{},usersListsIds:[],itemsUsersList:[],modalCustomListId:null,customOrderEnabled:!1,loading:!1,offset:0,usersOffset:0,hasMore:!1,needOpenListsModal:!1,isAddUsersMode:!1,pinnedIds:[],couldBePinnedList:[],currentFiltersIds:[],feedFiltersIds:[]}),M=L(),_={getUsersList:e=>t=>+t===t?e.items[t]:Object.keys(e.items).map((t=>e.items[t])).find((e=>e.type===t)),getFeedFilterListId:e=>{const[t]=e.feedFiltersIds;return t},getCurrentFilterIsPurchased:e=>{const[t]=e.feedFiltersIds;return"paid"===t},getCurrentFilterIsBlurred:e=>{const[t]=e.feedFiltersIds;return"locked"===t},getCurrentFilterIsPinned:e=>{const[t]=e.currentFiltersIds;return"pinned"===t},getAuthUserRelatedFilters:(e,t,s,r)=>e=>{const t=r["auth/authUser"];return"chat"===e?[t.tipsEnabled&&"who_tipped",t.countPriorityChat>0&&"priority",t.countPinnedChat>0&&"pinned",t.chatMessagesCount>0&&"unread"].filter((e=>!!e)):"feed"===e?[t.needTagCount&&"need-tag",t.hasPurchasedPosts&&"paid",t.paidFeed&&"locked"].filter((e=>!!e)):[]},getAuthUserRelatedFeedFilters:(e,t)=>t.getAuthUserRelatedFilters("feed"),getAuthUserRelatedChatFilters:(e,t)=>t.getAuthUserRelatedFilters("chat")},A={setIds(e,t=[]){e.usersListsIds=t},addIds(e,t){e.usersListsIds=[...new Set([...e.usersListsIds,...t])]},deleteUsersList(e,t){e.usersListsIds=e.usersListsIds.filter((e=>e!==t))},setModalCustomListId(e,t){e.modalCustomListId=t},setCustomOrderEnabled(e,t){e.customOrderEnabled=t},setLoading(e,t){e.loading=t},setOffset(e,t){e.offset=t},setUsersOffset(e,t){e.usersOffset=t},setUsersListUsers(e,{userIds:t=[],more:s=!1}={}){s||(e.itemsUsersList=[]),e.itemsUsersList=[...new Set([...e.itemsUsersList,...t])]},setNeedOpenListsModal(e,t){e.needOpenListsModal=t},updateUsersList(e,t){e.items[t.id]=t},setIsAddUsersMode(e,t){e.isAddUsersMode=t},setPinnedIds(e,t){e.pinnedIds=t},addPinnedIds(e,t){e.pinnedIds=[...new Set([...e.pinnedIds,...t])]},deletePinnedIds(e,t){e.pinnedIds=e.pinnedIds.filter((e=>!t.includes(e)))},addCouldBePinnedList(e,t){e.couldBePinnedList=[...new Set([...e.couldBePinnedList,...t])]},setCouldBePinnedList(e,t){e.couldBePinnedList=t},resetCouldBePinnedList(e){e.couldBePinnedList=[]},setListPinned(e,{listId:t,status:s}){e.items[t].isPinnedToFeed=s},setCurrentFiltersIds(e,t=[]){e.currentFiltersIds=t},setFeedFiltersIds(e,t=[]){e.feedFiltersIds=t},setChatFilters(e,t){e.currentFiltersIds=t},setHasMore(e,t){e.hasMore=t},resetCollectionsFilter(e){e.pinnedIds=[],e.couldBePinnedList=[],e.currentFiltersIds=[]},logout(e){Object.assign(e,L())}},F={async fetchUsersLists({commit:e,state:t,rootGetters:s,dispatch:a},o={}){e("setLoading",!0);try{const{more:c,notClear:d,filter:u,limit:l=i.P9}=o;delete o.more,delete o.notClear,c||(d||(u&&["can_pin","can_pin_chat"].includes(u)?e("resetCouldBePinnedList"):e("setIds")),e("setOffset",0)),"offset"in o||(o.offset=t.offset),s["users/needSkipUsersOnLists"]&&(o.skip_users="all");const m=await n(o);if(u||e("setOffset",t.offset+l),Array.isArray(null===m||void 0===m?void 0:m.list)){const t=(0,r.Fv)(m.list,$.jR);o.skip_users&&await a("users/getUsersIfNeeded",t,{root:!0});const s=t.result.map((e=>+e));e("set",t,{root:!0}),e("addIds",s),a("pinnedList",{filter:u,ids:s});const{hasMore:i}=m;e("setHasMore",i);const n=t.result;return e("setLoading",!1),{list:n,hasMore:i}}(0,T.oj)({error:new Error("typeof response is incorrect"),extra:{response:m}})}catch(c){}return e("setLoading",!1),{list:[],hasMore:!1}},async pinnedList({commit:e},{filter:t,ids:s}={}){t&&(["feed","chat"].includes(t)&&e("setPinnedIds",s),["can_pin","can_pin_chat"].includes(t)&&e("addCouldBePinnedList",s))},async fetchUsersList({commit:e},t){try{const s=await o(t);if(null!==s&&void 0!==s&&s.id){const t=(0,r.Fv)(s,$.jX);e("set",t,{root:!0})}}catch(s){}},async addUsersList({commit:e},t){try{const s=await d(t);if(null!==s&&void 0!==s&&s.id){const t=(0,r.Fv)(s,$.jX);return e("set",t,{root:!0}),e("addIds",[+t.result]),s}}catch(s){(0,T.Po)(s)}return null},async updateUsersList({commit:e,rootState:t},{id:s,name:a}){try{const i=await u({id:s,data:{name:a}});if(null!==i&&void 0!==i&&i.id){const s=(0,r.Fv)(i,$.jX);e("set",s,{root:!0}),Object.keys(t.users.items).forEach((s=>{if(t.users.items[s].listsStates){let r=!1;const a=[];t.users.items[s].listsStates.forEach(((e,t)=>{a[t]={...e},+e.id===+i.id&&(a[t].name=i.name,r=!0)})),r&&e("users/setUserField",{userId:s,field:"listsStates",status:a},{root:!0})}}))}}catch(i){(0,T.Po)(i)}},async clearUsersList({commit:e,getters:t,rootGetters:s},a){try{const i=await m(a);if(null!==i&&void 0!==i&&i.id){const n=t.getUsersList(a)||{};"friends"===n.type&&e("users/setFriendsList",{userId:s["users/user"].id,friends:[]},{root:!0}),e("set",(0,r.Fv)(i,$.jX),{root:!0}),e("setUsersListUsers")}}catch(i){(0,T.Po)(i)}},async deleteUsersList({commit:e},t){try{const s=await l(t);if(null!==s&&void 0!==s&&s.success)return e("deleteUsersList",t),e("setUsersListUsers"),!0}catch(s){(0,T.Po)(s)}return!1},async saveUsersListsOrder({commit:e,rootGetters:t},s){const{customOrder:r,sort:a,order:i}=s;try{const n=await h(s);if(null!==n&&void 0!==n&&n.success)if(r)e("setIds",r);else if(a||i){const r=t["auth/authUserId"],i=a?"listsSort":"listsSortOrder",n=Object.values(s)[0];e("users/setUserField",{userId:r,field:i,status:n},{root:!0}),e("setLoading",!0)}}catch(n){(0,T.Po)(n)}},async toggleUserInList({commit:e,rootGetters:t,state:s,dispatch:i,rootState:n},{listId:o,userId:c}){try{const d=t["users/getUser"](c),u=d.listsStates.find((e=>+e.id===o)),l=u&&u.hasUser,m=l?await y(o,c):await g(o,c);if(m){if(m.userState){let r=[...new Set([...d.listsStates])];const u=r.findIndex((e=>+e.id===o));if(u>-1&&r.splice(u,1),!l){const e=[...new Set([...r,m.userState])];r=s.usersListsIds.filter((t=>void 0!==e.find((e=>+e.id===+t)))).map((t=>e.splice(e.findIndex((e=>+e.id===t)),1)[0])).concat(e)}if("friends"===m.userState.type){const s=t["auth/authUserId"],r=s||t["users/userId"],o=n.users.friends[r]||[];["Profile"].includes(a.ZP.$route.name)&&o.length>9?await i("users/fetchFriendsList",{userId:s},{root:!0}):["Profile"].includes(a.ZP.$route.name)?e("users/setUserFriend",{authUserId:s,id:c},{root:!0}):(e("users/setUserFriend",{authUserId:s,id:c},{root:!0}),e("users/setForceFriendsReload",!0,{root:!0}))}"muted"!==m.userState.type||"Chat"!==a.ZP.$route.name&&"Chats"!==a.ZP.$route.name||e("chats/setMuteNotifications",c,{root:!0}),e("users/setUserField",{userId:c,field:"listsStates",status:r},{root:!0})}m.list&&(e("set",(0,r.Fv)(m.list,$.jX),{root:!0}),l&&s.itemsUsersList&&("CustomList"===a.ZP.$route.name&&o===+a.ZP.$route.params.list||"MyFriends"===a.ZP.$route.name&&"friends"===m.list.type||"close_friends"===a.ZP.$route.params.list&&"close_friends"===m.list.type||"Bookmarks"===a.ZP.$route.name&&"bookmarks"===m.list.type||"Favorites"===a.ZP.$route.name&&"favorites"===m.list.type)&&e("setUsersListUsers",{userIds:s.itemsUsersList.filter((e=>e!==c))}))}}catch(d){(0,T.Po)(d)}},async fetchUsersListUsers({commit:e,state:t},{id:s,more:a=!1,query:i}){try{a||(e("setUsersOffset",0),e("setUsersListUsers"));const n=await c({id:s,offset:t.usersOffset,query:i});if(Array.isArray(n)){if(n.length){const s=(0,r.Fv)(n,$.Xd);return e("set",s,{root:!0}),e("setUsersOffset",t.usersOffset+s.result.length),e("setUsersListUsers",{userIds:s.result,more:a}),s.result}}else(0,T.oj)({error:new Error("typeof response is incorrect"),extra:{response:n}})}catch(n){}return[]},async saveUsersListOrder(e,{listId:t,data:s}){try{return await f({listId:t,data:s})}catch(r){return(0,T.Po)(r),null}},async updateUsersListOrder(e,{listId:t,data:s}){try{return await p({listId:t,data:s})}catch(r){return(0,T.Po)(r),null}},async addTopFansToList({dispatch:e},{listId:t,year:s,month:r}){return e("addToList",{fn:P,params:{listId:t,year:s,month:r}})},async addCampaignClaimersToList({dispatch:e},{listId:t,campaignId:s}){return e("addToList",{fn:C,params:{listId:t,campaignId:s}})},async addUsersToLists({commit:e},t){try{const s=await v(t.data);t.updateFriendsList&&e("users/setForceFriendsReload",!0,{root:!0});const r=Object.keys(t.data),a=r.every((e=>s[e]&&t.data[e].every((t=>s[e].includes(t)))));return!!(s&&r.length&&a)||((0,T.Po)({}),null)}catch(s){return(0,T.Po)(s),null}},async addQueueBuyersToList({dispatch:e},{listId:t,queueId:s}){return e("addToList",{fn:S,params:{listId:t,queueId:s}})},async updateUsersListPin({commit:e,state:t},{listId:s,status:i}){try{e("setLoading",!0);const n={},o=["Feed","CustomList"].includes(a.ZP.$route.name);o?n.isPinnedToFeed=i:n.isPinnedToChat=i;const c=await u({id:s,data:n});if(null!==c&&void 0!==c&&c.id){if(e(i?"addPinnedIds":"deletePinnedIds",[c.id]),e("set",(0,r.Fv)(c,$.jX),{root:!0}),+c.id!==+s){const r=[...t.usersListsIds];r[r.indexOf(+s)]=+c.id,e("setIds",r),e("setCouldBePinnedList",r)}e("setLoading",!1)}return c}catch(n){return e("setLoading",!1),(0,T.Po)(n),null}},updateFeedFiltersAndRefetch({commit:e,dispatch:t},s){if(["Feed","Purchased"].includes(a.ZP.$route.name)){e("setFeedFiltersIds",s);const[r]=s;e("posts/resetFeedItemIds",{},{root:!0}),e("posts/setPrevPostsToLoad",!1,{root:!0}),t("posts/fetchPosts",{direction:"bottom",listId:r,user:a.ZP.$route.query.user},{root:!0}).catch((()=>{})),r&&!+r||(t(r?"stories/resetMyStories":"stories/fetchMyStories",{},{root:!0}),t("stories/fetchFeedStories",{list_id:r},{root:!0}),e("streams/setItemIds",[],{root:!0}),t("streams/fetchStreamsFeed",{list_id:r},{root:!0}))}else e("setCurrentFiltersIds",s)},async addPostUsersToList({dispatch:e},{type:t,listId:s,postId:r,optionId:a}){return e("addToList",{fn:w,params:{type:t,listId:s,postId:r,optionId:a}})},async addToList({commit:e,getters:t},{fn:s,params:r}){try{var a;const i=await s(r);if(null!==i&&void 0!==i&&null!==(a=i.addedUsers)&&void 0!==a&&a.length){const s={...t.getUsersList(r.listId)};s.usersCount+=i.addedUsers.length,s.users=i.addedUsers.reverse().concat(s.users).slice(0,5),e("updateUsersList",s)}return i}catch(i){return(0,T.Po)(i),null}},async addStreamUsersToList({commit:e,getters:t},{listId:s,...r}){try{var a;const i=await b({listId:s,...r});if(null!==i&&void 0!==i&&null!==(a=i.addedUsers)&&void 0!==a&&a.length){const r={...t.getUsersList(s)};r.usersCount+=i.addedUsers.length,r.users=i.addedUsers.reverse().concat(r.users).slice(0,5),e("updateUsersList",r)}return i}catch(i){return(0,T.Po)(i),null}},async addStoryUsersToList({commit:e,getters:t},{listId:s,...r}){try{var a;const i=await I({listId:s,...r});if(null!==i&&void 0!==i&&null!==(a=i.addedUsers)&&void 0!==a&&a.length){const r={...t.getUsersList(s)};r.usersCount+=i.addedUsers.length,r.users=i.addedUsers.reverse().concat(r.users).slice(0,5),e("updateUsersList",r)}return i}catch(i){return(0,T.Po)(i),null}},async addClaimsToList({commit:e,getters:t},{listId:s,...r}){try{var a;const i=await k({listId:s,...r});if(null!==i&&void 0!==i&&null!==(a=i.addedUsers)&&void 0!==a&&a.length){const r={...t.getUsersList(s)};r.usersCount+=i.addedUsers.length,r.users=i.addedUsers.reverse().concat(r.users).slice(0,5),e("updateUsersList",r)}return i}catch(i){return(0,T.Po)(i),null}}}},243168:function(e,t,s){"use strict";s.d(t,{V4:function(){return Se},P$:function(){return we},rL:function(){return W},VR:function(){return V},w1:function(){return B},dO:function(){return j},Nq:function(){return _},kN:function(){return M},Vc:function(){return ve},JJ:function(){return Pe},vU:function(){return Y},lR:function(){return v},xp:function(){return se},WH:function(){return oe},iq:function(){return ce},ub:function(){return le},Xt:function(){return me},eI:function(){return R},Rj:function(){return E},GD:function(){return ue},C_:function(){return H},_8:function(){return D},W4:function(){return J},zA:function(){return ee},nz:function(){return ye},BO:function(){return pe},iT:function(){return U},Ro:function(){return N},H3:function(){return f},Vz:function(){return h},e_:function(){return ie},oF:function(){return ne},CF:function(){return ae},qn:function(){return re},Xd:function(){return T},IK:function(){return C},jX:function(){return $},jR:function(){return L},zr:function(){return he},Zi:function(){return fe},$7:function(){return G}});s(333948);var r=s(782677),a=s(227361),i=s.n(a),n=s(285088),o=()=>{const e=i()(window,"navigator.connection");if(!e||"object"!==typeof e)return{canUse:!1,isMobile:n.isMobile};const t={canUse:!0,isMobile:n.isMobile,good:!0};return e.downlinkMax&&e.downlinkMax>=1.5||e.downlink&&e.downlink>=1.5||"4g"===e.effectiveType||"wifi"===e.type?t:{canUse:!0,good:!1,isMobile:n.isMobile}};const c=e=>new Date(e).getTime()/1e3,d=(e,t,s,r)=>{const{canUse:a,isMobile:i,good:n}=o(),c=window.innerHeight;return"photo"===e?c<=r?s:t:a?n?t:s:i?s:t},u=e=>{const t=i()(e,"[0].canView"),s=i()(e,"[0].type","photo"),r=i()(e,"[0].files.source.url",""),a=i()(e,"[0].files.source.sources.720")||r,n=i()(e,"[0].files.preview.url")||r,o=i()(e,"[0].files.preview.height",0),c="photo"===s?n:a,u=`data:image/jpg;base64,${i()(e,"[0].files.locked.url","")}`;return t?d(s,r,c,o):u},l=e=>{const t=window.innerWidth,s=window.innerHeight,r=i()(e,"0.files.source.width"),a=i()(e,"0.files.source.height"),n=r/a,o=150,c=o/n,d=t/o,u=s/c,l=o*u,m=c*d;return l<=t?{bgPreviewWidth:l,bgPreviewHeight:s,originalMediaWidth:r,originalMediaHeight:a}:{bgPreviewWidth:t,bgPreviewHeight:m,originalMediaWidth:r,originalMediaHeight:a}},m=e=>{const{id:t,isExpired:s,canLike:r,canDelete:a,isWatched:n,isLiked:o,isReady:d,userId:m,isHighlightCover:h,isLastInHighlight:f,question:p,viewersCount:g,createdAt:y,media:v,viewers:P,likesCount:S,tipsAmount:w,tipsAmountRaw:b,tipsCount:I,commentsCount:k}=e,C=i()(v,"[0].canView"),T=!1!==d&&C?i()(v,"[0].type","photo"):"photo",$="gif"===T?"video":T,L=i()(v,"[0].files.source.duration",0),M=L<=5?5:L,_="photo"===T?void 0:L<=5,A=i()(v,"[0].files.preview.sources.w150",void 0),F=i()(v,"[0].files.squarePreview.sources.w480",void 0),x=C?A:"",D=y?c(y):void 0,{bgPreviewWidth:E,bgPreviewHeight:U,originalMediaWidth:R,originalMediaHeight:O}=l(v),Z=u(v),B=i()(v,"[0].files.locked.url",void 0);return{id:t,isExpired:s,canLike:r,canDelete:a,isLiked:o,isReady:d,userId:m,isWatched:n,isHighlightCover:h,isLastInHighlight:f,question:p,viewersCount:g,createdAt:y,type:$,mediaType:T,length:M,loop:_,thumb:A,time:D,viewers:P,bgPreviewWidth:E,bgPreviewHeight:U,originalMediaWidth:R,originalMediaHeight:O,loadingBg:x,src:Z,locked:B,thumbLarge:F,likesCount:S,tipsAmount:w,tipsAmountRaw:b,tipsCount:I,commentsCount:k}},h=new r.fK.Entity("bundles"),f=new r.fK.Array(h),p=new r.fK.Entity("subscribes",{},{idAttribute:(e,t)=>t.id,processStrategy(e,t){return{...e,id:t.id}}}),g=(new r.fK.Array(p),new r.fK.Entity("subscribers",{},{idAttribute:(e,t)=>t.id,processStrategy:(e,t)=>({...e,id:t.id})})),y=(new r.fK.Array(g),new r.fK.Entity("offers",{},{processStrategy(e,t){return{...e,userId:t.id}}})),v=new r.fK.Array(y),P={defaultUser:{openseaInfo:{isConnected:!1,permalink:null,openseaProfileLink:null,hasNft:!1}},mergeStrategy(e,t){let s=[];return e._views?s=e._views:e._view&&(s.push(e._view),delete e._view),t._view&&(s=[...new Set([...s,t._view])],delete t._view),{...e,...t,view:{...e.view||{},...t.view||{}},_views:s}},processStrategy(e){return e.username&&(e.view&&(e.view={[e.view]:+new Date}),e.newPostsAfterExpireCount&&(e.subscribedByData={newPostsAfterExpireCount:e.newPostsAfterExpireCount},delete e.newPostsAfterExpireCount)),e._view?e._views=[...new Set([...e._views||[],e._view])]:e={...P.defaultUser,...e},{...e,friendsList:[]}}},S=new r.fK.Entity("users",{},P),w=new r.fK.Entity("helperAccess",{user:S},{idAttribute:e=>e.userId}),b=new r.fK.Array(w),I=new r.fK.Entity("users",{},P),k=new r.fK.Array(I),C=new r.fK.Entity("users",{subscribedByData:p,subscribedOnData:g,subscriptionBundles:f,helperAccess:b,connectedOfAccounts:k},P),T=new r.fK.Array(C),$=new r.fK.Entity("usersLists",{users:T},{processStrategy(e){return e.id=+e.id,{...e}}}),L=new r.fK.Array($),M=new r.fK.Entity("comments",{author:C}),_=new r.fK.Array(M),A=new r.fK.Entity("linkedPosts",{author:C},{processStrategy(e){return{...e,comments:[],streamEvents:[],favoritesList:[],tipsList:[],buyersList:[]}}}),F=new r.fK.Array(A),x=new r.fK.Entity("releaseForms"),D=new r.fK.Array(x),E=new r.fK.Entity("posts",{author:C,fromUser:C,linkedPosts:F,linkedUsers:T,releaseForms:D},{idAttribute:e=>e.id>0?e.id:e.queueId,processStrategy(e){return{...e,...void 0!==e.createdAt&&{postedAt:e.createdAt},id:e.id>0?e.id:e.queueId,streamEvents:[],favoritesList:[],tipsList:[],buyersList:[]}}}),U=new r.fK.Entity("stories",{},{processStrategy:m}),R=new r.fK.Array(E),O={processStrategy(e){return{...e,likePrevent:!1,isMediaPlayed:!1,fromUser:e.fromUser.id}}},Z=new r.fK.Entity("messages",{},O),B=new r.fK.Entity("messages",{replyToMessage:Z,story:U,releaseForms:D},O),j=new r.fK.Entity("chats",{withUser:C,lastMessage:B},{idAttribute:e=>e.withUser.id,processStrategy(e){return{...e,messages:[],typing:!1}}}),W=new r.fK.Array(j),V=new r.fK.Array(B),q=new r.fK.Entity("streams",{user:C}),N=new r.fK.Array(q),H=new r.fK.Array(C),z=new r.fK.Entity("notification",{user:C,story:U}),X=new r.fK.Entity("votersList",{user:C},{processStrategy(e){return{...e}}}),G=new r.fK.Array(X),Y=new r.fK.Array(z),K=new r.fK.Entity("spotifyArtists"),J=new r.fK.Array(K),Q=new r.fK.Entity("spotifyTracks"),ee=new r.fK.Array(Q),te=new r.fK.Entity("cards"),se=new r.fK.Array(te),re=new r.fK.Entity("ticketReplies"),ae=new r.fK.Array(re),ie=new r.fK.Entity("supportTickets",{lastComment:re}),ne=new r.fK.Array(ie),oe=new r.fK.Entity("performerHelpers",{helper:C},{idAttribute:e=>e.helperId}),ce=new r.fK.Array(oe),de=new r.fK.Entity("queues"),ue=new r.fK.Array(de),le=new r.fK.Entity("postLabels"),me=new r.fK.Array(le),he=new r.fK.Entity("vaultLists"),fe=new r.fK.Array(he),pe=new r.fK.Array(U),ge=new r.fK.Entity("userStories",{stories:pe,user:C},{idAttribute:e=>e.user.id}),ye=new r.fK.Array(ge),ve=new r.fK.Entity("highlights",{stories:pe}),Pe=new r.fK.Array(ve),Se=new r.fK.Entity("massMessagesStat"),we=new r.fK.Array(Se)},58086:function(e,t){"use strict";const s={getDurationFormat(e){return e<3600?"m:ss":"H:mm:ss"},getDurationWithText(e){return e>=3600?"H[h] m[min]":"m[min] s[sec]"},secondsToHms(e){let t="";e=+e;const s=Math.floor(e/3600),r=Math.floor(e%3600/60),a=Math.floor(e%3600%60);if(s>48)return t;const i=s>0?`${s}h`:"",n=r>0?`${r}m`:"",o=a>0?`${a}s`:"";return i?t=`${i} ${n}`:n&&e>120?t=`${n} ${o}`:e<=120&&(t=`${e}s`),t}};t["Z"]=s},963729:function(e,t,s){"use strict";s.d(t,{L:function(){return a},P:function(){return r}});s(333948);const r=()=>{const e={};return e.promise=new Promise(((t,s)=>{e.resolve=t,e.reject=s})),e},a=e=>{const t=e.map((e=>Promise.resolve(e).then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e})))));return Promise.all(t)}},199887:function(e,t,s){"use strict";function r(){let e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)null!==navigator&&(e=navigator.msMaxTouchPoints>0);else{const t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{const t=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(t)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(t)}}return e}s.d(t,{b:function(){return a}});const a=r()},793634:function(e,t,s){"use strict";s.d(t,{C:function(){return a},Q:function(){return r}});const r=e=>{const t=document.createElement("div");t.classList.add("b-dropdown-wrapper");const s=document.createElement("div");s.classList.add("overlay"),s.addEventListener("click",(()=>{e.vueTarget.hide()}),{once:!0}),t.appendChild(e.target),t.appendChild(s),document.body.appendChild(t)},a=e=>{let t;if(e.vueTarget)t=e.target.closest(".b-dropdown-wrapper"),e.vueTarget.$el.appendChild(e.target);else{const s=document.body.querySelector(`.b-dropdown-wrapper ul[aria-labelledby=${e.id}__BV_toggle_]`);t=s&&s.parentElement}t&&t.remove()}},172462:function(e,t,s){"use strict";s.d(t,{Po:function(){return d},Ri:function(){return m},Ul:function(){return l},WH:function(){return f},oj:function(){return u}});var r=s(747037),a=s.n(r),i=s(227361),n=s.n(i),o=(s(21703),s(333948),s(198225)),c=s(550615);const d=(e,t,s)=>{if(e&&"silent"===e.message)return;const r=c.Z.state.formApiErrors.hasError&&n()(e,"data.errors");let a,i=!0;null!==t&&"object"===typeof t&&({message:t,onclose:s,buttons:a,html:i=!0}=t),t=t||n()(e,"data.error.message")||n()(e,"data.error.templates")||n()(e,"message")||o.ZP.$t("message.debug_alert_message"),e instanceof Error&&!e.request&&Sentry.captureException(e),t&&!r&&alert({message:t,html:i,onclose:s,buttons:a})},u=({error:e,tags:t,extra:s})=>{t=t||{},s=s||{},e&&Sentry.withScope((r=>{for(const[e,s]of Object.entries(t))r.setTag(e,s);for(const[e,t]of Object.entries(s))r.setExtra(e,t);Sentry.captureException(e)}))},l=({message:e,tags:t,extra:s})=>{h({data:e,severity:"log",tags:t,extra:s})},m=({error:e,tags:t,extra:s})=>{h({data:e,severity:"error",tags:t,extra:s})},h=({data:e,severity:t="log",tags:s={},extra:r={}})=>{e&&SentryStreams.withScope((i=>{for(const[e,t]of Object.entries(s))i.setTag(e,t);for(const[e,t]of Object.entries(r))i.setExtra(e,t);"error"===t?(a()(e)&&(e=new Error(e)),SentryStreams.captureException(e)):SentryStreams.captureMessage(e,t)}))},f=(e,t)=>{e instanceof Error&&"Network Error"===e.message||e&&e.status>500?o.ZP.$bvToast.toast(o.ZP.$t("message.api_error"),{autoHideDelay:5e3,appendToast:!0,toaster:"b-toaster-bottom-left"}):"function"===typeof t&&t.call(null,e)}},925832:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});s(115306);var r=s(198225),a=s(532622);const i=(e={})=>a.ZP.post(`${a.tW}/issues/login`,e).then((e=>e.data));var n=async()=>{const e=await i();if(e){"fraud_repayment"===e.action&&(r.ZP.$store.commit("init/setFraudRepaymentData",e.data,{root:!0}),r.ZP.$store.commit("init/setIsFraudRepayment",!0,{root:!0})),"login_requires_iv_wait_iv"===e.action&&(r.ZP.$store.commit("init/setlLoginRequiresIv",e.data,{root:!0}),r.ZP.$store.commit("init/setIsNeedIV",!0,{root:!0}));const t=(0,a.Es)(window.location);if(t){const{route:s}=r.ZP.$router.resolve(t),a=r.ZP.$store.getters["auth/authUser"];(!s||!s.meta||!s.meta.allowFraudRepayment&&"fraud_repayment"===e.action||!s.meta.allowNeedLoginIV&&"login_requires_iv_wait_iv"===e.action||s.params.userId&&s.params.userId!==a.username)&&r.ZP.$router.replace({name:"Profile",params:{userId:a.username}})}}}},927598:function(e,t,s){"use strict";s(333948);t["Z"]=e=>[...new Set(e.map((e=>e.id)))].map((t=>e.filter((e=>e.id===t)).pop()))},470039:function(e,t,s){var r;s(21703),s(115306),s(573210),function(a,i,n,o){"use strict";var c,d=["","webkit","Moz","MS","ms","o"],u=i.createElement("div"),l="function",m=Math.round,h=Math.abs,f=Date.now;function p(e,t,s){return setTimeout(b(e,s),t)}function g(e,t,s){return!!Array.isArray(e)&&(y(e,s[t],s),!0)}function y(e,t,s){var r;if(e)if(e.forEach)e.forEach(t,s);else if(e.length!==o){r=0;while(r<e.length)t.call(s,e[r],r,e),r++}else for(r in e)e.hasOwnProperty(r)&&t.call(s,e[r],r,e)}function v(e,t,s){var r="DEPRECATED METHOD: "+t+"\n"+s+" AT \n";return function(){var t=new Error("get-stack-trace"),s=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=a.console&&(a.console.warn||a.console.log);return i&&i.call(a.console,r,s),e.apply(this,arguments)}}c="function"!==typeof Object.assign?function(e){if(e===o||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),s=1;s<arguments.length;s++){var r=arguments[s];if(r!==o&&null!==r)for(var a in r)r.hasOwnProperty(a)&&(t[a]=r[a])}return t}:Object.assign;var P=v((function(e,t,s){var r=Object.keys(t),a=0;while(a<r.length)(!s||s&&e[r[a]]===o)&&(e[r[a]]=t[r[a]]),a++;return e}),"extend","Use `assign`."),S=v((function(e,t){return P(e,t,!0)}),"merge","Use `assign`.");function w(e,t,s){var r,a=t.prototype;r=e.prototype=Object.create(a),r.constructor=e,r._super=a,s&&c(r,s)}function b(e,t){return function(){return e.apply(t,arguments)}}function I(e,t){return typeof e==l?e.apply(t&&t[0]||o,t):e}function k(e,t){return e===o?t:e}function C(e,t,s){y(M(t),(function(t){e.addEventListener(t,s,!1)}))}function T(e,t,s){y(M(t),(function(t){e.removeEventListener(t,s,!1)}))}function $(e,t){while(e){if(e==t)return!0;e=e.parentNode}return!1}function L(e,t){return e.indexOf(t)>-1}function M(e){return e.trim().split(/\s+/g)}function _(e,t,s){if(e.indexOf&&!s)return e.indexOf(t);var r=0;while(r<e.length){if(s&&e[r][s]==t||!s&&e[r]===t)return r;r++}return-1}function A(e){return Array.prototype.slice.call(e,0)}function F(e,t,s){var r=[],a=[],i=0;while(i<e.length){var n=t?e[i][t]:e[i];_(a,n)<0&&r.push(e[i]),a[i]=n,i++}return s&&(r=t?r.sort((function(e,s){return e[t]>s[t]})):r.sort()),r}function x(e,t){var s,r,a=t[0].toUpperCase()+t.slice(1),i=0;while(i<d.length){if(s=d[i],r=s?s+a:t,r in e)return r;i++}return o}var D=1;function E(){return D++}function U(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||a}var R="ontouchstart"in a,O=!1,Z=!0,B="touch",j="pen",W="mouse",V="kinect",q=25,N=1,H=2,z=4,X=8,G=1,Y=2,K=4,J=8,Q=16,ee=Y|K,te=J|Q,se=ee|te,re=["x","y"],ae=["clientX","clientY"];function ie(e,t){var s=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){I(e.options.enable,[e])&&s.handler(t)},this.init()}function ne(e){var t,s=e.options.inputClass;return t=s||(O?$e:Z?Ee:R?Oe:be),new t(e,oe)}function oe(e,t,s){var r=s.pointers.length,a=s.changedPointers.length,i=t&N&&r-a===0,n=t&(z|X)&&r-a===0;s.isFirst=!!i,s.isFinal=!!n,i&&(e.session={}),s.eventType=t,ce(e,s),e.emit("hammer.input",s),e.recognize(s),e.session.prevInput=s}function ce(e,t){var s=e.session,r=t.pointers,a=r.length;s.firstInput||(s.firstInput=le(t)),a>1&&!s.firstMultiple?s.firstMultiple=le(t):1===a&&(s.firstMultiple=!1);var i=s.firstInput,n=s.firstMultiple,o=n?n.center:i.center,c=t.center=me(r);t.timeStamp=f(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=ge(o,c),t.distance=pe(o,c),de(s,t),t.offsetDirection=fe(t.deltaX,t.deltaY);var d=he(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=d.x,t.overallVelocityY=d.y,t.overallVelocity=h(d.x)>h(d.y)?d.x:d.y,t.scale=n?ve(n.pointers,r):1,t.rotation=n?ye(n.pointers,r):0,t.maxPointers=s.prevInput?t.pointers.length>s.prevInput.maxPointers?t.pointers.length:s.prevInput.maxPointers:t.pointers.length,ue(s,t);var u=e.element;$(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}function de(e,t){var s=t.center,r=e.offsetDelta||{},a=e.prevDelta||{},i=e.prevInput||{};t.eventType!==N&&i.eventType!==z||(a=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:s.x,y:s.y}),t.deltaX=a.x+(s.x-r.x),t.deltaY=a.y+(s.y-r.y)}function ue(e,t){var s,r,a,i,n=e.lastInterval||t,c=t.timeStamp-n.timeStamp;if(t.eventType!=X&&(c>q||n.velocity===o)){var d=t.deltaX-n.deltaX,u=t.deltaY-n.deltaY,l=he(c,d,u);r=l.x,a=l.y,s=h(l.x)>h(l.y)?l.x:l.y,i=fe(d,u),e.lastInterval=t}else s=n.velocity,r=n.velocityX,a=n.velocityY,i=n.direction;t.velocity=s,t.velocityX=r,t.velocityY=a,t.direction=i}function le(e){var t=[],s=0;while(s<e.pointers.length)t[s]={clientX:m(e.pointers[s].clientX),clientY:m(e.pointers[s].clientY)},s++;return{timeStamp:f(),pointers:t,center:me(t),deltaX:e.deltaX,deltaY:e.deltaY}}function me(e){var t=e.length;if(1===t)return{x:m(e[0].clientX),y:m(e[0].clientY)};var s=0,r=0,a=0;while(a<t)s+=e[a].clientX,r+=e[a].clientY,a++;return{x:m(s/t),y:m(r/t)}}function he(e,t,s){return{x:t/e||0,y:s/e||0}}function fe(e,t){return e===t?G:h(e)>=h(t)?e<0?Y:K:t<0?J:Q}function pe(e,t,s){s||(s=re);var r=t[s[0]]-e[s[0]],a=t[s[1]]-e[s[1]];return Math.sqrt(r*r+a*a)}function ge(e,t,s){s||(s=re);var r=t[s[0]]-e[s[0]],a=t[s[1]]-e[s[1]];return 180*Math.atan2(a,r)/Math.PI}function ye(e,t){return ge(t[1],t[0],ae)+ge(e[1],e[0],ae)}function ve(e,t){return pe(t[0],t[1],ae)/pe(e[0],e[1],ae)}ie.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(U(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(U(this.element),this.evWin,this.domHandler)}};var Pe={mousedown:N,mousemove:H,mouseup:z},Se="mousedown",we="mousemove mouseup";function be(){this.evEl=Se,this.evWin=we,this.pressed=!1,ie.apply(this,arguments)}w(be,ie,{handler:function(e){var t=Pe[e.type];t&N&&0===e.button&&(this.pressed=!0),t&H&&1!==e.which&&(t=z),this.pressed&&(t&z&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:W,srcEvent:e}))}});var Ie={pointerdown:N,pointermove:H,pointerup:z,pointercancel:X,pointerout:X},ke={2:B,3:j,4:W,5:V},Ce="pointerdown",Te="pointermove pointerup pointercancel";function $e(){this.evEl=Ce,this.evWin=Te,ie.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}a.MSPointerEvent&&!a.PointerEvent&&(Ce="MSPointerDown",Te="MSPointerMove MSPointerUp MSPointerCancel"),w($e,ie,{handler:function(e){var t=this.store,s=!1,r=e.type.toLowerCase().replace("ms",""),a=Ie[r],i=ke[e.pointerType]||e.pointerType,n=i==B,o=_(t,e.pointerId,"pointerId");a&N&&(0===e.button||n)?o<0&&(t.push(e),o=t.length-1):a&(z|X)&&(s=!0),o<0||(t[o]=e,this.callback(this.manager,a,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),s&&t.splice(o,1))}});var Le={touchstart:N,touchmove:H,touchend:z,touchcancel:X},Me="touchstart",_e="touchstart touchmove touchend touchcancel";function Ae(){this.evTarget=Me,this.evWin=_e,this.started=!1,ie.apply(this,arguments)}function Fe(e,t){var s=A(e.touches),r=A(e.changedTouches);return t&(z|X)&&(s=F(s.concat(r),"identifier",!0)),[s,r]}w(Ae,ie,{handler:function(e){var t=Le[e.type];if(t===N&&(this.started=!0),this.started){var s=Fe.call(this,e,t);t&(z|X)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:s[0],changedPointers:s[1],pointerType:B,srcEvent:e})}}});var xe={touchstart:N,touchmove:H,touchend:z,touchcancel:X},De="touchstart touchmove touchend touchcancel";function Ee(){this.evTarget=De,this.targetIds={},ie.apply(this,arguments)}function Ue(e,t){var s=A(e.touches),r=this.targetIds;if(t&(N|H)&&1===s.length)return r[s[0].identifier]=!0,[s,s];var a,i,n=A(e.changedTouches),o=[];this.target;if(i=s.filter((function(e){return!0})),t===N){a=0;while(a<i.length)r[i[a].identifier]=!0,a++}a=0;while(a<n.length)r[n[a].identifier]&&o.push(n[a]),t&(z|X)&&delete r[n[a].identifier],a++;return o.length?[F(i.concat(o),"identifier",!0),o]:void 0}w(Ee,ie,{handler:function(e){var t=xe[e.type],s=Ue.call(this,e,t);s&&this.callback(this.manager,t,{pointers:s[0],changedPointers:s[1],pointerType:B,srcEvent:e})}});var Re=2500;function Oe(){ie.apply(this,arguments);var e=b(this.handler,this);this.touch=new Ee(this.manager,e),this.mouse=new be(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function Ze(e,t){e&N?(this.primaryTouch=t.changedPointers[0].identifier,Be.call(this,t)):e&(z|X)&&Be.call(this,t)}function Be(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var s={x:t.clientX,y:t.clientY};this.lastTouches.push(s);var r=this.lastTouches,a=function(){var e=r.indexOf(s);e>-1&&r.splice(e,1)};setTimeout(a,Re)}}function je(e){for(var t=e.srcEvent.clientX,s=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var a=this.lastTouches[r],i=Math.abs(t-a.x),n=Math.abs(s-a.y);if(i<=DEDUP_DISTANCE&&n<=DEDUP_DISTANCE)return!0}return!1}w(Oe,ie,{handler:function(e,t,s){var r=s.pointerType==B,a=s.pointerType==W;if(!(a&&s.sourceCapabilities&&s.sourceCapabilities.firesTouchEvents)){if(r)Ze.call(this,t,s);else if(a&&je.call(this,s))return;this.callback(e,t,s)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var We=x(u.style,"touchAction"),Ve=We!==o,qe="compute",Ne="auto",He="manipulation",ze="none",Xe="pan-x",Ge="pan-y",Ye=Qe();function Ke(e,t){this.manager=e,this.set(t)}function Je(e){if(L(e,ze))return ze;var t=L(e,Xe),s=L(e,Ge);return t&&s?ze:t||s?t?Xe:Ge:L(e,He)?He:Ne}function Qe(){if(!Ve)return!1;var e={},t=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(s){e[s]=!t||a.CSS.supports("touch-action",s)})),e}Ke.prototype={set:function(e){e==qe&&(e=this.compute()),Ve&&this.manager.element.style&&Ye[e]&&(this.manager.element.style[We]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){I(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),Je(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,s=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,a=L(r,ze)&&!Ye[ze],i=L(r,Ge)&&!Ye[Ge],n=L(r,Xe)&&!Ye[Xe];if(a){var o=1===e.pointers.length,c=e.distance<2,d=e.deltaTime<250;if(o&&c&&d)return}if(!n||!i)return a||i&&s&ee||n&&s&te?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var et=1,tt=2,st=4,rt=8,at=rt,it=16,nt=32;function ot(e){this.options=c({},this.defaults,e||{}),this.id=E(),this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=et,this.simultaneous={},this.requireFail=[]}function ct(e){return e&it?"cancel":e&rt?"end":e&st?"move":e&tt?"start":""}function dt(e){return e==Q?"down":e==J?"up":e==Y?"left":e==K?"right":""}function ut(e,t){var s=t.manager;return s?s.get(e):e}function lt(){ot.apply(this,arguments)}function mt(){lt.apply(this,arguments),this.pX=null,this.pY=null}function ht(){lt.apply(this,arguments)}function ft(){ot.apply(this,arguments),this._timer=null,this._input=null}function pt(){lt.apply(this,arguments)}function gt(){lt.apply(this,arguments)}function yt(){ot.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function vt(e,t){return t=t||{},t.recognizers=k(t.recognizers,vt.defaults.preset),new wt(e,t)}ot.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ut(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=ut(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return e=ut(e,this),-1===_(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=ut(e,this);var t=_(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,s=this.state;function r(s){t.manager.emit(s,e)}s<rt&&r(t.options.event+ct(s)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),s>=rt&&r(t.options.event+ct(s))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=nt},canEmit:function(){var e=0;while(e<this.requireFail.length){if(!(this.requireFail[e].state&(nt|et)))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!I(this.options.enable,[this,t]))return this.reset(),void(this.state=nt);this.state&(at|it|nt)&&(this.state=et),this.state=this.process(t),this.state&(tt|st|rt|it)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(lt,ot,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,s=e.eventType,r=t&(tt|st),a=this.attrTest(e);return r&&(s&X||!a)?t|it:r||a?s&z?t|rt:t&tt?t|st:tt:nt}}),w(mt,lt,{defaults:{event:"pan",threshold:10,pointers:1,direction:se},getTouchAction:function(){var e=this.options.direction,t=[];return e&ee&&t.push(Ge),e&te&&t.push(Xe),t},directionTest:function(e){var t=this.options,s=!0,r=e.distance,a=e.direction,i=e.deltaX,n=e.deltaY;return a&t.direction||(t.direction&ee?(a=0===i?G:i<0?Y:K,s=i!=this.pX,r=Math.abs(e.deltaX)):(a=0===n?G:n<0?J:Q,s=n!=this.pY,r=Math.abs(e.deltaY))),e.direction=a,s&&r>t.threshold&&a&t.direction},attrTest:function(e){return lt.prototype.attrTest.call(this,e)&&(this.state&tt||!(this.state&tt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=dt(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(ht,lt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ze]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&tt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(ft,ot,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ne]},process:function(e){var t=this.options,s=e.pointers.length===t.pointers,r=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,!r||!s||e.eventType&(z|X)&&!a)this.reset();else if(e.eventType&N)this.reset(),this._timer=p((function(){this.state=at,this.tryEmit()}),t.time,this);else if(e.eventType&z)return at;return nt},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===at&&(e&&e.eventType&z?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(pt,lt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ze]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&tt)}}),w(gt,lt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ee|te,pointers:1},getTouchAction:function(){return mt.prototype.getTouchAction.call(this)},attrTest:function(e){var t,s=this.options.direction;return s&(ee|te)?t=e.overallVelocity:s&ee?t=e.overallVelocityX:s&te&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&s&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&e.eventType&z},emit:function(e){var t=dt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(yt,ot,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[He]},process:function(e){var t=this.options,s=e.pointers.length===t.pointers,r=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),e.eventType&N&&0===this.count)return this.failTimeout();if(r&&a&&s){if(e.eventType!=z)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,n=!this.pCenter||pe(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,n&&i?this.count+=1:this.count=1,this._input=e;var o=this.count%t.taps;if(0===o)return this.hasRequireFailures()?(this._timer=p((function(){this.state=at,this.tryEmit()}),t.interval,this),tt):at}return nt},failTimeout:function(){return this._timer=p((function(){this.state=nt}),this.options.interval,this),nt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==at&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),vt.VERSION="2.0.7",vt.defaults={domEvents:!1,touchAction:qe,enable:!0,inputTarget:null,inputClass:null,preset:[[pt,{enable:!1}],[ht,{enable:!1},["rotate"]],[gt,{direction:ee}],[mt,{direction:ee},["swipe"]],[yt],[yt,{event:"doubletap",taps:2},["tap"]],[ft]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Pt=1,St=2;function wt(e,t){this.options=c({},vt.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=ne(this),this.touchAction=new Ke(this,this.options.touchAction),bt(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function bt(e,t){var s,r=e.element;r.style&&(y(e.options.cssProps,(function(a,i){s=x(r.style,i),t?(e.oldCssProps[s]=r.style[s],r.style[s]=a):r.style[s]=e.oldCssProps[s]||""})),t||(e.oldCssProps={}))}function It(e,t){var s=i.createEvent("Event");s.initEvent(e,!0,!0),s.gesture=t,t.target.dispatchEvent(s)}wt.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?St:Pt},recognize:function(e){var t=this.session;if(!t.stopped){var s;this.touchAction.preventDefaults(e);var r=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&at)&&(a=t.curRecognizer=null);var i=0;while(i<r.length)s=r[i],t.stopped===St||a&&s!=a&&!s.canRecognizeWith(a)?s.reset():s.recognize(e),!a&&s.state&(tt|st|rt)&&(a=t.curRecognizer=s),i++}},get:function(e){if(e instanceof ot)return e;for(var t=this.recognizers,s=0;s<t.length;s++)if(t[s].options.event==e)return t[s];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e),e){var t=this.recognizers,s=_(t,e);-1!==s&&(t.splice(s,1),this.touchAction.update())}return this},on:function(e,t){if(e!==o&&t!==o){var s=this.handlers;return y(M(e),(function(e){s[e]=s[e]||[],s[e].push(t)})),this}},off:function(e,t){if(e!==o){var s=this.handlers;return y(M(e),(function(e){t?s[e]&&s[e].splice(_(s[e],t),1):delete s[e]})),this}},emit:function(e,t){this.options.domEvents&&It(e,t);var s=this.handlers[e]&&this.handlers[e].slice();if(s&&s.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};var r=0;while(r<s.length)s[r](t),r++}},destroy:function(){this.element&&bt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(vt,{INPUT_START:N,INPUT_MOVE:H,INPUT_END:z,INPUT_CANCEL:X,STATE_POSSIBLE:et,STATE_BEGAN:tt,STATE_CHANGED:st,STATE_ENDED:rt,STATE_RECOGNIZED:at,STATE_CANCELLED:it,STATE_FAILED:nt,DIRECTION_NONE:G,DIRECTION_LEFT:Y,DIRECTION_RIGHT:K,DIRECTION_UP:J,DIRECTION_DOWN:Q,DIRECTION_HORIZONTAL:ee,DIRECTION_VERTICAL:te,DIRECTION_ALL:se,Manager:wt,Input:ie,TouchAction:Ke,TouchInput:Ee,MouseInput:be,PointerEventInput:$e,TouchMouseInput:Oe,SingleTouchInput:Ae,Recognizer:ot,AttrRecognizer:lt,Tap:yt,Pan:mt,Swipe:gt,Pinch:ht,Rotate:pt,Press:ft,on:C,off:T,each:y,merge:S,extend:P,assign:c,inherit:w,bindFn:b,prefixed:x});var kt="undefined"!==typeof a?a:"undefined"!==typeof self?self:{};kt.Hammer=vt,r=function(){return vt}.call(t,s,t,e),r===o||(e.exports=r)}(window,document)},161065:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});s(333948);var r=s(550615);const a=()=>{let e=[];return r.Z.getters["auth/authUser"].activeHelperAccess&&r.Z.getters["auth/authUser"].activeHelperAccess.permissions.forEach((t=>{let s=[];switch(t){case"chats":s=["/my/chats","/my/mass_chats"];break;case"posts":s=["/posts/create",`/${r.Z.getters["auth/authUser"].username}`,`/${r.Z.getters["auth/authUser"].id}`,`/u${r.Z.getters["auth/authUser"].id}`];break;case"stats":s=["/my/statistics"];break;default:break}e=[...new Set([...e,...s])]})),e}},914786:function(e,t){"use strict";const s=(e,t=null)=>{try{const s=localStorage.getItem(e);return null===s||"undefined"==typeof s?t:s}catch(s){return t}},r=(e,t)=>{try{return localStorage.setItem(e,t)}catch(s){}},a=e=>{try{return localStorage.removeItem(e)}catch(t){}},i=(e,t=null)=>{try{const s=sessionStorage.getItem(e);return null===s||"undefined"==typeof s?t:s}catch(s){return t}},n=(e,t)=>{try{return sessionStorage.setItem(e,t)}catch(s){}},o=e=>{try{return sessionStorage.removeItem(e)}catch(t){}};t["Z"]={getItem:s,setItem:r,removeItem:a,getSessionItem:i,setSessionItem:n,removeSessionItem:o}},378945:function(e,t,s){"use strict";s.d(t,{C:function(){return r},w:function(){return a}});const r=e=>{switch(e){case"likes":return"favorites";case"media":return"medias";default:return e}},a=(e=[],t={})=>Array.isArray(e)&&e.length&&t&&"object"===typeof t&&Object.keys(t).length?e.reduce(((e,s)=>(s&&t[s]&&e.push(t[s]),e)),[]):[]},427166:function(e,t,s){"use strict";s.d(t,{P:function(){return i}});var r=s(968929),a=s.n(r);s(115306);const i=e=>{const t=new RegExp(/^ondato/gi),s=new RegExp(/ondato/gi);return Object.keys(e).reduce(((r,i)=>{const n=s.test(i)||t.test(i);if(!n)return r[i]=e[i],r;const o=i.replace(/ondato/gi,"IV");return r[a()(o)]=e[i],r}),{})}},403650:function(e,t,s){"use strict";s.d(t,{OT:function(){return o},xm:function(){return i}});const r=!0;let a="https://static.onlyfans.com";{const e="https://static.onlyfans.com".split("|").filter((e=>e));e.length&&(a=e[Math.round(Math.random()*(e.length-1))])}const i=a,n=r?`${a}/theme/onlyfans/spa/`:"/",o=r?"/theme/onlyfans/spa/icons/sprite.svg?rev=202303011546-a20df7c5cb#":"/icons/sprite.svg#";s.p=n},315223:function(e,t,s){"use strict";s.d(t,{D:function(){return r}});const r=()=>{const e=document.querySelector("#recovery_mode");e?(e.style.display="block",document.querySelector("#recovery_mode_progress").style.animation="recovery_progress 15s linear",window.isRecoveryMode=!0,setTimeout((()=>{window.location.reload()}),15e3)):window.location.reload()}},532622:function(e,t,s){"use strict";s.d(t,{JW:function(){return C},tW:function(){return T},XP:function(){return Z},K$:function(){return R},ZP:function(){return z},P9:function(){return $},Yz:function(){return N},gy:function(){return W},HS:function(){return V},jT:function(){return H},Es:function(){return B},Zh:function(){return j},r:function(){return k}});s(21703),s(782801),s(115306),s(333948),s(560285),s(241637);var r=s(550196),a=s(193810),i=s.n(a),n=s(428662),o=s(513218),c=s.n(o),d=s(227361),u=s.n(d),l=s(618446),m=s.n(l),h=s(550615),f=s(590594),p=s(198225),g=s(833415),y=s(914786),v=s(315223),P=(e,t)=>{if(118===u()(e,"response.data.error.code")){const t=u()(e,"response.data.error.payload.cardAuthState");return t.attempts===t.attemptsLimit?(h.Z.commit("init/setInitAuth",!1),h.Z.commit("auth/setAuthUser",null),h.Z.commit("modals/setOtpCardModal"),f.Z.push({name:"Feed",params:{isLogout:!0},query:{return_to:p.ZP.$route.query.return_to||p.ZP.$route.fullPath}})):h.Z.commit("modals/setOtpCardModal",{cardAuthState:u()(e,"response.data.error.payload.cardAuthState"),isShow:!0},{root:!0}),!1}return t},S=(e,t)=>{var s,r,a;return 120===(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(r=s.data)||void 0===r||null===(a=r.error)||void 0===a?void 0:a.code)?(p.ZP.$root.$emit("bv::show::modal","ModalAgeVerification"),{sendToSentry:t,is120:!0}):{sendToSentry:t,is120:!1}},w=async(e,t,s)=>new Promise(((r,a)=>{setTimeout((async()=>{try{r(await z[e](t,s))}catch(i){a(i)}}),1e3)})),b=s(925832);const I="onlyfans.com",k="33d57ade8c02dbc5a333db99ff9ae26a",C=`https://${I}`,T="/api2/v2",$=10,L=3e3;let M;const _=r.ZP.create({baseURL:C,headers:{"Content-Type":"application/json",accept:"application/json, text/plain, */*"},params:{},withCredentials:!0,maxRedirects:0}),A={get(e,t){return E("get",e,t)},post(e,t,s){return E("post",e,t,s)},put(e,t,s){return E("put",e,t,s)},patch(e,t,s){return E("patch",e,t,s)},delete(e,t,s){return E("delete",e,t,s)}},F={},x=(e,t,s,r,a,i)=>{const n=r.headers["retry-after"]||3;F[i]||(F[i]={accept:a.accept,reject:a.reject,counter:0}),n&&0===F[i].counter?(setTimeout((()=>{A[e](t,s)}),1e3*n),F[i].counter+=1):(alert("Please try again later."),F[i].reject(r),delete F[i])},D=async(e,t,s,r)=>new Promise(((a,i)=>{const n=h.Z.getters["modals/isPreloaderShow"];p.ZP.$window.hidePreloader(),p.ZP.$once("confirmSecurityCheck",(async()=>{n&&p.ZP.$window.showPreloader();try{a(await A[e](t,s))}catch(r){i(r)}})),p.ZP.$once("declineSecurityCheck",(()=>{i({data:r.data,message:"silent"})})),p.ZP.$nextTick((()=>{p.ZP.$emit("bv::show::modal","ModalSecurityCheck")}))})),E=(e,t,s,r)=>new Promise(((a,i)=>{const{isFraudRepayment:n,isNeedIV:o}=h.Z.state.init;if((n||o)&&t===`${T}/issues/login`)return void a({});const c=`${e}${t}`;_[e](t,s,r).then((e=>{e&&(F[c]?(F[c].accept(e),delete F[c]):a&&a(e))})).catch((async r=>{if(429===r.status)x(e,t,s,r,{accept:a,reject:i},c);else if(F[c])F[c].reject(r),delete F[c];else if(400===r.status&&105===u()(r,"data.error.code")){let o=u()(r,"data.error.payload.otpState")||{};o.forceFaceOtp&&(o={faceOtp:!0,email:!1,phoneOtp:!1,appOtp:!1}),h.Z.commit("modals/setTrustModal",o,{root:!0});try{a(await D(e,t,s,r))}catch(n){n&&400===n.status&&105===u()(n,"data.error.code")?i(new Error("silent")):i(n)}}else if("session_lock"===u()(r,"data.error.code"))try{a(await w(e,t,s,r))}catch(n){i(n)}else i&&i(r)}))})),U=()=>1e12*Math.random(),R=()=>{let e=y.Z.getItem("bcTokenSha");return e||(e=i()([(new Date).getTime(),U(),U(),window.navigator.userAgent].map(btoa).join(".")),y.Z.setItem("bcTokenSha",e),e)};(0,n.ZP)(_,{retries:0,retryDelay:()=>L}),_.interceptors.request.use((e=>{if(R(),0===e.url.indexOf(`${T}/`)){e.headers={...e.headers,...(0,g.Z)(e)},e.headers["app-token"]=k;const t=h.Z.getters["auth/authUserId"];t&&(e.headers["user-id"]=t),e.headers["x-bc"]=R()}return e})),_.interceptors.response.use((e=>{if(M=void 0,e.headers){const t=e.headers["user-id"],s=h.Z.getters["auth/authUserId"];if(!["/users/login-as-helper","/users/helper-logout"].some((t=>e.config.url.includes(`${T}${t}`)))&&t&&s&&+t!==+s)return window.showPreloader(),p.ZP.$emit("removeAllBeforeUnloadListeners"),p.ZP.$nextTick((()=>{window.location.reload()})),e;const r=e.headers.date?+new Date(e.headers.date):Date.now();h.Z.commit("init/setCurrentDate",r);const{neededReload:a,currentRev:i}=h.Z.state.init,n=e.headers["x-of-rev"];!a&&n&&(null===i?h.Z.commit("init/setCurrentRev",n):i!==n&&h.Z.commit("init/setNeededReload",!0))}return e}),(async e=>{var t;h.Z.commit("formApiErrors/setErrorCondition",!1),p.ZP.$emit("globalRequestErrorListeners",e);const s=e.response||e,r=u()(e,"response.headers");if(r){const e=r["user-id"],t=h.Z.getters["auth/authUserId"];if(e&&t&&+e!==+t||400===s.status&&301===u()(s,"data.error.code"))return window.showPreloader(),p.ZP.$emit("removeAllBeforeUnloadListeners"),p.ZP.$nextTick((()=>{window.location.reload()})),Promise.reject(s)}if((e instanceof Error&&"Network Error"===e.message||(null===e||void 0===e||null===(t=e.request)||void 0===t?void 0:t.status)>=500)&&(M?m()(M,e.config)?(M=void 0,u()(p.ZP,"$children[0].$children[0]._isMounted")?alert(p.ZP.$t("message.api_error")):p.ZP.$once("mounted",(()=>{alert(p.ZP.$t("message.api_error"))})),h.Z.commit("init/setApiError",!0)):M=void 0:({config:M}=e)),e.request){let t=!0;if((e.request.status<500||e instanceof Error&&"Network Error"===e.message||"string"===typeof s.data&&s.data.toLowerCase().includes("blocked by "))&&(t=!1),401===u()(e,"response.status")&&"SignPage"!==p.ZP.$route.name){h.Z.commit("init/setInitAuth",!1),h.Z.commit("auth/setAuthUser",null),h.Z.commit("modals/otpModalShow",!1,{root:!0}),h.Z.dispatch("logout");const e={},t=p.ZP.$route.query.return_to||p.ZP.$route.fullPath;return"/"!==t&&(e.return_to=t),f.Z.push({name:"Feed",params:{isLogout:!0},query:e}),Promise.reject(new Error("silent"))}t=P(e,t);const r=S(e,t);({sendToSentry:t}=r);const{is120:a}=r;if(a)return Promise.reject(new Error("silent"));if("session_lock"===u()(e,"response.data.error.code")&&(t=!1),101===u()(e,"response.data.error.code")){t=!1;const s=u()(e,"response.data.error.payload.otpState")||{};h.Z.commit("modals/setOtpModal",{title:e.response.data.error.message,strong:!!u()(e,"response.data.error.payload.strong"),phone:!!s.phoneOtp&&!s.forceFaceOtp,app:!!s.appOtp&&!s.forceFaceOtp,email:!!s.email&&!s.forceFaceOtp,phoneCode:s.phoneCode,phoneLast4:s.phoneLast4,face:!!s.faceOtp||!!s.forceFaceOtp},{root:!0}),h.Z.commit("modals/otpModalShow",!0,{root:!0})}if(105===u()(e,"response.data.error.code")&&(t=!1),117===u()(e,"response.data.error.code"))return await(0,b.Z)(),Promise.reject(s);const i=u()(e,"request.responseURL")||u()(e,"config.url","");if(!i||-1===i.indexOf("/payments/pay")&&-1===i.indexOf("/users/login")&&-1===i.indexOf("/users/register")&&-1===i.indexOf("/users/forgot-password")||(t=!1),t){const t=new Error(i);t.name=`API error ${e.request.status}`,Sentry.withScope((s=>{s.setTag("responseStatus",e.request.status),s.setExtra("response",e.request.response),Sentry.captureException(t)}))}i&&-1!==i.indexOf("/init")&&200!==e.request.status&&(0,v.D)()}return Promise.reject(s)}));const O=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16)}`)),Z=(e,t=null)=>{if(!c()(e))return"";let s=Object.keys(e).map((s=>{const r=e[s];if(![void 0,null,""].includes(r)){if("object"===typeof r){const e=t?`${t}[${s}]`:s;return Z(r,e)}return t?`${t}[${Number.isInteger(+s)?"":s}]=${O(r)}`:`${s}=${O(r)}`}})).filter((e=>!!e)).join("&");return s&&!t&&(s=`?${s}`),s},B=e=>{try{const t=new URL(e),{search:s,pathname:r}=t,a=["stripe","epayservice","payoneer"],i=[window.location.hostname,`www.${window.location.hostname}`,"onlyfans.com","www.onlyfans.com","onlyfans.com","www.onlyfans.com","of.com","www.of.com"],n=r.split("/")[1];if(n&&a.includes(n))return!1;if(!i.includes(t.hostname))return!1;const o=f.Z.getMatchedComponents(r);if(Array.isArray(o)&&o.length>1){const e=o[1];if(e&&e.isErrorPage)return!1}return s?r+s:r}catch(t){}return!1},j=e=>{let{target:t}=e;if(t&&"A"!==t.tagName&&(t=t.closest("a")),t&&"A"===t.tagName&&t.href){const{altKey:s,ctrlKey:r,metaKey:a,shiftKey:i,button:n,defaultPrevented:o}=e;if(a||s||r||i)return!1;if(o)return;if(void 0!==n&&0!==n)return!1;const c=t.getAttribute("target");return!/\b_blank\b/i.test(c)&&B(t.href)}return!1},W=e=>{const t=j(e);if(t){e.preventDefault(),p.ZP.$emit("bv::hide::modal","ModalAlert"),p.ZP.$emit("bv::hide::modal","ModalUserAlert");let{target:s}=e;s&&"A"!==s.tagName&&(s=s.closest("a"));const r=s.closest(".toast");r&&p.ZP.$bvToast.hide(r.id),f.Z.push(t)}},V=(e,t)=>{const s=j(e);if(s){e.preventDefault(),p.ZP.$emit("bv::hide::modal","ModalAlert"),p.ZP.$emit("bv::hide::modal","ModalUserAlert");let{target:r}=e;r&&"A"!==r.tagName&&(r=r.closest("a"));const{route:a}=f.Z.resolve(s),{authorId:i}=t,{name:n,params:{userId:o}}=a;"Profile"===n&&o!==i&&(a.params.profileStatSource="post_mention");const c=r.closest(".toast");c&&p.ZP.$bvToast.hide(c.id),f.Z.push(a)}},q={},N=e=>{let t=!1;q[e]&&q[e].source&&(q[e].source.cancel(),q[e]=null,t=!0);const{CancelToken:s,Cancel:a}=r.ZP;return q[e]||(q[e]={}),q[e].source=s.source(),{cancelToken:q[e].source.token,isCancelled:t,Cancel:a}},H=e=>{const{isCancel:t}=r.ZP;return t(e)};var z=A},993043:function(e,t,s){"use strict";s.d(t,{$7:function(){return p},Bw:function(){return f},EC:function(){return u},Sf:function(){return l}});var r=s(227361),a=s.n(r),i=(s(333948),s(727484)),n=s.n(i),o=s(849344),c=s(999023),d=s(596012);const u=({list:e})=>{const t=[];return Object.keys(e).forEach((s=>{const r=e[s];if(r.post&&r["saved_for_later_post"]){const{post:e,saved_for_later_post:t}=r,s=e+t;r.posts={sum:s,value:Math.round(e/s*100)},delete r.post,delete r["saved_for_later_post"]}Object.keys(r).forEach((r=>{const a={start:n()(s).toDate(),date:n()(s).format("YYYY-MM-DD")};"posts"===r?(a.type=r,a.name=String(e[s][r].sum),a.value=String(e[s][r].value)):(a.type="saved_for_later_post"===r?"sfl-post":r,a.name=String(e[s][r])),t.push(a)}))})),t},l=e=>{const t={};if(e.forEach((e=>{const s=n()(e.publishDateTime).format("YYYY-MM-DD");t[s]?t[s].push(e):t[s]=[e]})),Object.keys(t).length){const e={},s=Object.keys(t).sort(((e,t)=>n()(e).isAfter(n()(t))?1:-1));return s.forEach((s=>{e[s]=t[s]})),e}return t},m=e=>{if(!e)return(void 0).$route;const{author:t}=e;return t.subscribedBy?{name:"Post",params:{postId:e.id,userId:t.id}}:{name:"Profile",params:{userId:t.id}}},h=async({commit:e,postsWithLinkedUsers:t,commitName:s})=>{const r={},a=[],i=[];t.forEach((e=>e.entity.linkedPosts.forEach((e=>{a.includes(e.id)||a.push(e.id),i.includes(e.author.id)||i.push(e.author.id)}))));const n=a.map((e=>(0,o.u_)(e))),d=i.map((e=>(0,c.PR)(e))),u=await Promise.all(n),l=await Promise.all(d);u&&(t.forEach((e=>{r[e.entity.id]=e.entity.linkedPosts.map((e=>{const t=u.find((t=>t.id===e.id)),s=l.find((t=>t.id===e.author.id));return{post:{...e,author:s||e.author},link:m(t)}}))})),e(s,r,{root:!0}))},f=async({commit:e,list:t,commitName:s})=>{const r=t.filter((e=>{const t=a()(e,"entity.linkedPosts.length")||0;return"post"===e.type&&t}));r.length&&await h({commit:e,postsWithLinkedUsers:r,commitName:s})},p=async({commit:e,id:t})=>{let s;try{s=await(0,d.PF)(t)}catch(r){}return s&&s.success&&e("deleteItem",t),s}},173764:function(){(()=>{window.STATIC_PAGES=[{url:"help",name:{en:"Help",fr:"Aide or Assitant",es:"Ayuda",it:"Aiuto",zh:"帮助",pt:"Ajuda",uk:"Допомога",de:"Hilfe",tw:"幫助",ro:"Ajutor",hi:"सहायता",ru:"Помощь"},type:"faq",inFooter:!0},{url:"about",name:{en:"About",fr:"Sur Nous",es:"Sobre OnlyFans",it:"Dicono di noi",zh:"关于",pt:"Sobre",uk:"Про нас",de:"Über",tw:"關於網站",ro:"Despre",hi:"बारे में",ru:"О нас"},inFooter:!0},{url:"https://blog.onlyfans.com/",name:{en:"Blog",zh:"博客",uk:"Блог",tw:"博客",hi:"ब्लॉग",ru:"Блог"},isExtLink:!0,target:"_blank",inFooter:!0},{url:"brand",name:{en:"Branding",fr:"Image de Marque",es:"La construcción de marca",zh:"品牌",pt:"Marca",uk:"Брендинг",tw:"品牌",hi:"ब्रांडिंग",ru:"Брендинг"},type:"page",target:"_blank",inFooter:!0},{url:"https://store.onlyfans.com/",name:{en:"Store",fr:"E-Boutique",es:"Tienda en línea",it:"Negozio",zh:"商店",pt:"Loja",uk:"Магазин",tw:"商店",ro:"Magazin",hi:"दुकान",ru:"Магазин"},isExtLink:!0,target:"_blank",inFooter:!0},{url:"terms",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"服务条款",pt:"Termos de Serviço",uk:"Умови використання",de:"Service-Bedingungen",tw:"服務條款",ro:"Termenii de utilizare",hi:"सेवा की शर्तें",ru:"Условия использования"},target:"_blank",inFooter:!0},{url:"privacy",name:{en:"Privacy",fr:"Règles de Confidentialité",es:"Privacidad",zh:"隐私",pt:"Privacidade",uk:"Конфіденційність",de:"Datenschutz",tw:"隱私",ro:"Confidențialitate",hi:"गोपनीयता",ru:"Конфиденциальность"},target:"_blank",inFooter:!0,inSidebarFooter:!0},{url:"terms#complaints-policy",name:{en:"Complaints Policy",fr:"Politique de Plaintes",es:"Reclamos y política",it:"Informativa Reclami",zh:"投诉政策",pt:"Política de reclamações",uk:"Політика відповідності",de:"Reklamationspolitik",tw:"投訴政策",ro:"Politica de plângeri",hi:"शिकायत नीति",ru:"Политика жалоб"},target:"_blank",inFooter:!0},{url:"cookies",name:{en:"Cookie Notice",fr:"Notice de Cookie",es:"Aviso sobre cookies",it:"Informativa sui Cookie",zh:"Cookie 声明",pt:"Aviso de Cookies",uk:"Сповіщення про файли cookie",de:"Cookie-Hinweise",tw:"Cookie通知",ro:"Notificare privind cookie-urile",hi:"कुकी नोटिस",ru:"Уведомление о файлах cookie"},target:"_blank",inFooter:!0,inSidebarFooter:!0},{url:"dmca",name:{en:"DMCA",fr:"Copyright DMCA",tw:"DMCA條款",hi:"डीएमसीए"},type:"page",inFooter:!0},{url:"usc2257",name:{en:"USC 2257",hi:"यूएससी"},type:"usc2257",target:"_blank",inFooter:!0},{url:"contract",name:{en:"Standard Contract between Fan and Creator",fr:"Contrat Standard entre Fan et Créateur",es:"La norma de contrato entre fan y creador",it:"Contratto Standard tra Fan e Creatore",zh:"Fan 与创作者间的标准合同",pt:"Contrato Padrão entre Fã e Criador",uk:"Стандартний контракт між шанувальником та автором",de:"Standardvertrag zwischen Fan und Urheber",tw:"粉絲和用戶的合同",ro:"Contractul standard dintre fan și creator",hi:"प्रशंसक और निर्माता के बीच मानक संपर्क",ru:"Типовой Договор между Фанатом и Автором"},target:"_blank",inFooter:!0},{url:"contacts",name:{en:"Contact",es:"Contacto",it:"Contatti",zh:"联系",pt:"Contato",uk:"Контакти",de:"Kontakt",tw:"聯繫",hi:"संपर्क",ru:"Контакты"},type:"contacts",inFooter:!1},{url:"license_form",name:"License",type:"license",inFooter:!1},{url:"https://twitter.com/onlyfans",name:"Twitter",target:"_blank",isExtLink:!0,inFooter:!1},{url:"transparency-center",name:{en:"OnlyFans Safety & Transparency Center",fr:"Centre de sécurité et de transparence OnlyFans",es:"Centro de seguridad y transparencia de OnlyFans",it:"Centro per la sicurezza e la trasparenza di OnlyFans",zh:"OnlyFans 安全與透明中心",pt:"Centro de Segurança e Transparência OnlyFans",uk:"Центр безпеки та прозорості OnlyFans",de:"OnlyFans Sicherheits- und Transparenzzentrum",tw:"OnlyFans ศูนย์ความปลอดภัยและความโปร่งใส",ro:"Centrul de siguranță și transparență OnlyFans",hi:"केवल प्रशंसक सुरक्षा और पारदर्शिता केंद्र",ru:"Центр безопасности и прозрачности OnlyFans"},type:"referrals",inFooter:!0},{url:"banking-help",name:"Adding a Bank Account",type:"page",inFooter:!1},{url:"terms-of-service",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"服务条款",pt:"Termos de Serviço",uk:"Умови використання",de:"Service-Bedingungen",tw:"服務條款",ro:"Termenii de utilizare",hi:"सेवा की शर्तें",ru:"Условия использования"},type:"page",target:"_blank",inFooter:!1,inSidebarFooter:!0},{url:"tos",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"服务条款",pt:"Termos de Serviço",uk:"Умови використання",de:"Service-Bedingungen",tw:"服務條款",ro:"Termenii de utilizare",hi:"सेवा की शर्तें",ru:"Условия использования"},type:"page",inFooter:!1},{url:"tosd",name:{en:"Terms of Service",fr:"Conditions d`Utilisation",es:"Condiciones de uso",it:"Termini di Servizio",zh:"服务条款",pt:"Termos de Serviço",uk:"Умови використання",de:"Service-Bedingungen",tw:"服務條款",ro:"Termenii de utilizare",hi:"सेवा की शर्तें",ru:"Условия использования"},type:"page",inFooter:!1},{url:"antitraffickingstatement",name:{en:"Anti-Slavery and Anti-Trafficking Statement",fr:"Déclaration contre l'esclavage et la traite",es:"Declaración contra la esclavitud y la trata",it:"Dichiarazione contro la schiavitù e la tratta",zh:"反奴役和反人口販賣聲明",pt:"Declaração antiescravagista e antitráfico",uk:"Заява про боротьбу з рабством і торгівлею людьми",de:"Erklärung zur Bekämpfung von Sklaverei und Menschenhandel",tw:"คำชี้แจงเกี่ยวกับการต่อต้านการเป็นทาสและการค้ามนุษย์",ro:"Declarație anti-sclavie și anti-trafic",hi:"गुलामी विरोधी और तस्करी विरोधी बयान",ru:"Заявление о борьбе с рабством и торговлей людьми"},inFooter:!0},{url:"terms#acceptable-use-policy",name:{en:"Acceptable Use Policy",fr:"Politique d'Utilisation Acceptable ",es:"Política de uso aceptable",it:"Politica di Utilizzo Accettabile",zh:"可接受使用策略",pt:"Política de Uso",uk:"Політика допустимого використання",de:"Akzeptable Nutzung",tw:"可接受的使用政策",ro:"Politica de utilizare acceptată",hi:"स्वीकार्य उपयोग नीति",ru:"Политика приемлемого использования"},target:"_blank",inFooter:!0}]})()},872308:function(e,t,s){"use strict";s.d(t,{D5:function(){return l},OH:function(){return h},Pe:function(){return u},b$:function(){return m},cT:function(){return d},cc:function(){return o},eU:function(){return f},k2:function(){return c}});s(333948),s(573210);var r=s(964779),a=s(720144);const i=()=>Promise.all([s.e(13983),s.e(38491),s.e(88102),s.e(30306),s.e(83268),s.e(47705),s.e(48050),s.e(79411),s.e(97146),s.e(15776),s.e(23108),s.e(51474),s.e(9980),s.e(78646),s.e(45350),s.e(30296),s.e(69125),s.e(12741),s.e(24690),s.e(27148),s.e(22168),s.e(12768),s.e(85622),s.e(83010),s.e(61778),s.e(15409),s.e(97443),s.e(71850),s.e(52586),s.e(31658),s.e(93545),s.e(22217),s.e(23223)]).then(s.t.bind(s,713983,23)),n=a["default"].extend(r.Z),o=async e=>{if(!window.streamModule){const t=await i();window.streamModule=new t.StreamModule(e)}},c=async(e,t="webrtc")=>{if(window.viewModule||(window.viewModule={}),!window.viewModule[e]){const s=await i();window.viewModule[e]=new s.ViewModule(t)}},d=()=>{window.streamModule&&window.streamModule.stopStream(!1,"StreamStoppedBeforeModuleDestroy"),delete window.streamModule},u=(e,t)=>{if(window.viewModule){const s=window.viewModule[e];s&&s.stopStream(!1,!0,t)}},l=({instance:e,leave:t=!0,reason:s})=>{window.viewModule&&window.viewModule[e]&&(t&&u(e,s),delete window.viewModule[e])},m=({vm:e,authUser:t,toUser:s,amount:r,message:a})=>{let i;return i=t.id==s.id?e.$root.$t("message.stream_tip_comment",{SUMM:`<strong>${r}</strong> `}):e.$t("message.stream_tip_comment_customer",{SUMM:`<strong>${r}</strong> `,MODEL:s.name}),a&&(i+=`<br>${a.trim()}`),i},h=(e,t)=>{const s=t||document.getElementById(`video_${e.streamUserId}`),r=document.getElementById(`video_container_${e.streamUserId}`);if(!s||!r)return;let a=0,i="100%";const o=s;let{videoWidth:c,videoHeight:d}=o;const u=d/c,l=o.offsetWidth,m=o.offsetHeight,h=m/l;u>h?(d=m,c=d/u):(c=l,d=c*u);const f=e.x*c,p=e.y*d;f&&(a=f-25+(l-c)/2,i=p+40+(m-d)/2);const g=new n({propsData:{startLeft:a,startTop:i}});g.$mount(),r.appendChild(g.$el),setTimeout((()=>{r&&r.removeChild(g.$el),g.$destroy()}),1500)},f={streamTypes:{agora:"CloudBeta",webrtc:"WebRTC",tcp:"TCP",nano:"Low latency"},canCostreamingStreamTypes:["webrtc","tcp","hls","llhls"],defaultStreamType:"agora",costreamingTypeMappings:{webrtc:"webrtc",tcp:"webrtc",hls:"webrtc",llhls:"webrtc",agora:"agora"}}},310569:function(e,t,s){"use strict";s.d(t,{Ao:function(){return $},Ay:function(){return T},BI:function(){return u},C6:function(){return r},FX:function(){return k},JX:function(){return i},PT:function(){return l},Q$:function(){return w},SX:function(){return f},U0:function(){return v},Yt:function(){return g},Z1:function(){return p},at:function(){return S},bT:function(){return c},e5:function(){return b},f_:function(){return d},hL:function(){return m},i2:function(){return h},iZ:function(){return y},jq:function(){return I},kY:function(){return C},l$:function(){return o},pK:function(){return a},vu:function(){return P},y9:function(){return n}});const r="all",a="commented",i="replied",n="mentioned",o="favorited",c="subscribed",d="tip",u="message",l="purchases",m="price_changed",h="paided_post",f="paided_message",p="system",g="deactivated_media",y="subscribe_was_expired",v="new_trial",P="soon_expire_autoprolong_disabled",S="new_stream",w="reminder_stream",b="new_tips_fund_raising",I="photo",k="gif",C="video",T="audio",$=[I,k,C]},502568:function(e,t){"use strict";t["Z"]=()=>{const e=Date.now().toString(36),t=Math.random().toString(36).substring(2);return e+t}},738129:function(e,t,s){"use strict";s.d(t,{$g:function(){return u},MX:function(){return M},OW:function(){return A},S4:function(){return x},T5:function(){return l},Xg:function(){return o},at:function(){return D},lD:function(){return m},tJ:function(){return i},vc:function(){return n},vq:function(){return I},yK:function(){return _}});s(333948);var r=s(437035);const a=e=>Array.isArray(e)&&e.length?e.reduce(((e,{name:t,children:s})=>t?[...e,t,...s?a(s):[]]:e),[]):[],i=a(r.H),n=a(r.Hh),o=a(r.Ii),c=["Subscribers","SubscribersByType","Promotions","Subscribes","SubscribesByType"],d=["order_field","order_dir"],u="FILTERS_SUBSCRIBERS_MODAL",l="FILTERS_SUBSCRIBERS_ALL",m="FILTERS_SUBSCRIBES_ALL",h=["total_spent","tips","duration","inactive","recommenders","signed_up_before","signed_up_after","online","spent_date_start","spent_date_end"],f=[...h,"recommender_id","promoId"],p=["paid","online"],g={[u]:h,[l]:f,[m]:p},y={"Subscribers::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::active":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::expired":{order_field:["last_activity","users.name","expire_date","subscribe_date","total_duration","is_expired","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::restricted":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::blocked":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribersByType::activity":{order_field:["last_activity","users.name","summ_subscribes","summ_post","summ_chat_messages","summ_call","summ_stream","summ_tips","summ_total"],order_dir:["asc","desc"]},"Promotions::promo":{order_field:["users.name","create_date","is_finished","subscribe_days","expire_date","finish_date"],order_dir:["asc","desc"]},"Subscribes::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::active":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::expired":{order_field:["last_activity","users.name","expire_date","subscribe_date","total_duration","is_expired","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::restricted":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"SubscribesByType::blocked":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"RestrictedUsers::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"BlockedUsers::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]},"UsersLists::all":{order_field:["last_activity","users.name","expire_date","new_price","subscribe_date","total_duration","expires","unsubscribes_reasons.sort"],order_dir:["asc","desc"]}},v=[{name:"last_activity",label:"subscribers_activity_last_title",sub:"all|active|expired|activity|restricted|blocked"},{name:"users.name",label:"subscribers_name_title",sub:"all|active|expired|activity|restricted|blocked|promo"},{name:"summ_subscribes",label:"subscribers_activity_subscribes_summ_title",sub:"activity"},{name:"summ_post",label:"subscribers_activity_posts_title",sub:"activity"},{name:"summ_chat_messages",label:"subscribers_activity_chats_summ_title",sub:"activity"},{name:"summ_stream",label:"subscribers_activity_live_streams_title",sub:"activity"},{name:"summ_tips",label:"subscribers_activity_tips_summ_title",sub:"activity"},{name:"summ_total",label:"subscribers_activity_total_summ_title",sub:"activity"},{name:"expire_date",label:"subscribers_current_subscription_title",sub:"active"},{name:"expire_date",label:"subscribers_previous_subscription_title",sub:"expired"},{name:"expire_date",label:"subscribers_subscription_title",sub:"all|restricted|blocked"},{name:"new_price",label:"subscribers_new_price_title",sub:"all|active|restricted|blocked"},{name:"subscribe_date",label:"subscribers_started_title",sub:"all|active|expired|restricted|blocked"},{name:"total_duration",label:"subscribers_total_duration_title",sub:"all|active|expired|restricted|blocked"},{name:"expires",label:"subscribers_renews_expires_title",sub:"all|active|restricted|blocked"},{name:"is_expired",label:"subscribers_expired_sort_title",sub:"expired"},{name:"unsubscribes_reasons.sort",label:"subscribers_reason_title",sub:"all|active|expired|restricted|blocked"},{name:"create_date",label:"subscribers_offer_sent_title",sub:"promo"},{name:"is_finished",label:"subscribers_offer_current_offer_title",sub:"promo"},{name:"subscribe_days",label:"subscribers_offer_duration_title",sub:"promo"},{name:"expire_date",label:"subscribers_offer_expires_title",sub:"promo"},{name:"finish_date",label:"subscribers_offer_claimed_title",sub:"promo"}];let P="";const S={},w=e=>{const{name:t,params:{type:s=""}}=e;switch(!0){case"Promotions"===t:return"promo";case["Subscribers","Subscribes","RestrictedUsers","BlockedUsers"].includes(t):return"all";case o.includes(t):return"all";default:return`${s}`}},b=e=>{const{name:t}=e,s=w(e);switch(!0){case o.includes(t):return`UsersLists::${s}`;default:return`${t}::${s}`}},I=e=>{e&&(P=b(e))},k=e=>S[`${P}::${e}`],C=e=>c.includes(e.name),T=(e,t)=>{if(!d.includes(e))return!0;const s=k(e)||[];return!!s&&s.includes(t)},$=e=>{const t=Object.entries(e.query).some((([e,t])=>!T(e,t)));return t},L=e=>Object.entries(e.query).reduce(((e,[t,s])=>T(t,s)?{...e,[t]:s}:e),{}),M=e=>(I(e),k("sortOptions")||[]),_=e=>C(e)&&$(e),A=e=>{const t=L(e);return{...e,query:t}},F=(e,t)=>{if(t&&g[t])return g[t];const{name:s}=e;return"Subscribes"===s||"SubscribesByType"===s?g[m]||[]:g[u]||[]},x=(e,t)=>{const s=F(e,t),r={...e.query};return s.reduce(((e,t)=>void 0===r[t]?e:{...e,[t]:r[t]}),{})},D=(e,t)=>{const s=F(e,t),r={...e.query};return Object.entries(r).reduce(((e,[t,r])=>s.includes(t)?e:{...e,[t]:r}),{})},E=()=>{Object.entries(y).forEach((([e,{order_field:t,order_dir:s}])=>{const[,r]=e.split("::"),a=v.filter((({name:e,sub:s})=>t.includes(e)&&s.includes(r)));S[`${e}::sortOptions`]=a,S[`${e}::order_field`]=t,S[`${e}::order_dir`]=s}))};E()},258373:function(e,t,s){var r={"./ar":[514837,14837],"./ar.js":[514837,14837],"./az":[139410,39410],"./az.js":[139410,39410],"./bg":[6916,6916],"./bg.js":[6916,6916],"./ca":[548528,48528],"./ca.js":[548528,48528],"./cs":[846664,46664],"./cs.js":[846664,46664],"./da":[99235,99235],"./da.js":[99235,99235],"./de":[639948,39948],"./de.js":[639948,39948],"./el":[832492,32492],"./el.js":[832492,32492],"./en":[224685,24685],"./en.js":[224685,24685],"./es":[482953,82953],"./es.js":[482953,82953],"./et":[749724,49724],"./et.js":[749724,49724],"./eu":[15073,15073],"./eu.js":[15073,15073],"./fa":[724910,24910],"./fa.js":[724910,24910],"./fi":[405095,5095],"./fi.js":[405095,5095],"./fr":[643786,43786],"./fr.js":[643786,43786],"./he":[265734,65734],"./he.js":[265734,65734],"./hi":[511888,11888],"./hi.js":[511888,11888],"./hr":[909084,9084],"./hr.js":[909084,9084],"./hu":[49180,49180],"./hu.js":[49180,49180],"./id":[144661,44661],"./id.js":[144661,44661],"./it":[854781,54781],"./it.js":[854781,54781],"./ja":[236890,36890],"./ja.js":[236890,36890],"./ka":[577972,77972],"./ka.js":[577972,77972],"./ko":[125706,25706],"./ko.js":[125706,25706],"./lt":[627209,27209],"./lt.js":[627209,27209],"./lv":[80309,80309],"./lv.js":[80309,80309],"./mn":[89517,89517],"./mn.js":[89517,89517],"./ms_MY":[446130,46130],"./ms_MY.js":[446130,46130],"./nb_NO":[898133,98133],"./nb_NO.js":[898133,98133],"./ne":[674349,74349],"./ne.js":[674349,74349],"./nl":[304374,4374],"./nl.js":[304374,4374],"./nn_NO":[130565,30565],"./nn_NO.js":[130565,30565],"./pl":[207406,7406],"./pl.js":[207406,7406],"./pt_BR":[906348,6348],"./pt_BR.js":[906348,6348],"./pt_PT":[200050,50],"./pt_PT.js":[200050,50],"./ro":[826226,26226],"./ro.js":[826226,26226],"./ru":[208949,8949],"./ru.js":[208949,8949],"./sk":[995066,95066],"./sk.js":[995066,95066],"./sl":[442960,42960],"./sl.js":[442960,42960],"./sq":[986419,86419],"./sq.js":[986419,86419],"./sr":[138992,38992],"./sr.js":[138992,38992],"./sr_Latin":[36257,36257],"./sr_Latin.js":[36257,36257],"./sv":[442147,42147],"./sv.js":[442147,42147],"./th":[496617,96617],"./th.js":[496617,96617],"./tr":[850107,50107],"./tr.js":[850107,50107],"./uk":[665287,65287],"./uk.js":[665287,65287],"./vi":[38689,38689],"./vi.js":[38689,38689],"./zh_CN":[144051,44051],"./zh_CN.js":[144051,44051],"./zh_TW":[831110,31110],"./zh_TW.js":[831110,31110]};function a(e){if(!s.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return s.e(t[1]).then((function(){return s.t(a,23)}))}a.keys=function(){return Object.keys(r)},a.id=258373,e.exports=a},501078:function(e,t,s){var r={"./auth.js":397235,"./banking.js":906189,"./bundles.js":497965,"./campaigns.js":807394,"./chats.js":835401,"./comments.js":206060,"./creditTransactions.js":474878,"./currentPlayMedia.js":928658,"./draft.js":849156,"./formApiErrors.js":979155,"./hints.js":229551,"./index.js":211988,"./init.js":901371,"./lastPosts.js":732700,"./live.js":954075,"./massMessagesStat.js":478831,"./mediaVault.js":796053,"./misc.js":193263,"./modals.js":172441,"./offers.js":544956,"./payments.js":702817,"./performerHelpers.js":260950,"./photoSwipe.js":802333,"./postLabels.js":784819,"./postStatCollector.js":557910,"./posts.js":274889,"./referrals.js":818474,"./releaseForms.js":50473,"./router.js":669479,"./savedForLater.js":258135,"./schedule.js":453398,"./settings.js":363345,"./shopify.js":556208,"./socket.js":325928,"./statements.js":487979,"./static.js":225720,"./statistic.js":798427,"./stories.js":746382,"./streaming.js":982049,"./streams.js":966312,"./streamsPast.js":269186,"./streamsScheduled.js":971708,"./subscribers.js":79233,"./subscribes.js":514614,"./translations.js":699560,"./users.js":857107,"./usersLists.js":595097};function a(e){var t=i(e);return s(t)}function i(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=501078}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,s),i.loaded=!0,i.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,r,a,i){if(!r){var n=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],i=e[u][2];for(var o=!0,c=0;c<r.length;c++)(!1&i||n>=i)&&Object.keys(s.O).every((function(e){return s.O[e](r[c])}))?r.splice(c--,1):(o=!1,i<n&&(n=i));if(o){e.splice(u--,1);var d=a();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,a,i]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};s.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);s.r(i);var n={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){n[e]=function(){return r[e]}}));return n["default"]=function(){return r},s.d(i,n),i}}(),function(){s.d=function(e,t){for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,r){return s.f[r](e,t),t}),[]))}}(),function(){s.u=function(e){return({335:"statements-vat",394:"statistics-fans-d754f73d",487:"aws-sdk-37665a8e",785:"aws-sdk-c3373795",2889:"media-vault",3045:"post-labels-00833fa6",3490:"statistics-fans-7deb0c35",4112:"search-6e813ef5",4156:"search-ff450f92",4305:"static-transparency-report-center-privacy",4856:"chats-5c551db8",5276:"static-transparency-report-center-verification",7319:"settings-display",7544:"main-a460eb09",8742:"settings-performer-helpers",9446:"search-b778d3f3",9595:"static-license",9966:"search-017397ff",10653:"settings-qr",10852:"aws-sdk-5211a47b",11416:"statistics-fans-b49fab05",11453:"referrals-017397ff",11671:"uploader",11999:"chats-ada90e9a",13145:"actions-confirm-email",14377:"release-form",14686:"statementsVat",15409:"live-d8f35eaa",17447:"chats-a87a1724",17784:"aws-sdk-7bd36f9a",18338:"ChartJs-017397ff",18546:"post-labels-b80f15b3",18862:"settings-shopify",18917:"search-ada90e9a",19067:"web3",19875:"lists-promotions-017397ff",20041:"error",20536:"main-017397ff",21293:"search-315571a1",21774:"payments-alternative-add",22125:"static-transparency-report-center-commitment",22217:"live-c17b433d",23223:"live-d87c119a",23234:"search-d87c119a",23407:"search-726ef3d7",23547:"static-help-center-d87c119a",23598:"static-transparency-report-center",24159:"MakeFeedPost-cb6f7031",24872:"ChartJs-ad6a2f20",24938:"chats-59a1fdf3",25191:"static-statement",25561:"MakeFeedPost-b80f15b3",26492:"search-ad6a2f20",26650:"chats-b80f15b3",26668:"static-download-report",26770:"banking-wrapper-5c501f79",27126:"additionally-b3275acb",27401:"payments-d87c119a",27444:"settings-google",28843:"MakeFeedPost-215cad8b",29201:"statistics-earnings",29252:"static-help-center-017397ff",29860:"referrals-c17b433d",30808:"ChartJs-d87c119a",30899:"settings-security",31127:"static-transparency-report-assisting",31658:"live-11aeed1f",31786:"settings-spotify",32257:"banking-vat",32642:"search-78a34c87",32650:"vault-lists",33220:"static-transparency-report-center-preventing",34513:"aws-sdk-979dd616",35395:"search-c5a43717",36460:"additionally-017397ff",36867:"post-labels-215cad8b",37685:"payments-c17b433d",38154:"settings-things-i-like",38459:"aws-sdk-91a1aed6",39265:"search-399af916",39328:"chats-list-017397ff",40122:"chats-d87c119a",40134:"banking-w9-702dd3d6",40371:"settings-windows-hello-authentication",40944:"settings-subscription",42143:"statistics-fans-c17b433d",42356:"hellosign-e4ef477f",43199:"settings-spotify-anthem",43249:"search-501a41ce",43743:"aws-sdk-7721dd11",44029:"settings-advanced",44998:"search-33aac64c",46483:"search-a87a1724",46776:"chats-list-bc050c32",47125:"search-4c120c8f",47208:"chats-list-d87c119a",47284:"chats-c47db225",47808:"banking-page",48063:"referrals-5c551db8",48532:"chats-stats",48814:"aws-sdk-b62063cd",48890:"chats-4a6eb23e",48951:"banking-vat-create-doc",49342:"TributeJS",49408:"settings-sessions",50162:"banking-vat-change",50676:"aws-sdk-9abb97e8",50993:"chats-dc133cc6",50999:"post-labels-4c120c8f",51039:"search-d890ccf5",51412:"search-bcbc4440",51602:"static-compliance",52308:"search-727dda75",52309:"static-help-center-2e3a7503",52576:"statements",52586:"live-093652e0",54602:"statements-payout",55029:"MakeFeedPost-a1ab1bb5",55757:"feed-page",56072:"MakeFeedPost-bc050c32",56496:"aws-sdk-69df323b",56861:"post-labels-d87c119a",57059:"ChartJs-c17b433d",57335:"ChartJs-6b8dd54e",57812:"aws-sdk-c0d76f48",58180:"ChartJs-06a5eddc",58201:"post-labels-a87a1724",58359:"eruda",58687:"streaming-dashboard",59066:"search-bf4554f1",59976:"payments-215cad8b",60249:"settings-language",60676:"settings-email",60769:"banking-vat-add-docs",60877:"payments-add-card",61039:"hellosign-003c3ef8",61389:"aws-sdk-8af8abc7",61765:"aws-sdk-1e832453",61778:"live-017397ff",62271:"banking-wrapper-4c120c8f",62296:"banking-wrapper-d99074a4",62822:"search-e0503c05",63323:"statistics-fans-bef0cc7a",63541:"chats-00833fa6",64015:"search-c2daedb7",64963:"chats-page",65226:"banking-payout-types",65725:"nft-gallery",66074:"report-dmca",66281:"MakeFeedPost-017397ff",69002:"statements-earning-stats",70058:"settings-sms",70518:"ChartJs-2dad7310",70809:"oauth-page",71169:"aws-sdk-b49fab05",71470:"static-law",71850:"live-cd6eef7a",72121:"statistics-fans-1c5cfd85",72387:"search-a2373e5c",73922:"settings-eth-wallet",74530:"banking-w9-017397ff",75019:"lists-promotions-ada90e9a",75044:"static-transparency-report",75059:"lists-promotions-d87c119a",75197:"statistics-fans-e6e59946",75931:"settings-country",76456:"payments-017397ff",77880:"banking-wrapper-b80f15b3",79930:"settings-ip",80729:"lists-user-lists",81262:"search-352e4cc0",81302:"static-transparency-report-center-tackling",81403:"ChartJs-4c120c8f",81545:"statistics-fans-017397ff",82784:"aws-sdk-014e3cf4",83863:"banking-verify",84413:"search-b2118fe7",84543:"statistics-fans-953ccc23",85430:"static",85454:"sign-page",85669:"static-transparency-report-center-safeguarding",85879:"settings-spotify-artists",86414:"aws-sdk-577f2249",86463:"static-transparency-report-helping",86652:"settings-page",86733:"banking-wrapper-a87a1724",88683:"static-brand",88784:"banking-wrapper-c3da4ff3",89869:"static-values",90214:"statistics-fans-93078888",90492:"settings-campaign-links",91405:"lists-promotions-215cad8b",92594:"statistics-disputes",92776:"settings-twitter",93491:"referrals-b6ebefd2",93545:"live-9fc423ca",94581:"actions-restore-access",95470:"referrals-2dd8d177",96216:"settings-fans",96308:"search-50587c82",96487:"streaming-chat",96699:"payments-cards",97278:"settings-social-media",97443:"live-65e9c26b",97537:"search-1656f0b4"}[e]||e)+".js?rev=202303011546-a20df7c5cb"}}(),function(){s.miniCssF=function(e){return({335:"statements-vat",2889:"media-vault",7544:"main-a460eb09",8742:"settings-performer-helpers",9446:"search-b778d3f3",9966:"search-017397ff",10653:"settings-qr",14377:"release-form",15409:"live-d8f35eaa",18338:"ChartJs-017397ff",18546:"post-labels-b80f15b3",18862:"settings-shopify",18917:"search-ada90e9a",20041:"error",20536:"main-017397ff",21774:"payments-alternative-add",23223:"live-d87c119a",23234:"search-d87c119a",23547:"static-help-center-d87c119a",26650:"chats-b80f15b3",26668:"static-download-report",27444:"settings-google",29201:"statistics-earnings",32257:"banking-vat",36460:"additionally-017397ff",36867:"post-labels-215cad8b",38154:"settings-things-i-like",39328:"chats-list-017397ff",40122:"chats-d87c119a",40371:"settings-windows-hello-authentication",40944:"settings-subscription",42143:"statistics-fans-c17b433d",43199:"settings-spotify-anthem",44998:"search-33aac64c",46483:"search-a87a1724",47208:"chats-list-d87c119a",47808:"banking-page",48532:"chats-stats",48951:"banking-vat-create-doc",49342:"TributeJS",50162:"banking-vat-change",52309:"static-help-center-2e3a7503",52576:"statements",54602:"statements-payout",55757:"feed-page",57059:"ChartJs-c17b433d",58687:"streaming-dashboard",59976:"payments-215cad8b",60676:"settings-email",60769:"banking-vat-add-docs",60877:"payments-add-card",64963:"chats-page",65226:"banking-payout-types",65725:"nft-gallery",66074:"report-dmca",66281:"MakeFeedPost-017397ff",70058:"settings-sms",70809:"oauth-page",71470:"static-law",72387:"search-a2373e5c",73922:"settings-eth-wallet",74530:"banking-w9-017397ff",75931:"settings-country",77880:"banking-wrapper-b80f15b3",79930:"settings-ip",80729:"lists-user-lists",81262:"search-352e4cc0",81545:"statistics-fans-017397ff",83863:"banking-verify",84413:"search-b2118fe7",85454:"sign-page",85879:"settings-spotify-artists",88683:"static-brand",89869:"static-values",90492:"settings-campaign-links",91405:"lists-promotions-215cad8b",92594:"statistics-disputes",93491:"referrals-b6ebefd2",96487:"streaming-chat",96699:"payments-cards",97278:"settings-social-media"}[e]||e)+".css?rev=202303011546-a20df7c5cb"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.hmd=function(e){return e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e}}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="of-vue:";s.l=function(r,a,i,n){if(e[r])e[r].push(a);else{var o,c;if(void 0!==i)for(var d=document.getElementsByTagName("script"),u=0;u<d.length;u++){var l=d[u];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==t+i){o=l;break}}o||(c=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[a];var m=function(t,s){o.onerror=o.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((function(e){return e(s)})),t)return t(s)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),c&&document.head.appendChild(o)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="https://static.onlyfans.com/theme/onlyfans/spa/"}(),function(){var e=function(e,t,s,r){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var i=function(i){if(a.onerror=a.onload=null,"load"===i.type)s();else{var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=n,c.request=o,a.parentNode.removeChild(a),r(c)}};return a.onerror=a.onload=i,a.href=t,document.head.appendChild(a),a},t=function(e,t){for(var s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var a=s[r],i=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var n=document.getElementsByTagName("style");for(r=0;r<n.length;r++){a=n[r],i=a.getAttribute("data-href");if(i===e||i===t)return a}},r=function(r){return new Promise((function(a,i){var n=s.miniCssF(r),o=s.p+n;if(t(n,o))return a();e(r,o,a,i)}))},a={32143:0};s.f.miniCss=function(e,t){var s={335:1,1802:1,2475:1,2576:1,2889:1,5605:1,5640:1,6989:1,7544:1,7665:1,8342:1,8471:1,8620:1,8742:1,8922:1,9446:1,9966:1,10329:1,10653:1,12741:1,14377:1,14551:1,15409:1,18338:1,18546:1,18862:1,18917:1,20041:1,20536:1,21774:1,23108:1,23223:1,23234:1,23547:1,24647:1,24690:1,24885:1,26650:1,26668:1,27069:1,27148:1,27444:1,29201:1,31152:1,31282:1,31671:1,32257:1,32406:1,32830:1,36460:1,36780:1,36867:1,38154:1,39097:1,39285:1,39328:1,40122:1,40371:1,40944:1,42143:1,42152:1,42758:1,43018:1,43199:1,44998:1,45912:1,46483:1,47208:1,47705:1,47808:1,47816:1,48050:1,48532:1,48951:1,48952:1,49342:1,50162:1,51365:1,52309:1,52576:1,54520:1,54602:1,55757:1,55885:1,56697:1,57059:1,58460:1,58687:1,59976:1,60389:1,60676:1,60769:1,60877:1,64963:1,65226:1,65725:1,66074:1,66281:1,66787:1,67727:1,68980:1,70058:1,70809:1,71267:1,71470:1,72325:1,72387:1,73314:1,73527:1,73922:1,74530:1,75568:1,75931:1,76173:1,77880:1,79930:1,80729:1,81262:1,81545:1,81988:1,83863:1,84413:1,85454:1,85879:1,86938:1,88303:1,88683:1,89144:1,89287:1,89869:1,90116:1,90492:1,91405:1,92140:1,92594:1,93134:1,93491:1,93833:1,96487:1,96699:1,97278:1,99977:1};a[e]?t.push(a[e]):0!==a[e]&&s[e]&&t.push(a[e]=r(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}(),function(){var e={32143:0,89218:0,72283:0};s.f.j=function(t,r){var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else if(/^(1(4551|8338|8546)|2(3108|4690|475|6650)|3(1152|2406|6780|9285)|66(281|787)|7(2283|2325|544|7880)|9(1405|3491|3833|9977)|42152|48050|5605|89218)$/.test(t))e[t]=0;else{var i=new Promise((function(s,r){a=e[t]=[s,r]}));r.push(a[2]=i);var n=s.p+s.u(t),o=new Error,c=function(r){if(s.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var i=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",o.name="ChunkLoadError",o.type=i,o.request=n,a[1](o)}};s.l(n,c,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,n=r[0],o=r[1],c=r[2],d=0;if(n.some((function(t){return 0!==e[t]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(c)var u=c(s)}for(t&&t(r);d<n.length;d++)i=n[d],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(u)},r=self["webpackChunkof_vue"]=self["webpackChunkof_vue"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=s.O(void 0,[33415,64381,82444,75640,24144,47701,93680,68863,9116,62392,46106,56155,99234,16122,95785,92847,38953,71632,35470,47371,1619,30935,7879,71981,25145,16738,69943,20136,79740,97527,12009,62327,51674,95109,2682,98469,92499,66219,87594,93779,80871,38013,34373,85969,14382,66037,89218,1379,5430,37086,93077,72030,75836,50299,10125,72283,41708],(function(){return s(198225)}));r=s.O(r)})();